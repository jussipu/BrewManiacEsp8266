<!doctype html><html lang="it"><head><meta charset=utf-8 name=viewport content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"><title>BrewManiac</title><script>var BMLIB_VERSION="0.4.8"</script><script type=text/javascript src=/bm.048.js ignore></script><script>!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Dygraph=t()}}(function(){return function r(o,s,l){function h(e,t){if(!s[e]){if(!o[e]){var a="function"==typeof require&&require;if(!t&&a)return a(e,!0);if(u)return u(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var n=s[e]={exports:{}};o[e][0].call(n.exports,function(t){return h(o[e][1][t]||t)},n,n.exports,r,o,s,l)}return s[e].exports}for(var u="function"==typeof require&&require,t=0;t<l.length;t++)h(l[t]);return h}({1:[function(t,e,a){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(u===setTimeout)return setTimeout(e,0);if((u===i||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function o(){f&&p&&(f=!1,p.length?g=p.concat(g):_=-1,g.length&&s())}function s(){if(!f){var t=r(o);f=!0;for(var e=g.length;e;){for(p=g,g=[];++_<e;)p&&p[_].run();_=-1,e=g.length}p=null,f=!1,function(e){if(d===clearTimeout)return clearTimeout(e);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}(t)}}function l(t,e){this.fun=t,this.array=e}function h(){}var u,d,c=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:i}catch(t){u=i}try{d="function"==typeof clearTimeout?clearTimeout:n}catch(t){d=n}}();var p,g=[],f=!1,_=-1;c.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var a=1;a<arguments.length;a++)e[a-1]=arguments[a];g.push(new l(t,e)),1!==g.length||f||r(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=h,c.addListener=h,c.once=h,c.off=h,c.removeListener=h,c.removeAllListeners=h,c.emit=h,c.prependListener=h,c.prependOnceListener=h,c.listeners=function(t){return[]},c.binding=function(t){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(t){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],2:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i,n=t("./bars"),r=(i=n)&&i.__esModule?i:{default:i},o=function(){};(o.prototype=new r.default).extractSeries=function(t,e,a){for(var i,n,r,o=[],s=a.get("logscale"),l=0;l<t.length;l++)i=t[l][0],r=t[l][e],s&&null!==r&&(r[0]<=0||r[1]<=0||r[2]<=0)&&(r=null),null!==r?null===(n=r[1])||isNaN(n)?o.push([i,n,[n,n]]):o.push([i,n,[r[0],r[2]]]):o.push([i,null,[null,null]]);return o},o.prototype.rollingAverage=function(t,e,a){e=Math.min(e,t.length);var i,n,r,o,s,l,h,u=[];for(l=s=r=o=n=0;l<t.length;l++){if(i=t[l][1],h=t[l][2],u[l]=t[l],null===i||isNaN(i)||(n+=h[0],o+=i,r+=h[1],s+=1),0<=l-e){var d=t[l-e];null===d[1]||isNaN(d[1])||(n-=d[2][0],o-=d[1],r-=d[2][1],s-=1)}u[l]=s?[t[l][0],1*o/s,[1*n/s,1*r/s]]:[t[l][0],null,[null,null]]}return u},a.default=o,e.exports=a.default},{"./bars":5}],3:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i,n=t("./bars"),r=(i=n)&&i.__esModule?i:{default:i},o=function(){};(o.prototype=new r.default).extractSeries=function(t,e,a){for(var i,n,r,o,s=[],l=a.get("sigma"),h=a.get("logscale"),u=0;u<t.length;u++)i=t[u][0],o=t[u][e],h&&null!==o&&(o[0]<=0||o[0]-l*o[1]<=0)&&(o=null),null!==o?null===(n=o[0])||isNaN(n)?s.push([i,n,[n,n,n]]):(r=l*o[1],s.push([i,n,[n-r,n+r,o[1]]])):s.push([i,null,[null,null,null]]);return s},o.prototype.rollingAverage=function(t,e,a){e=Math.min(e,t.length);var i,n,r,o,s,l,h,u,d,c=[],p=a.get("sigma");for(i=0;i<t.length;i++){for(l=u=s=0,n=Math.max(0,i-e+1);n<i+1;n++)null===(r=t[n][1])||isNaN(r)||(l++,s+=r,u+=Math.pow(t[n][2][2],2));c[i]=l?(h=Math.sqrt(u)/l,d=s/l,[t[i][0],d,[d-p*h,d+p*h]]):(o=1==e?t[i][1]:null,[t[i][0],o,[o,o]])}return c},a.default=o,e.exports=a.default},{"./bars":5}],4:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i,n=t("./bars"),r=(i=n)&&i.__esModule?i:{default:i},o=function(){};(o.prototype=new r.default).extractSeries=function(t,e,a){for(var i,n,r,o,s,l,h,u=[],d=a.get("sigma"),c=a.get("logscale"),p=0;p<t.length;p++)i=t[p][0],r=t[p][e],c&&null!==r&&(r[0]<=0||r[1]<=0)&&(r=null),null!==r?(o=r[0],s=r[1],null===o||isNaN(o)?u.push([i,o,[o,o,o,s]]):(l=s?o/s:0,h=100*(s?d*Math.sqrt(l*(1-l)/s):1),n=100*l,u.push([i,n,[n-h,n+h,o,s]]))):u.push([i,null,[null,null,null,null]]);return u},o.prototype.rollingAverage=function(t,e,a){e=Math.min(e,t.length);var i,n,r,o,s=[],l=a.get("sigma"),h=a.get("wilsonInterval"),u=0,d=0;for(r=0;r<t.length;r++){u+=t[r][2][2],d+=t[r][2][3],0<=r-e&&(u-=t[r-e][2][2],d-=t[r-e][2][3]);var c=t[r][0],p=d?u/d:0;if(h)if(d){var g=p<0?0:p,f=d,_=l*Math.sqrt(g*(1-g)/f+l*l/(4*f*f)),v=1+l*l/d;i=(g+l*l/(2*d)-_)/v,n=(g+l*l/(2*d)+_)/v,s[r]=[c,100*g,[100*i,100*n]]}else s[r]=[c,0,[0,0]];else o=d?l*Math.sqrt(p*(1-p)/d):1,s[r]=[c,100*p,[100*(p-o),100*(p+o)]]}return s},a.default=o,e.exports=a.default},{"./bars":5}],5:[function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(a,"__esModule",{value:!0});var r=i(t("./datahandler")),o=i(t("../dygraph-layout")),n=function(){r.default.call(this)};(n.prototype=new r.default).extractSeries=function(t,e,a){},n.prototype.rollingAverage=function(t,e,a){},n.prototype.onPointsCreated_=function(t,e){for(var a=0;a<t.length;++a){var i=t[a],n=e[a];n.y_top=NaN,n.y_bottom=NaN,n.yval_minus=r.default.parseFloat(i[2][0]),n.yval_plus=r.default.parseFloat(i[2][1])}},n.prototype.getExtremeYValues=function(t,e,a){for(var i,n=null,r=null,o=t.length-1,s=0;s<=o;s++)if(null!==(i=t[s][1])&&!isNaN(i)){var l=t[s][2][0],h=t[s][2][1];i<l&&(l=i),h<i&&(h=i),(null===r||r<h)&&(r=h),(null===n||l<n)&&(n=l)}return[n,r]},n.prototype.onLineEvaluated=function(t,e,a){for(var i,n=0;n<t.length;n++)(i=t[n]).y_top=o.default.calcYNormal_(e,i.yval_minus,a),i.y_bottom=o.default.calcYNormal_(e,i.yval_plus,a)},a.default=n,e.exports=a.default},{"../dygraph-layout":13,"./datahandler":6}],6:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=function(){},h=i;h.X=0,h.Y=1,h.EXTRAS=2,h.prototype.extractSeries=function(t,e,a){},h.prototype.seriesToPoints=function(t,e,a){for(var i=[],n=0;n<t.length;++n){var r=t[n],o=r[1],s=null===o?null:h.parseFloat(o),l={x:NaN,y:NaN,xval:h.parseFloat(r[0]),yval:s,name:e,idx:n+a};i.push(l)}return this.onPointsCreated_(t,i),i},h.prototype.onPointsCreated_=function(t,e){},h.prototype.rollingAverage=function(t,e,a){},h.prototype.getExtremeYValues=function(t,e,a){},h.prototype.onLineEvaluated=function(t,e,a){},h.parseFloat=function(t){return null===t?NaN:t},a.default=i,e.exports=a.default},{}],7:[function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(a,"__esModule",{value:!0});var n=i((i(t("./datahandler")),t("./default"))),r=function(){};(r.prototype=new n.default).extractSeries=function(t,e,a){for(var i,n,r,o,s,l=[],h=a.get("logscale"),u=0;u<t.length;u++)i=t[u][0],r=t[u][e],h&&null!==r&&(r[0]<=0||r[1]<=0)&&(r=null),null!==r?(o=r[0],s=r[1],null===o||isNaN(o)?l.push([i,o,[o,s]]):(n=100*(s?o/s:0),l.push([i,n,[o,s]]))):l.push([i,null,[null,null]]);return l},r.prototype.rollingAverage=function(t,e,a){e=Math.min(e,t.length);var i,n=[],r=0,o=0;for(i=0;i<t.length;i++){r+=t[i][2][0],o+=t[i][2][1],0<=i-e&&(r-=t[i-e][2][0],o-=t[i-e][2][1]);var s=t[i][0],l=o?r/o:0;n[i]=[s,100*l]}return n},a.default=r,e.exports=a.default},{"./datahandler":6,"./default":8}],8:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i,n=t("./datahandler"),r=(i=n)&&i.__esModule?i:{default:i},o=function(){};(o.prototype=new r.default).extractSeries=function(t,e,a){for(var i=[],n=a.get("logscale"),r=0;r<t.length;r++){var o=t[r][0],s=t[r][e];n&&s<=0&&(s=null),i.push([o,s])}return i},o.prototype.rollingAverage=function(t,e,a){var i,n,r,o,s,l=[];if(1==(e=Math.min(e,t.length)))return t;for(i=0;i<t.length;i++){for(s=o=0,n=Math.max(0,i-e+1);n<i+1;n++)null===(r=t[n][1])||isNaN(r)||(s++,o+=t[n][1]);l[i]=s?[t[i][0],o/s]:[t[i][0],null]}return l},o.prototype.getExtremeYValues=function(t,e,a){for(var i,n=null,r=null,o=t.length-1,s=0;s<=o;s++)null===(i=t[s][1])||isNaN(i)||((null===r||r<i)&&(r=i),(null===n||i<n)&&(n=i));return[n,r]},a.default=o,e.exports=a.default},{"./datahandler":6}],9:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i,N=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(t("./dygraph-utils")),n=t("./dygraph"),k=(i=n)&&i.__esModule?i:{default:i},R=function(t,e,a,i){if(this.dygraph_=t,this.layout=i,this.element=e,this.elementContext=a,this.height=t.height_,this.width=t.width_,!N.isCanvasSupported(this.element))throw"Canvas is not supported.";this.area=i.getPlotArea();var n=this.dygraph_.canvas_ctx_;n.beginPath(),n.rect(this.area.x,this.area.y,this.area.w,this.area.h),n.clip(),(n=this.dygraph_.hidden_ctx_).beginPath(),n.rect(this.area.x,this.area.y,this.area.w,this.area.h),n.clip()};R.prototype.clear=function(){this.elementContext.clearRect(0,0,this.width,this.height)},R.prototype.render=function(){this._updatePoints(),this._renderLineChart()},R._getIteratorPredicate=function(t){return t?R._predicateThatSkipsEmptyPoints:null},R._predicateThatSkipsEmptyPoints=function(t,e){return null!==t[e].yval},R._drawStyledLine=function(t,e,a,i,n,r,o){var s=t.dygraph,l=s.getBooleanOption("stepPlot",t.setName);N.isArrayLike(i)||(i=null);var h=s.getBooleanOption("drawGapEdgePoints",t.setName),u=t.points,d=t.setName,c=N.createIterator(u,0,u.length,R._getIteratorPredicate(s.getBooleanOption("connectSeparatedPoints",d))),p=i&&2<=i.length,g=t.drawingContext;g.save(),p&&g.setLineDash&&g.setLineDash(i);var f=R._drawSeries(t,c,a,o,n,h,l,e);R._drawPointsOnLine(t,f,r,e,o),p&&g.setLineDash&&g.setLineDash([]),g.restore()},R._drawSeries=function(t,e,a,i,n,r,o,s){var l,h,u=null,d=null,c=null,p=[],g=!0,f=t.drawingContext;f.beginPath(),f.strokeStyle=s,f.lineWidth=a;for(var _=e.array_,v=e.end_,y=e.predicate_,x=e.start_;x<v;x++){if(h=_[x],y){for(;x<v&&!y(_,x);)x++;if(x==v)break;h=_[x]}if(null===h.canvasy||h.canvasy!=h.canvasy)o&&null!==u&&(f.moveTo(u,d),f.lineTo(h.canvasx,d)),u=d=null;else{if(l=!1,r||null===u){e.nextIdx_=x,e.next();var m=null===(c=e.hasNext?e.peek.canvasy:null)||c!=c;l=null===u&&m,r&&(!g&&null===u||e.hasNext&&m)&&(l=!0)}null!==u?a&&(o&&(f.moveTo(u,d),f.lineTo(h.canvasx,d)),f.lineTo(h.canvasx,h.canvasy)):f.moveTo(h.canvasx,h.canvasy),(n||l)&&p.push([h.canvasx,h.canvasy,h.idx]),u=h.canvasx,d=h.canvasy}g=!1}return f.stroke(),p},R._drawPointsOnLine=function(t,e,a,i,n){for(var r=t.drawingContext,o=0;o<e.length;o++){var s=e[o];r.save(),a.call(t.dygraph,t.dygraph,t.setName,r,s[0],s[1],i,n,s[2]),r.restore()}},R.prototype._updatePoints=function(){for(var t=this.layout.points,e=t.length;e--;)for(var a=t[e],i=a.length;i--;){var n=a[i];n.canvasx=this.area.w*n.x+this.area.x,n.canvasy=this.area.h*n.y+this.area.y}},R.prototype._renderLineChart=function(t,e){var a,i,n=e||this.elementContext,r=this.layout.points,o=this.layout.setNames;this.colors=this.dygraph_.colorsMap_;var s=this.dygraph_.getOption("plotter"),l=s;N.isArrayLike(l)||(l=[l]);var h={};for(a=0;a<o.length;a++){i=o[a];var u=this.dygraph_.getOption("plotter",i);u!=s&&(h[i]=u)}for(a=0;a<l.length;a++)for(var d=l[a],c=a==l.length-1,p=0;p<r.length;p++)if(i=o[p],!t||i==t){var g=r[p],f=d;if(i in h){if(!c)continue;f=h[i]}var _=this.colors[i],v=this.dygraph_.getOption("strokeWidth",i);n.save(),n.strokeStyle=_,n.lineWidth=v,f({points:g,setName:i,drawingContext:n,color:_,strokeWidth:v,dygraph:this.dygraph_,axis:this.dygraph_.axisPropertiesForSeries(i),plotArea:this.area,seriesIndex:p,seriesCount:r.length,singleSeriesName:t,allSeriesPoints:r}),n.restore()}},R._Plotters={linePlotter:function(t){R._linePlotter(t)},fillPlotter:function(t){R._fillPlotter(t)},errorPlotter:function(t){R._errorPlotter(t)}},R._linePlotter=function(t){var e=t.dygraph,a=t.setName,i=t.strokeWidth,n=e.getNumericOption("strokeBorderWidth",a),r=e.getOption("drawPointCallback",a)||N.Circles.DEFAULT,o=e.getOption("strokePattern",a),s=e.getBooleanOption("drawPoints",a),l=e.getNumericOption("pointSize",a);n&&i&&R._drawStyledLine(t,e.getOption("strokeBorderColor",a),i+2*n,o,s,r,l),R._drawStyledLine(t,t.color,i,o,s,r,l)},R._errorPlotter=function(t){var e=t.dygraph,a=t.setName;if(e.getBooleanOption("errorBars")||e.getBooleanOption("customBars")){e.getBooleanOption("fillGraph",a)&&console.warn("Can't use fillGraph option with error bars");var i,n=t.drawingContext,r=t.color,o=e.getNumericOption("fillAlpha",a),s=e.getBooleanOption("stepPlot",a),l=t.points,h=N.createIterator(l,0,l.length,R._getIteratorPredicate(e.getBooleanOption("connectSeparatedPoints",a))),u=NaN,d=NaN,c=[-1,-1],p=N.toRGB_(r),g="rgba("+p.r+","+p.g+","+p.b+","+o+")";n.fillStyle=g,n.beginPath();for(var f=function(t){return null==t||isNaN(t)};h.hasNext;){var _=h.next();u=!s&&f(_.y)||s&&!isNaN(d)&&f(d)?NaN:(i=[_.y_bottom,_.y_top],s&&(d=_.y),isNaN(i[0])&&(i[0]=_.y),isNaN(i[1])&&(i[1]=_.y),i[0]=t.plotArea.h*i[0]+t.plotArea.y,i[1]=t.plotArea.h*i[1]+t.plotArea.y,isNaN(u)||(s?(n.moveTo(u,c[0]),n.lineTo(_.canvasx,c[0]),n.lineTo(_.canvasx,c[1])):(n.moveTo(u,c[0]),n.lineTo(_.canvasx,i[0]),n.lineTo(_.canvasx,i[1])),n.lineTo(u,c[1]),n.closePath()),c=i,_.canvasx)}n.fill()}},R._fastCanvasProxy=function(n){var u=[],r=null,o=null,s=0,l=function(t){!function(t){if(!(u.length<=1)){for(var e=u.length-1;0<e;e--)if(2==(o=u[e])[0]){var a=u[e-1];a[1]==o[1]&&a[2]==o[2]&&u.splice(e,1)}for(e=0;e<u.length-1;)2==(o=u[e])[0]&&2==u[e+1][0]?u.splice(e,1):e++;if(2<u.length&&!t){var i=0;2==u[0][0]&&i++;var n=null,r=null;for(e=i;e<u.length;e++){var o;if(1==(o=u[e])[0])if(null===n&&null===r)r=n=e;else{var s=o[2];s<u[n][2]?n=e:s>u[r][2]&&(r=e)}}var l=u[n],h=u[r];u.splice(i,u.length-i),n<r?(u.push(l),u.push(h)):(r<n&&u.push(h),u.push(l))}}}(t);for(var e=0,a=u.length;e<a;e++){var i=u[e];1==i[0]?n.lineTo(i[1],i[2]):2==i[0]&&n.moveTo(i[1],i[2])}u.length&&(o=u[u.length-1][1]),s+=u.length,u=[]},a=function(t,e,a){var i=Math.round(e);null!==r&&i==r||(l(1<r-o||1<i-r),r=i);u.push([t,e,a])};return{moveTo:function(t,e){a(2,t,e)},lineTo:function(t,e){a(1,t,e)},stroke:function(){l(!0),n.stroke()},fill:function(){l(!0),n.fill()},beginPath:function(){l(!0),n.beginPath()},closePath:function(){l(!0),n.closePath()},_count:function(){return s}}},R._fillPlotter=function(t){if(!t.singleSeriesName&&0===t.seriesIndex){for(var e=t.dygraph,a=e.getLabels().slice(1),i=a.length;0<=i;i--)e.visibility()[i]||a.splice(i,1);if(function(){for(var t=0;t<a.length;t++)if(e.getBooleanOption("fillGraph",a[t]))return!0;return!1}())for(var n,r,o=t.plotArea,s=t.allSeriesPoints,l=s.length,h=e.getBooleanOption("stackedGraph"),u=e.getColors(),d={},c=function(t,e,a,i){if(t.lineTo(e,a),h)for(var n=i.length-1;0<=n;n--){var r=i[n];t.lineTo(r[0],r[1])}},p=l-1;0<=p;p--){var g=t.drawingContext,f=a[p];if(e.getBooleanOption("fillGraph",f)){var _=e.getNumericOption("fillAlpha",f),v=e.getBooleanOption("stepPlot",f),y=u[p],x=e.axisPropertiesForSeries(f),m=1+x.minyval*x.yscale;m<0?m=0:1<m&&(m=1),m=o.h*m+o.y;var b,w=s[p],A=N.createIterator(w,0,w.length,R._getIteratorPredicate(e.getBooleanOption("connectSeparatedPoints",f))),O=NaN,P=[-1,-1],L=N.toRGB_(y),S="rgba("+L.r+","+L.g+","+L.b+","+_+")";g.fillStyle=S,g.beginPath();var T,C=!0;(w.length>2*e.width_||k.default.FORCE_FAST_PROXY)&&(g=R._fastCanvasProxy(g));for(var M,E=[];A.hasNext;)if(M=A.next(),N.isOK(M.y)||v){if(h){if(!C&&T==M.xval)continue;var D;C=!1,T=M.xval,D=void 0===(n=d[M.canvasx])?m:r?n[0]:n,b=[M.canvasy,D],v?-1===P[0]?d[M.canvasx]=[M.canvasy,m]:d[M.canvasx]=[M.canvasy,P[0]]:d[M.canvasx]=M.canvasy}else b=isNaN(M.canvasy)&&v?[o.y+o.h,m]:[M.canvasy,m];isNaN(O)?(g.moveTo(M.canvasx,b[1]),g.lineTo(M.canvasx,b[0])):(v&&g.lineTo(M.canvasx,P[0]),g.lineTo(M.canvasx,b[0]),h&&(E.push([O,P[1]]),r&&n?E.push([M.canvasx,n[1]]):E.push([M.canvasx,b[1]]))),P=b,O=M.canvasx}else c(g,O,P[1],E),E=[],O=NaN,null===M.y_stacked||isNaN(M.y_stacked)||(d[M.canvasx]=o.h*M.y_stacked+o.y);r=v,b&&M&&(c(g,M.canvasx,b[1],E),E=[]),g.fill()}}}},a.default=R,e.exports=a.default},{"./dygraph":18,"./dygraph-utils":17}],10:[function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}Object.defineProperty(a,"__esModule",{value:!0});var r=n(t("./dygraph-tickers")),o=i(t("./dygraph-interaction-model")),s=i(t("./dygraph-canvas")),l=n(t("./dygraph-utils")),h={highlightCircleSize:3,highlightSeriesOpts:null,highlightSeriesBackgroundAlpha:.5,highlightSeriesBackgroundColor:"rgb(255, 255, 255)",labelsSeparateLines:!1,labelsShowZeroValues:!0,labelsKMB:!1,labelsKMG2:!1,showLabelsOnHighlight:!0,digitsAfterDecimal:2,maxNumberWidth:6,sigFigs:null,strokeWidth:1,strokeBorderWidth:0,strokeBorderColor:"white",axisTickSize:3,axisLabelFontSize:14,rightGap:5,showRoller:!1,xValueParser:void 0,delimiter:",",sigma:2,errorBars:!1,fractions:!1,wilsonInterval:!0,customBars:!1,fillGraph:!1,fillAlpha:.15,connectSeparatedPoints:!1,stackedGraph:!1,stackedGraphNaNFill:"all",hideOverlayOnMouseOut:!0,legend:"onmouseover",stepPlot:!1,xRangePad:0,yRangePad:null,drawAxesAtZero:!1,titleHeight:28,xLabelHeight:18,yLabelWidth:18,axisLineColor:"black",axisLineWidth:.3,gridLineWidth:.3,axisLabelWidth:50,gridLineColor:"rgb(128,128,128)",interactionModel:o.default.defaultModel,animatedZooms:!1,showRangeSelector:!1,rangeSelectorHeight:40,rangeSelectorPlotStrokeColor:"#808FAB",rangeSelectorPlotFillGradientColor:"white",rangeSelectorPlotFillColor:"#A7B1C4",rangeSelectorBackgroundStrokeColor:"gray",rangeSelectorBackgroundLineWidth:1,rangeSelectorPlotLineWidth:1.5,rangeSelectorForegroundStrokeColor:"black",rangeSelectorForegroundLineWidth:1,rangeSelectorAlpha:.6,showInRangeSelector:null,plotter:[s.default._fillPlotter,s.default._errorPlotter,s.default._linePlotter],plugins:[],axes:{x:{pixelsPerLabel:70,axisLabelWidth:60,axisLabelFormatter:l.dateAxisLabelFormatter,valueFormatter:l.dateValueFormatter,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:r.dateTicker},y:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:l.numberValueFormatter,axisLabelFormatter:l.numberAxisLabelFormatter,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:r.numericTicks},y2:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:l.numberValueFormatter,axisLabelFormatter:l.numberAxisLabelFormatter,drawAxis:!0,drawGrid:!1,independentTicks:!1,ticker:r.numericTicks}}};a.default=h,e.exports=a.default},{"./dygraph-canvas":9,"./dygraph-interaction-model":12,"./dygraph-tickers":16,"./dygraph-utils":17}],11:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i,n=t("./dygraph"),r=(i=n)&&i.__esModule?i:{default:i},o=function(t){this.container=t};o.prototype.draw=function(t,e){this.container.innerHTML="",void 0!==this.date_graph&&this.date_graph.destroy(),this.date_graph=new r.default(this.container,t,e)},o.prototype.setSelection=function(t){var e=!1;t.length&&(e=t[0].row),this.date_graph.setSelection(e)},o.prototype.getSelection=function(){var t=[],e=this.date_graph.getSelection();if(e<0)return t;for(var a=this.date_graph.layout_.points,i=0;i<a.length;++i)t.push({row:e,column:i+1});return t},a.default=o,e.exports=a.default},{"./dygraph":18}],12:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var b=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(t("./dygraph-utils")),u={maybeTreatMouseOpAsClick:function(t,e,a){a.dragEndX=b.dragGetX_(t,a),a.dragEndY=b.dragGetY_(t,a);var i=Math.abs(a.dragEndX-a.dragStartX),n=Math.abs(a.dragEndY-a.dragStartY);i<2&&n<2&&void 0!==e.lastx_&&-1!=e.lastx_&&u.treatMouseOpAsClick(e,t,a),a.regionWidth=i,a.regionHeight=n},startPan:function(t,e,a){var i,n;a.isPanning=!0;var r=e.xAxisRange();if(e.getOptionForAxis("logscale","x")?(a.initialLeftmostDate=b.log10(r[0]),a.dateRange=b.log10(r[1])-b.log10(r[0])):(a.initialLeftmostDate=r[0],a.dateRange=r[1]-r[0]),a.xUnitsPerPixel=a.dateRange/(e.plotter_.area.w-1),e.getNumericOption("panEdgeFraction")){var o=e.width_*e.getNumericOption("panEdgeFraction"),s=e.xAxisExtremes(),l=e.toDomXCoord(s[0])-o,h=e.toDomXCoord(s[1])+o,u=e.toDataXCoord(l),d=e.toDataXCoord(h);a.boundedDates=[u,d];var c=[],p=e.height_*e.getNumericOption("panEdgeFraction");for(i=0;i<e.axes_.length;i++){var g=(n=e.axes_[i]).extremeRange,f=e.toDomYCoord(g[0],i)+p,_=e.toDomYCoord(g[1],i)-p,v=e.toDataYCoord(f,i),y=e.toDataYCoord(_,i);c[i]=[v,y]}a.boundedValues=c}for(a.is2DPan=!1,a.axes=[],i=0;i<e.axes_.length;i++){n=e.axes_[i];var x={},m=e.yAxisRange(i);e.attributes_.getForAxis("logscale",i)?(x.initialTopValue=b.log10(m[1]),x.dragValueRange=b.log10(m[1])-b.log10(m[0])):(x.initialTopValue=m[1],x.dragValueRange=m[1]-m[0]),x.unitsPerPixel=x.dragValueRange/(e.plotter_.area.h-1),a.axes.push(x),n.valueRange&&(a.is2DPan=!0)}},movePan:function(t,e,a){a.dragEndX=b.dragGetX_(t,a),a.dragEndY=b.dragGetY_(t,a);var i=a.initialLeftmostDate-(a.dragEndX-a.dragStartX)*a.xUnitsPerPixel;a.boundedDates&&(i=Math.max(i,a.boundedDates[0]));var n=i+a.dateRange;if(a.boundedDates&&n>a.boundedDates[1]&&(n=(i-=n-a.boundedDates[1])+a.dateRange),e.getOptionForAxis("logscale","x")?e.dateWindow_=[Math.pow(b.LOG_SCALE,i),Math.pow(b.LOG_SCALE,n)]:e.dateWindow_=[i,n],a.is2DPan)for(var r=a.dragEndY-a.dragStartY,o=0;o<e.axes_.length;o++){var s=e.axes_[o],l=a.axes[o],h=r*l.unitsPerPixel,u=a.boundedValues?a.boundedValues[o]:null,d=l.initialTopValue+h;u&&(d=Math.min(d,u[1]));var c=d-l.dragValueRange;u&&c<u[0]&&(c=(d-=c-u[0])-l.dragValueRange),e.attributes_.getForAxis("logscale",o)?s.valueRange=[Math.pow(b.LOG_SCALE,c),Math.pow(b.LOG_SCALE,d)]:s.valueRange=[c,d]}e.drawGraph_(!1)}};u.endPan=u.maybeTreatMouseOpAsClick,u.startZoom=function(t,e,a){a.isZooming=!0,a.zoomMoved=!1},u.moveZoom=function(t,e,a){a.zoomMoved=!0,a.dragEndX=b.dragGetX_(t,a),a.dragEndY=b.dragGetY_(t,a);var i=Math.abs(a.dragStartX-a.dragEndX),n=Math.abs(a.dragStartY-a.dragEndY);a.dragDirection=i<n/2?b.VERTICAL:b.HORIZONTAL,e.drawZoomRect_(a.dragDirection,a.dragStartX,a.dragEndX,a.dragStartY,a.dragEndY,a.prevDragDirection,a.prevEndX,a.prevEndY),a.prevEndX=a.dragEndX,a.prevEndY=a.dragEndY,a.prevDragDirection=a.dragDirection},u.treatMouseOpAsClick=function(t,e,a){for(var i=t.getFunctionOption("clickCallback"),n=t.getFunctionOption("pointClickCallback"),r=null,o=-1,s=Number.MAX_VALUE,l=0;l<t.selPoints_.length;l++){var h=t.selPoints_[l],u=Math.pow(h.canvasx-a.dragEndX,2)+Math.pow(h.canvasy-a.dragEndY,2);!isNaN(u)&&(-1==o||u<s)&&(s=u,o=l)}var d=t.getNumericOption("highlightCircleSize")+2;if(s<=d*d&&(r=t.selPoints_[o]),r){var c={cancelable:!0,point:r,canvasx:a.dragEndX,canvasy:a.dragEndY};if(t.cascadeEvents_("pointClick",c))return;n&&n.call(t,e,r)}c={cancelable:!0,xval:t.lastx_,pts:t.selPoints_,canvasx:a.dragEndX,canvasy:a.dragEndY};t.cascadeEvents_("click",c)||i&&i.call(t,e,t.lastx_,t.selPoints_)},u.endZoom=function(t,e,a){e.clearZoomRect_(),a.isZooming=!1,u.maybeTreatMouseOpAsClick(t,e,a);var i=e.getArea();if(10<=a.regionWidth&&a.dragDirection==b.HORIZONTAL){var n=Math.min(a.dragStartX,a.dragEndX),r=Math.max(a.dragStartX,a.dragEndX);(n=Math.max(n,i.x))<(r=Math.min(r,i.x+i.w))&&e.doZoomX_(n,r),a.cancelNextDblclick=!0}else if(10<=a.regionHeight&&a.dragDirection==b.VERTICAL){var o=Math.min(a.dragStartY,a.dragEndY),s=Math.max(a.dragStartY,a.dragEndY);(o=Math.max(o,i.y))<(s=Math.min(s,i.y+i.h))&&e.doZoomY_(o,s),a.cancelNextDblclick=!0}a.dragStartX=null,a.dragStartY=null},u.startTouch=function(t,e,a){t.preventDefault(),1<t.touches.length&&(a.startTimeForDoubleTapMs=null);for(var i=[],n=0;n<t.touches.length;n++){var r=t.touches[n];i.push({pageX:r.pageX,pageY:r.pageY,dataX:e.toDataXCoord(r.pageX),dataY:e.toDataYCoord(r.pageY)})}if(1==(a.initialTouches=i).length)a.initialPinchCenter=i[0],a.touchDirections={x:!0,y:!0};else if(2<=i.length){a.initialPinchCenter={pageX:.5*(i[0].pageX+i[1].pageX),pageY:.5*(i[0].pageY+i[1].pageY),dataX:.5*(i[0].dataX+i[1].dataX),dataY:.5*(i[0].dataY+i[1].dataY)};var o=180/Math.PI*Math.atan2(a.initialPinchCenter.pageY-i[0].pageY,i[0].pageX-a.initialPinchCenter.pageX);90<(o=Math.abs(o))&&(o=90-o),a.touchDirections={x:o<67.5,y:22.5<o}}a.initialRange={x:e.xAxisRange(),y:e.yAxisRange()}},u.moveTouch=function(t,e,a){a.startTimeForDoubleTapMs=null;var i,n=[];for(i=0;i<t.touches.length;i++){var r=t.touches[i];n.push({pageX:r.pageX,pageY:r.pageY})}var o,s,l,h=a.initialTouches,u=a.initialPinchCenter,d={pageX:(o=1==n.length?n[0]:{pageX:.5*(n[0].pageX+n[1].pageX),pageY:.5*(n[0].pageY+n[1].pageY)}).pageX-u.pageX,pageY:o.pageY-u.pageY},c=a.initialRange.x[1]-a.initialRange.x[0],p=a.initialRange.y[0]-a.initialRange.y[1];if(d.dataX=d.pageX/e.plotter_.area.w*c,d.dataY=d.pageY/e.plotter_.area.h*p,1==n.length)l=s=1;else if(2<=n.length){var g=h[1].pageX-u.pageX;s=(n[1].pageX-o.pageX)/g;var f=h[1].pageY-u.pageY;l=(n[1].pageY-o.pageY)/f}s=Math.min(8,Math.max(.125,s)),l=Math.min(8,Math.max(.125,l));var _=!1;if(a.touchDirections.x&&(e.dateWindow_=[u.dataX-d.dataX+(a.initialRange.x[0]-u.dataX)/s,u.dataX-d.dataX+(a.initialRange.x[1]-u.dataX)/s],_=!0),a.touchDirections.y)for(i=0;i<1;i++){var v=e.axes_[i];e.attributes_.getForAxis("logscale",i)||(v.valueRange=[u.dataY-d.dataY+(a.initialRange.y[0]-u.dataY)/l,u.dataY-d.dataY+(a.initialRange.y[1]-u.dataY)/l],_=!0)}if(e.drawGraph_(!1),_&&1<n.length&&e.getFunctionOption("zoomCallback")){var y=e.xAxisRange();e.getFunctionOption("zoomCallback").call(e,y[0],y[1],e.yAxisRanges())}},u.endTouch=function(t,e,a){if(0!==t.touches.length)u.startTouch(t,e,a);else if(1==t.changedTouches.length){var i=(new Date).getTime(),n=t.changedTouches[0];a.startTimeForDoubleTapMs&&i-a.startTimeForDoubleTapMs<500&&a.doubleTapX&&Math.abs(a.doubleTapX-n.screenX)<50&&a.doubleTapY&&Math.abs(a.doubleTapY-n.screenY)<50?e.resetZoom():(a.startTimeForDoubleTapMs=i,a.doubleTapX=n.screenX,a.doubleTapY=n.screenY)}};var d=function(t,e,a){return t<e?e-t:a<t?t-a:0};u.defaultModel={mousedown:function(t,l,h){if(!t.button||2!=t.button){h.initializeMouseDown(t,l,h),t.altKey||t.shiftKey?u.startPan(t,l,h):u.startZoom(t,l,h);var a=function(t){var e,a,i,n,r,o,s;h.isZooming?(e=t,a=l,i=b.findPos(a.canvas_),n={left:i.x,right:i.x+a.canvas_.offsetWidth,top:i.y,bottom:i.y+a.canvas_.offsetHeight},r={x:b.pageX(e),y:b.pageY(e)},o=d(r.x,n.left,n.right),s=d(r.y,n.top,n.bottom),Math.max(o,s)<100?u.moveZoom(t,l,h):null!==h.dragEndX&&(h.dragEndX=null,h.dragEndY=null,l.clearZoomRect_())):h.isPanning&&u.movePan(t,l,h)};l.addAndTrackEvent(document,"mousemove",a),l.addAndTrackEvent(document,"mouseup",function t(e){h.isZooming?null!==h.dragEndX?u.endZoom(e,l,h):u.maybeTreatMouseOpAsClick(e,l,h):h.isPanning&&u.endPan(e,l,h),b.removeEvent(document,"mousemove",a),b.removeEvent(document,"mouseup",t),h.destroy()})}},willDestroyContextMyself:!0,touchstart:function(t,e,a){u.startTouch(t,e,a)},touchmove:function(t,e,a){u.moveTouch(t,e,a)},touchend:function(t,e,a){u.endTouch(t,e,a)},dblclick:function(t,e,a){if(a.cancelNextDblclick)a.cancelNextDblclick=!1;else{var i={canvasx:a.dragEndX,canvasy:a.dragEndY,cancelable:!0};e.cascadeEvents_("dblclick",i)||t.altKey||t.shiftKey||e.resetZoom()}}},u.nonInteractiveModel_={mousedown:function(t,e,a){a.initializeMouseDown(t,e,a)},mouseup:u.maybeTreatMouseOpAsClick},u.dragIsPanInteractionModel={mousedown:function(t,e,a){a.initializeMouseDown(t,e,a),u.startPan(t,e,a)},mousemove:function(t,e,a){a.isPanning&&u.movePan(t,e,a)},mouseup:function(t,e,a){a.isPanning&&u.endPan(t,e,a)}},a.default=u,e.exports=a.default},{"./dygraph-utils":17}],13:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(t("./dygraph-utils")),d=function(t){this.dygraph_=t,this.points=[],this.setNames=[],this.annotations=[],this.yAxes_=null,this.xTicks_=null,this.yTicks_=null};d.prototype.addDataset=function(t,e){this.points.push(e),this.setNames.push(t)},d.prototype.getPlotArea=function(){return this.area_},d.prototype.computePlotArea=function(){var a={x:0,y:0};a.w=this.dygraph_.width_-a.x-this.dygraph_.getOption("rightGap"),a.h=this.dygraph_.height_;var t={chart_div:this.dygraph_.graphDiv,reserveSpaceLeft:function(t){var e={x:a.x,y:a.y,w:t,h:a.h};return a.x+=t,a.w-=t,e},reserveSpaceRight:function(t){var e={x:a.x+a.w-t,y:a.y,w:t,h:a.h};return a.w-=t,e},reserveSpaceTop:function(t){var e={x:a.x,y:a.y,w:a.w,h:t};return a.y+=t,a.h-=t,e},reserveSpaceBottom:function(t){var e={x:a.x,y:a.y+a.h-t,w:a.w,h:t};return a.h-=t,e},chartRect:function(){return{x:a.x,y:a.y,w:a.w,h:a.h}}};this.dygraph_.cascadeEvents_("layout",t),this.area_=a},d.prototype.setAnnotations=function(t){this.annotations=[];for(var e=this.dygraph_.getOption("xValueParser")||function(t){return t},a=0;a<t.length;a++){var i={};if(!t[a].xval&&void 0===t[a].x)return void console.error("Annotations must have an 'x' property");if(t[a].icon&&(!t[a].hasOwnProperty("width")||!t[a].hasOwnProperty("height")))return void console.error("Must set width and height when setting annotation.icon property");n.update(i,t[a]),i.xval||(i.xval=e(i.x)),this.annotations.push(i)}},d.prototype.setXTicks=function(t){this.xTicks_=t},d.prototype.setYAxes=function(t){this.yAxes_=t},d.prototype.evaluate=function(){this._xAxis={},this._evaluateLimits(),this._evaluateLineCharts(),this._evaluateLineTicks(),this._evaluateAnnotations()},d.prototype._evaluateLimits=function(){var t=this.dygraph_.xAxisRange();this._xAxis.minval=t[0],this._xAxis.maxval=t[1];var e=t[1]-t[0];this._xAxis.scale=0!==e?1/e:1,this.dygraph_.getOptionForAxis("logscale","x")&&(this._xAxis.xlogrange=n.log10(this._xAxis.maxval)-n.log10(this._xAxis.minval),this._xAxis.xlogscale=0!==this._xAxis.xlogrange?1/this._xAxis.xlogrange:1);for(var a=0;a<this.yAxes_.length;a++){var i=this.yAxes_[a];i.minyval=i.computedValueRange[0],i.maxyval=i.computedValueRange[1],i.yrange=i.maxyval-i.minyval,i.yscale=0!==i.yrange?1/i.yrange:1,this.dygraph_.getOption("logscale")&&(i.ylogrange=n.log10(i.maxyval)-n.log10(i.minyval),i.ylogscale=0!==i.ylogrange?1/i.ylogrange:1,isFinite(i.ylogrange)&&!isNaN(i.ylogrange)||console.error("axis "+a+" of graph at "+i.g+" can't be displayed in log scale for range ["+i.minyval+" - "+i.maxyval+"]"))}},d.calcXNormal_=function(t,e,a){return a?(n.log10(t)-n.log10(e.minval))*e.xlogscale:(t-e.minval)*e.scale},d.calcYNormal_=function(t,e,a){if(a){var i=1-(n.log10(e)-n.log10(t.minyval))*t.ylogscale;return isFinite(i)?i:NaN}return 1-(e-t.minyval)*t.yscale},d.prototype._evaluateLineCharts=function(){for(var t=this.dygraph_.getOption("stackedGraph"),e=this.dygraph_.getOptionForAxis("logscale","x"),a=0;a<this.points.length;a++){for(var i=this.points[a],n=this.setNames[a],r=this.dygraph_.getOption("connectSeparatedPoints",n),o=this.dygraph_.axisPropertiesForSeries(n),s=this.dygraph_.attributes_.getForSeries("logscale",n),l=0;l<i.length;l++){var h=i[l];h.x=d.calcXNormal_(h.xval,this._xAxis,e);var u=h.yval;t&&(h.y_stacked=d.calcYNormal_(o,h.yval_stacked,s),null===u||isNaN(u)||(u=h.yval_stacked)),null===u&&(u=NaN,r||(h.yval=NaN)),h.y=d.calcYNormal_(o,u,s)}this.dygraph_.dataHandler_.onLineEvaluated(i,o,s)}},d.prototype._evaluateLineTicks=function(){var t,e,a,i,n,r;for(this.xticks=[],t=0;t<this.xTicks_.length;t++)a=(e=this.xTicks_[t]).label,n=(r=!("label_v"in e))?e.v:e.label_v,0<=(i=this.dygraph_.toPercentXCoord(n))&&i<1&&this.xticks.push({pos:i,label:a,has_tick:r});for(this.yticks=[],t=0;t<this.yAxes_.length;t++)for(var o=this.yAxes_[t],s=0;s<o.ticks.length;s++)a=(e=o.ticks[s]).label,n=(r=!("label_v"in e))?e.v:e.label_v,0<(i=this.dygraph_.toPercentYCoord(n,t))&&i<=1&&this.yticks.push({axis:t,pos:i,label:a,has_tick:r})},d.prototype._evaluateAnnotations=function(){var t,e={};for(t=0;t<this.annotations.length;t++){var a=this.annotations[t];e[a.xval+","+a.series]=a}if(this.annotated_points=[],this.annotations&&this.annotations.length)for(var i=0;i<this.points.length;i++){var n=this.points[i];for(t=0;t<n.length;t++){var r=n[t],o=r.xval+","+r.name;o in e&&(r.annotation=e[o],this.annotated_points.push(r))}}},d.prototype.removeAllDatasets=function(){delete this.points,delete this.setNames,delete this.setPointsLengths,delete this.setPointsOffsets,this.points=[],this.setNames=[],this.setPointsLengths=[],this.setPointsOffsets=[]},a.default=d,e.exports=a.default},{"./dygraph-utils":17}],14:[function(t,e,a){(function(t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=null,e.exports=a.default}).call(this,t("_process"))},{_process:1}],15:[function(a,i,n){(function(t){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a("./dygraph-utils")),l=e(a("./dygraph-default-attrs")),h=(e(a("./dygraph-options-reference")),function(t){this.dygraph_=t,this.yAxes_=[],this.xAxis_={},this.series_={},this.global_=this.dygraph_.attrs_,this.user_=this.dygraph_.user_attrs_||{},this.labels_=[],this.highlightSeries_=this.get("highlightSeriesOpts")||{},this.reparseSeries()});h.AXIS_STRING_MAPPINGS_={y:0,Y:0,y1:0,Y1:0,y2:1,Y2:1},h.axisToIndex_=function(t){if("string"==typeof t){if(h.AXIS_STRING_MAPPINGS_.hasOwnProperty(t))return h.AXIS_STRING_MAPPINGS_[t];throw"Unknown axis : "+t}if("number"==typeof t){if(0===t||1===t)return t;throw"Dygraphs only supports two y-axes, indexed from 0-1."}if(t)throw"Unknown axis : "+t;return 0},h.prototype.reparseSeries=function(){var t=this.get("labels");if(t){this.labels_=t.slice(1),this.yAxes_=[{series:[],options:{}}],this.xAxis_={options:{}},this.series_={};for(var e=this.user_.series||{},a=0;a<this.labels_.length;a++){var i=this.labels_[a],n=e[i]||{},r=h.axisToIndex_(n.axis);this.series_[i]={idx:a,yAxis:r,options:n},this.yAxes_[r]?this.yAxes_[r].series.push(i):this.yAxes_[r]={series:[i],options:{}}}var o=this.user_.axes||{};s.update(this.yAxes_[0].options,o.y||{}),1<this.yAxes_.length&&s.update(this.yAxes_[1].options,o.y2||{}),s.update(this.xAxis_.options,o.x||{})}},h.prototype.get=function(t){var e=this.getGlobalUser_(t);return null!==e?e:this.getGlobalDefault_(t)},h.prototype.getGlobalUser_=function(t){return this.user_.hasOwnProperty(t)?this.user_[t]:null},h.prototype.getGlobalDefault_=function(t){return this.global_.hasOwnProperty(t)?this.global_[t]:l.default.hasOwnProperty(t)?l.default[t]:null},h.prototype.getForAxis=function(t,e){var a,i;if("number"==typeof e)i=0===(a=e)?"y":"y2";else{if("y1"==e&&(e="y"),"y"==e)a=0;else if("y2"==e)a=1;else{if("x"!=e)throw"Unknown axis "+e;a=-1}i=e}var n=-1==a?this.xAxis_:this.yAxes_[a];if(n){var r=n.options;if(r.hasOwnProperty(t))return r[t]}if("x"!==e||"logscale"!==t){var o=this.getGlobalUser_(t);if(null!==o)return o}var s=l.default.axes[i];return s.hasOwnProperty(t)?s[t]:this.getGlobalDefault_(t)},h.prototype.getForSeries=function(t,e){if(e===this.dygraph_.getHighlightSeries()&&this.highlightSeries_.hasOwnProperty(t))return this.highlightSeries_[t];if(!this.series_.hasOwnProperty(e))throw"Unknown series: "+e;var a=this.series_[e],i=a.options;return i.hasOwnProperty(t)?i[t]:this.getForAxis(t,a.yAxis)},h.prototype.numAxes=function(){return this.yAxes_.length},h.prototype.axisForSeries=function(t){return this.series_[t].yAxis},h.prototype.axisOptions=function(t){return this.yAxes_[t].options},h.prototype.seriesForAxis=function(t){return this.yAxes_[t].series},h.prototype.seriesNames=function(){return this.labels_},n.default=h,i.exports=n.default}).call(this,a("_process"))},{"./dygraph-default-attrs":10,"./dygraph-options-reference":14,"./dygraph-utils":17,_process:1}],16:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var C=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(t("./dygraph-utils"));a.numericLinearTicks=function(t,e,a,i,n,r){return o(t,e,a,function(t){return"logscale"!==t&&i(t)},n,r)};var o=function(t,e,a,i,n,r){var o,s,l,h,u=i("pixelsPerLabel"),d=[];if(r)for(o=0;o<r.length;o++)d.push({v:r[o]});else{if(i("logscale")){h=Math.floor(a/u);var c=C.binarySearch(t,M,1),p=C.binarySearch(e,M,-1);-1==c&&(c=0),-1==p&&(p=M.length-1);var g=null;if(h/4<=p-c){for(var f=p;c<=f;f--){var _=M[f],v=Math.log(_/t)/Math.log(e/t)*a,y={v:_};null===g?g={tickValue:_,pixel_coord:v}:Math.abs(v-g.pixel_coord)>=u?g={tickValue:_,pixel_coord:v}:y.label="",d.push(y)}d.reverse()}}if(0===d.length){var x,m;m=i("labelsKMG2")?(x=[1,2,4,8,16,32,64,128,256],16):(x=[1,2,5,10,20,50,100],10);var b,w,A,O=Math.ceil(a/u),P=Math.abs(e-t)/O,L=Math.floor(Math.log(P)/Math.log(m)),S=Math.pow(m,L);for(s=0;s<x.length&&(b=S*x[s],w=Math.floor(t/b)*b,A=Math.ceil(e/b)*b,!(u<a/(h=Math.abs(A-w)/b)));s++);for(A<w&&(b*=-1),o=0;o<=h;o++)l=w+o*b,d.push({v:l})}}var T=i("axisLabelFormatter");for(o=0;o<d.length;o++)void 0===d[o].label&&(d[o].label=T.call(n,d[o].v,0,i,n));return d};a.numericTicks=o;a.dateTicker=function(t,e,a,i,n,r){var o=s(t,e,a,i);return 0<=o?h(t,e,o,i,n):[]};var v={MILLISECONDLY:0,TWO_MILLISECONDLY:1,FIVE_MILLISECONDLY:2,TEN_MILLISECONDLY:3,FIFTY_MILLISECONDLY:4,HUNDRED_MILLISECONDLY:5,FIVE_HUNDRED_MILLISECONDLY:6,SECONDLY:7,TWO_SECONDLY:8,FIVE_SECONDLY:9,TEN_SECONDLY:10,THIRTY_SECONDLY:11,MINUTELY:12,TWO_MINUTELY:13,FIVE_MINUTELY:14,TEN_MINUTELY:15,THIRTY_MINUTELY:16,HOURLY:17,TWO_HOURLY:18,SIX_HOURLY:19,DAILY:20,TWO_DAILY:21,WEEKLY:22,MONTHLY:23,QUARTERLY:24,BIANNUAL:25,ANNUAL:26,DECADAL:27,CENTENNIAL:28,NUM_GRANULARITIES:29};a.Granularity=v;var y=0,x=1,m=2,b=3,w=4,A=5,O=6,P=7,L=[];L[v.MILLISECONDLY]={datefield:O,step:1,spacing:1},L[v.TWO_MILLISECONDLY]={datefield:O,step:2,spacing:2},L[v.FIVE_MILLISECONDLY]={datefield:O,step:5,spacing:5},L[v.TEN_MILLISECONDLY]={datefield:O,step:10,spacing:10},L[v.FIFTY_MILLISECONDLY]={datefield:O,step:50,spacing:50},L[v.HUNDRED_MILLISECONDLY]={datefield:O,step:100,spacing:100},L[v.FIVE_HUNDRED_MILLISECONDLY]={datefield:O,step:500,spacing:500},L[v.SECONDLY]={datefield:A,step:1,spacing:1e3},L[v.TWO_SECONDLY]={datefield:A,step:2,spacing:2e3},L[v.FIVE_SECONDLY]={datefield:A,step:5,spacing:5e3},L[v.TEN_SECONDLY]={datefield:A,step:10,spacing:1e4},L[v.THIRTY_SECONDLY]={datefield:A,step:30,spacing:3e4},L[v.MINUTELY]={datefield:w,step:1,spacing:6e4},L[v.TWO_MINUTELY]={datefield:w,step:2,spacing:12e4},L[v.FIVE_MINUTELY]={datefield:w,step:5,spacing:3e5},L[v.TEN_MINUTELY]={datefield:w,step:10,spacing:6e5},L[v.THIRTY_MINUTELY]={datefield:w,step:30,spacing:18e5},L[v.HOURLY]={datefield:b,step:1,spacing:36e5},L[v.TWO_HOURLY]={datefield:b,step:2,spacing:72e5},L[v.SIX_HOURLY]={datefield:b,step:6,spacing:216e5},L[v.DAILY]={datefield:m,step:1,spacing:864e5},L[v.TWO_DAILY]={datefield:m,step:2,spacing:1728e5},L[v.WEEKLY]={datefield:m,step:7,spacing:6048e5},L[v.MONTHLY]={datefield:x,step:1,spacing:2629817280},L[v.QUARTERLY]={datefield:x,step:3,spacing:216e5*365.2524},L[v.BIANNUAL]={datefield:x,step:6,spacing:432e5*365.2524},L[v.ANNUAL]={datefield:y,step:1,spacing:864e5*365.2524},L[v.DECADAL]={datefield:y,step:10,spacing:315578073600},L[v.CENTENNIAL]={datefield:y,step:100,spacing:3155780736e3};var M=function(){for(var t=[],e=-39;e<=39;e++)for(var a=Math.pow(10,e),i=1;i<=9;i++){var n=a*i;t.push(n)}return t}(),s=function(t,e,a,i){for(var n=i("pixelsPerLabel"),r=0;r<v.NUM_GRANULARITIES;r++)if(a/l(t,e,r)>=n)return r;return-1},l=function(t,e,a){var i=L[a].spacing;return Math.round(1*(e-t)/i)},h=function(t,e,a,i,n){var r=i("axisLabelFormatter"),o=i("labelsUTC")?C.DateAccessorsUTC:C.DateAccessorsLocal,s=L[a].datefield,l=L[a].step,h=L[a].spacing,u=new Date(t),d=[];d[y]=o.getFullYear(u),d[x]=o.getMonth(u),d[m]=o.getDate(u),d[b]=o.getHours(u),d[w]=o.getMinutes(u),d[A]=o.getSeconds(u),d[O]=o.getMilliseconds(u);var c=d[s]%l;a==v.WEEKLY&&(c=o.getDay(u)),d[s]-=c;for(var p=s+1;p<P;p++)d[p]=p===m?1:0;var g=[],f=o.makeDate.apply(null,d),_=f.getTime();if(a<=v.HOURLY)for(_<t&&(_+=h,f=new Date(_));_<=e;)g.push({v:_,label:r.call(n,f,a,i,n)}),_+=h,f=new Date(_);else for(_<t&&(d[s]+=l,_=(f=o.makeDate.apply(null,d)).getTime());_<=e;)(v.DAILY<=a||o.getHours(f)%l==0)&&g.push({v:_,label:r.call(n,f,a,i,n)}),d[s]+=l,_=(f=o.makeDate.apply(null,d)).getTime();return g};a.getDateAxis=h},{"./dygraph-utils":17}],17:[function(t,e,a){"use strict";function i(t){return!t.pageX||t.pageX<0?0:t.pageX}function n(t){return!t.pageY||t.pageY<0?0:t.pageY}function f(t,e){var a=Math.min(Math.max(1,e||2),21);return Math.abs(t)<.001&&0!==t?t.toExponential(a-1):t.toPrecision(a)}function c(t){return t<10?"0"+t:""+t}function p(t,e,a,i){var n=c(t)+":"+c(e);if(a&&(n+=":"+c(a),i)){var r=""+i;n+="."+("000"+r).substring(r.length)}return n}function r(t,e){var a=e?m:x,i=new Date(t),n=a.getFullYear(i),r=a.getMonth(i),o=a.getDate(i),s=a.getHours(i),l=a.getMinutes(i),h=a.getSeconds(i),u=a.getMilliseconds(i),d=""+n+"/"+c(r+1)+"/"+c(o);return 3600*s+60*l+h+.001*u&&(d+=" "+p(s,l,h,u)),d}function _(t,e){var a=Math.pow(10,e);return Math.round(t*a)/a}function o(t){return new Date(t).getTime()}function s(t){var e=typeof t;return("object"==e||"function"==e&&"function"==typeof t.item)&&null!==t&&"number"==typeof t.length&&3!==t.nodeType}function l(t,e,a,i){e=e||0,a=a||t.length,this.hasNext=!0,this.peek=null,this.start_=e,this.array_=t,this.predicate_=i,this.end_=Math.min(t.length,e+a),this.nextIdx_=e-1,this.next()}function v(t,e){return e<0?1/Math.pow(t,-e):Math.pow(t,e)}function h(t){var e=O.exec(t);if(!e)return null;var a=parseInt(e[1],10),i=parseInt(e[2],10),n=parseInt(e[3],10);return e[4]?{r:a,g:i,b:n,a:parseFloat(e[4])}:{r:a,g:i,b:n}}function u(t,e){var a=e("sigFigs");if(null!==a)return f(t,a);var i,n=e("digitsAfterDecimal"),r=e("maxNumberWidth"),o=e("labelsKMB"),s=e("labelsKMG2");if(i=0!==t&&(Math.abs(t)>=Math.pow(10,r)||Math.abs(t)<Math.pow(10,-n))?t.toExponential(n):""+_(t,n),o||s){var l,h=[],u=[];o&&(l=1e3,h=P),s&&(o&&console.warn("Setting both labelsKMB and labelsKMG2. Pick one!"),l=1024,h=L,u=S);for(var d=Math.abs(t),c=v(l,h.length),p=h.length-1;0<=p;p--,c/=l)if(c<=d){i=_(t/c,n)+h[p];break}if(s){var g=String(t.toExponential()).split("e-");2===g.length&&3<=g[1]&&g[1]<=24&&(i=0<g[1]%3?_(g[0]/v(10,g[1]%3),n):Number(g[0]).toFixed(2),i+=u[Math.floor(g[1]/3)-1])}}return i}Object.defineProperty(a,"__esModule",{value:!0}),a.removeEvent=function(t,e,a){t.removeEventListener(e,a,!1)},a.cancelEvent=function(t){return(t=t||window.event).stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1},a.hsvToRGB=function(t,e,a){var i,n,r;if(0===e)r=n=i=a;else{var o=Math.floor(6*t),s=6*t-o,l=a*(1-e),h=a*(1-e*s),u=a*(1-e*(1-s));switch(o){case 1:i=h,n=a,r=l;break;case 2:i=l,n=a,r=u;break;case 3:i=l,n=h,r=a;break;case 4:i=u,n=l,r=a;break;case 5:i=a,n=l,r=h;break;case 6:case 0:i=a,n=u,r=l}}return"rgb("+(i=Math.floor(255*i+.5))+","+(n=Math.floor(255*n+.5))+","+(r=Math.floor(255*r+.5))+")"},a.findPos=function(t){var e=t.getBoundingClientRect(),a=window,i=document.documentElement;return{x:e.left+(a.pageXOffset||i.scrollLeft),y:e.top+(a.pageYOffset||i.scrollTop)}},a.pageX=i,a.pageY=n,a.dragGetX_=function(t,e){return i(t)-e.px},a.dragGetY_=function(t,e){return n(t)-e.py},a.isOK=function(t){return!!t&&!isNaN(t)},a.isValidPoint=function(t,e){return!!t&&null!==t.yval&&null!==t.x&&void 0!==t.x&&null!==t.y&&void 0!==t.y&&!(isNaN(t.x)||!e&&isNaN(t.y))},a.floatFormat=f,a.zeropad=c,a.hmsString_=p,a.dateString_=r,a.round_=_,a.binarySearch=function(t,e,a,i,n){for(var r=!0;r;){var o=t,s=e,l=a,h=i,u=n;if(r=!1,null!=h&&null!=u||(h=0,u=s.length-1),u<h)return-1;null!=l||(l=0);var d,c=function(t){return 0<=t&&t<s.length},p=parseInt((h+u)/2,10),g=s[p];if(g==o)return p;if(o<g){if(0<l&&c(d=p-1)&&s[d]<o)return p;t=o,e=s,a=l,i=h,n=p-1,r=!0,c=p=g=d=void 0}else{if(!(g<o))return-1;if(l<0&&c(d=p+1)&&s[d]>o)return p;t=o,e=s,a=l,i=p+1,n=u,r=!0,c=p=g=d=void 0}}},a.dateParser=function(t){var e,a;if((-1==t.search("-")||-1!=t.search("T")||-1!=t.search("Z"))&&(a=o(t))&&!isNaN(a))return a;if(-1!=t.search("-")){for(e=t.replace("-","/","g");-1!=e.search("-");)e=e.replace("-","/");a=o(e)}else a=8==t.length?o(e=t.substr(0,4)+"/"+t.substr(4,2)+"/"+t.substr(6,2)):o(t);return a&&!isNaN(a)||console.error("Couldn't parse "+t+" as a date"),a},a.dateStrToMillis=o,a.update=function(t,e){if(null!=e)for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t},a.updateDeep=function t(e,a){if(null!=a)for(var i in a)a.hasOwnProperty(i)&&(null===a[i]?e[i]=null:s(a[i])?e[i]=a[i].slice():(n=a[i],("object"==typeof Node?n instanceof Node:"object"==typeof n&&"number"==typeof n.nodeType&&"string"==typeof n.nodeName)||"object"!=typeof a[i]?e[i]=a[i]:("object"==typeof e[i]&&null!==e[i]||(e[i]={}),t(e[i],a[i]))));var n;return e},a.isArrayLike=s,a.isDateLike=function(t){return"object"==typeof t&&null!==t&&"function"==typeof t.getTime},a.clone=function t(e){for(var a=[],i=0;i<e.length;i++)s(e[i])?a.push(t(e[i])):a.push(e[i]);return a},a.createCanvas=function(){return document.createElement("canvas")},a.getContextPixelRatio=function(t){try{var e=window.devicePixelRatio,a=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return void 0!==e?e/a:1}catch(t){return 1}},a.Iterator=l,a.createIterator=function(t,e,a,i){return new l(t,e,a,i)},a.repeatAndCleanup=function(i,t,n,r){var o,s=0,l=(new Date).getTime();if(i(s),1!=t){var h=t-1;!function a(){t<=s||b.call(window,function(){var t=(new Date).getTime()-l;o=s;var e=(s=Math.floor(t/n))-o;h<s+e||h<=s?(i(h),r()):(0!==e&&i(s),a())})}()}else r()},a.isPixelChangingOptionList=function(t,e){var a={};if(t)for(var i=1;i<t.length;i++)a[t[i]]=!0;var n=function(t){for(var e in t)if(t.hasOwnProperty(e)&&!w[e])return!0;return!1};for(var r in e)if(e.hasOwnProperty(r))if("highlightSeriesOpts"==r||a[r]&&!e.series){if(n(e[r]))return!0}else if("series"==r||"axes"==r){var o=e[r];for(var s in o)if(o.hasOwnProperty(s)&&n(o[s]))return!0}else if(!w[r])return!0;return!1},a.detectLineDelimiter=function(t){for(var e=0;e<t.length;e++){var a=t.charAt(e);if("\r"===a)return e+1<t.length&&"\n"===t.charAt(e+1)?"\r\n":a;if("\n"===a)return e+1<t.length&&"\r"===t.charAt(e+1)?"\n\r":a}return null},a.isNodeContainedBy=function(t,e){if(null===e||null===t)return!1;for(var a=t;a&&a!==e;)a=a.parentNode;return a===e},a.pow=v,a.toRGB_=function(t){var e=h(t);if(e)return e;var a=document.createElement("div");a.style.backgroundColor=t,a.style.visibility="hidden",document.body.appendChild(a);var i=window.getComputedStyle(a,null).backgroundColor;return document.body.removeChild(a),h(i)},a.isCanvasSupported=function(t){try{(t||document.createElement("canvas")).getContext("2d")}catch(t){return!1}return!0},a.parseFloat_=function(t,e,a){var i=parseFloat(t);if(!isNaN(i))return i;if(/^ *$/.test(t))return null;if(/^ *nan *$/i.test(t))return NaN;var n="Unable to parse '"+t+"' as a number";return void 0!==a&&void 0!==e&&(n+=" on line "+(1+(e||0))+" ('"+a+"') of CSV."),console.error(n),null},a.numberValueFormatter=u,a.numberAxisLabelFormatter=function(t,e,a){return u.call(this,t,a)},a.dateAxisLabelFormatter=function(t,e,a){var i=a("labelsUTC")?m:x,n=i.getFullYear(t),r=i.getMonth(t),o=i.getDate(t),s=i.getHours(t),l=i.getMinutes(t),h=i.getSeconds(t),u=i.getMilliseconds(t);if(e>=g.Granularity.DECADAL)return""+n;if(e>=g.Granularity.MONTHLY)return T[r]+"&#160;"+n;if(0===3600*s+60*l+h+.001*u||e>=g.Granularity.DAILY)return c(o)+"&#160;"+T[r];if(e<g.Granularity.SECONDLY){var d=""+u;return c(h)+"."+("000"+d).substring(d.length)}return e>g.Granularity.MINUTELY?p(s,l,h,0):p(s,l,h,u)},a.dateValueFormatter=function(t,e){return r(t,e("labelsUTC"))};var g=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(t("./dygraph-tickers"));a.LOG_SCALE=10;var d=Math.log(10);a.LN_TEN=d;var y=function(t){return Math.log(t)/d};a.log10=y;a.logRangeFraction=function(t,e,a){var i=y(t),n=i+a*(y(e)-i);return Math.pow(10,n)};a.DOTTED_LINE=[2,2];a.DASHED_LINE=[7,3];a.DOT_DASH_LINE=[7,2,2,2],a.HORIZONTAL=1,a.VERTICAL=2;a.getContext=function(t){return t.getContext("2d")};a.addEvent=function(t,e,a){t.addEventListener(e,a,!1)};var x={getFullYear:function(t){return t.getFullYear()},getMonth:function(t){return t.getMonth()},getDate:function(t){return t.getDate()},getHours:function(t){return t.getHours()},getMinutes:function(t){return t.getMinutes()},getSeconds:function(t){return t.getSeconds()},getMilliseconds:function(t){return t.getMilliseconds()},getDay:function(t){return t.getDay()},makeDate:function(t,e,a,i,n,r,o){return new Date(t,e,a,i,n,r,o)}};a.DateAccessorsLocal=x;var m={getFullYear:function(t){return t.getUTCFullYear()},getMonth:function(t){return t.getUTCMonth()},getDate:function(t){return t.getUTCDate()},getHours:function(t){return t.getUTCHours()},getMinutes:function(t){return t.getUTCMinutes()},getSeconds:function(t){return t.getUTCSeconds()},getMilliseconds:function(t){return t.getUTCMilliseconds()},getDay:function(t){return t.getUTCDay()},makeDate:function(t,e,a,i,n,r,o){return new Date(Date.UTC(t,e,a,i,n,r,o))}};a.DateAccessorsUTC=m,l.prototype.next=function(){if(!this.hasNext)return null;for(var t=this.peek,e=this.nextIdx_+1,a=!1;e<this.end_;){if(!this.predicate_||this.predicate_(this.array_,e)){this.peek=this.array_[e],a=!0;break}e++}return this.nextIdx_=e,a||(this.hasNext=!1,this.peek=null),t};var b=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};a.requestAnimFrame=b;var w={annotationClickHandler:!0,annotationDblClickHandler:!0,annotationMouseOutHandler:!0,annotationMouseOverHandler:!0,axisLineColor:!0,axisLineWidth:!0,clickCallback:!0,drawCallback:!0,drawHighlightPointCallback:!0,drawPoints:!0,drawPointCallback:!0,drawGrid:!0,fillAlpha:!0,gridLineColor:!0,gridLineWidth:!0,hideOverlayOnMouseOut:!0,highlightCallback:!0,highlightCircleSize:!0,interactionModel:!0,labelsDiv:!0,labelsKMB:!0,labelsKMG2:!0,labelsSeparateLines:!0,labelsShowZeroValues:!0,legend:!0,panEdgeFraction:!0,pixelsPerYLabel:!0,pointClickCallback:!0,pointSize:!0,rangeSelectorPlotFillColor:!0,rangeSelectorPlotFillGradientColor:!0,rangeSelectorPlotStrokeColor:!0,rangeSelectorBackgroundStrokeColor:!0,rangeSelectorBackgroundLineWidth:!0,rangeSelectorPlotLineWidth:!0,rangeSelectorForegroundStrokeColor:!0,rangeSelectorForegroundLineWidth:!0,rangeSelectorAlpha:!0,showLabelsOnHighlight:!0,showRoller:!0,strokeWidth:!0,underlayCallback:!0,unhighlightCallback:!0,zoomCallback:!0},A={DEFAULT:function(t,e,a,i,n,r,o){a.beginPath(),a.fillStyle=r,a.arc(i,n,o,0,2*Math.PI,!1),a.fill()}};a.Circles=A;var O=/^rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(?:,\s*([01](?:\.\d+)?))?\)$/,P=["K","M","B","T","Q"],L=["k","M","G","T","P","E","Z","Y"],S=["m","u","n","p","f","a","z","y"],T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},{"./dygraph-tickers":16}],18:[function(P,L,S){(function(t){"use strict";function e(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(S,"__esModule",{value:!0});var g=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var a=[],i=!0,n=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(a.push(o.value),!e||a.length!==e);i=!0);}catch(t){n=!0,r=t}finally{try{!i&&s.return&&s.return()}finally{if(n)throw r}}return a}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=a(P("./dygraph-layout")),r=a(P("./dygraph-canvas")),p=a(P("./dygraph-options")),i=a(P("./dygraph-interaction-model")),x=e(P("./dygraph-tickers")),k=e(P("./dygraph-utils")),f=a(P("./dygraph-default-attrs")),o=a((a(P("./dygraph-options-reference")),P("./iframe-tarp"))),s=a(P("./datahandler/default")),l=a(P("./datahandler/bars-error")),h=a(P("./datahandler/bars-custom")),u=a(P("./datahandler/default-fractions")),d=a(P("./datahandler/bars-fractions")),c=a(P("./datahandler/bars")),_=a(P("./plugins/annotations")),v=a(P("./plugins/axes")),y=a(P("./plugins/chart-labels")),m=a(P("./plugins/grid")),b=a(P("./plugins/legend")),w=a(P("./plugins/range-selector")),A=a(P("./dygraph-gviz")),O=function(t,e,a){this.__init__(t,e,a)};O.NAME="Dygraph",O.VERSION="2.1.0",O.DEFAULT_ROLL_PERIOD=1,O.DEFAULT_WIDTH=480,O.DEFAULT_HEIGHT=320,O.ANIMATION_STEPS=12,O.ANIMATION_DURATION=200,O.Plotters=r.default._Plotters,O.addedAnnotationCSS=!1,O.prototype.__init__=function(t,e,a){if(this.is_initial_draw_=!0,this.readyFns_=[],null!=a||(a={}),a=O.copyUserAttrs_(a),"string"==typeof t&&(t=document.getElementById(t)),!t)throw new Error("Constructing dygraph with a non-existent div!");this.maindiv_=t,this.file_=e,this.rollPeriod_=a.rollPeriod||O.DEFAULT_ROLL_PERIOD,this.previousVerticalX_=-1,this.fractions_=a.fractions||!1,this.dateWindow_=a.dateWindow||null,this.annotations_=[],(t.innerHTML="")===t.style.width&&a.width&&(t.style.width=a.width+"px"),""===t.style.height&&a.height&&(t.style.height=a.height+"px"),""===t.style.height&&0===t.clientHeight&&(t.style.height=O.DEFAULT_HEIGHT+"px",""===t.style.width&&(t.style.width=O.DEFAULT_WIDTH+"px")),this.width_=t.clientWidth||a.width||0,this.height_=t.clientHeight||a.height||0,a.stackedGraph&&(a.fillGraph=!0),this.user_attrs_={},k.update(this.user_attrs_,a),this.attrs_={},k.updateDeep(this.attrs_,f.default),this.boundaryIds_=[],this.setIndexByName_={},this.datasetIndex_=[],this.registeredEvents_=[],this.eventListeners_={},this.attributes_=new p.default(this),this.createInterface_(),this.plugins_=[];for(var i=O.PLUGINS.concat(this.getOption("plugins")),n=0;n<i.length;n++){var r,o=i[n],s={plugin:r=void 0!==o.activate?o:new o,events:{},options:{},pluginOptions:{}},l=r.activate(this);for(var h in l)l.hasOwnProperty(h)&&(s.events[h]=l[h]);this.plugins_.push(s)}for(n=0;n<this.plugins_.length;n++){var u=this.plugins_[n];for(var h in u.events)if(u.events.hasOwnProperty(h)){var d=u.events[h],c=[u.plugin,d];h in this.eventListeners_?this.eventListeners_[h].push(c):this.eventListeners_[h]=[c]}}this.createDragInterface_(),this.start_()},O.prototype.cascadeEvents_=function(t,e){if(!(t in this.eventListeners_))return!1;var a={dygraph:this,cancelable:!1,defaultPrevented:!1,preventDefault:function(){if(!a.cancelable)throw"Cannot call preventDefault on non-cancelable event.";a.defaultPrevented=!0},propagationStopped:!1,stopPropagation:function(){a.propagationStopped=!0}};k.update(a,e);var i=this.eventListeners_[t];if(i)for(var n=i.length-1;0<=n;n--){var r=i[n][0];if(i[n][1].call(r,a),a.propagationStopped)break}return a.defaultPrevented},O.prototype.getPluginInstance_=function(t){for(var e=0;e<this.plugins_.length;e++){var a=this.plugins_[e];if(a.plugin instanceof t)return a.plugin}return null},O.prototype.isZoomed=function(t){var e=!!this.dateWindow_;if("x"===t)return e;var a=0<=this.axes_.map(function(t){return!!t.valueRange}).indexOf(!0);if(null==t)return e||a;if("y"===t)return a;throw new Error("axis parameter is ["+t+"] must be null, 'x' or 'y'.")},O.prototype.toString=function(){var t=this.maindiv_;return"[Dygraph "+(t&&t.id?t.id:t)+"]"},O.prototype.attr_=function(t,e){return e?this.attributes_.getForSeries(t,e):this.attributes_.get(t)},O.prototype.getOption=function(t,e){return this.attr_(t,e)},O.prototype.getNumericOption=function(t,e){return this.getOption(t,e)},O.prototype.getStringOption=function(t,e){return this.getOption(t,e)},O.prototype.getBooleanOption=function(t,e){return this.getOption(t,e)},O.prototype.getFunctionOption=function(t,e){return this.getOption(t,e)},O.prototype.getOptionForAxis=function(t,e){return this.attributes_.getForAxis(t,e)},O.prototype.optionsViewForAxis_=function(a){var i=this;return function(t){var e=i.user_attrs_.axes;return e&&e[a]&&e[a].hasOwnProperty(t)?e[a][t]:("x"!==a||"logscale"!==t)&&(void 0!==i.user_attrs_[t]?i.user_attrs_[t]:(e=i.attrs_.axes)&&e[a]&&e[a].hasOwnProperty(t)?e[a][t]:"y"==a&&i.axes_[0].hasOwnProperty(t)?i.axes_[0][t]:"y2"==a&&i.axes_[1].hasOwnProperty(t)?i.axes_[1][t]:i.attr_(t))}},O.prototype.rollPeriod=function(){return this.rollPeriod_},O.prototype.xAxisRange=function(){return this.dateWindow_?this.dateWindow_:this.xAxisExtremes()},O.prototype.xAxisExtremes=function(){var t=this.getNumericOption("xRangePad")/this.plotter_.area.w;if(0===this.numRows())return[0-t,1+t];var e=this.rawData_[0][0],a=this.rawData_[this.rawData_.length-1][0];if(t){var i=a-e;e-=i*t,a+=i*t}return[e,a]},O.prototype.yAxisExtremes=function(){var t=this.gatherDatasets_(this.rolledSeries_,null).extremes,e=this.axes_;this.computeYAxisRanges_(t);var a=this.axes_;return this.axes_=e,a.map(function(t){return t.extremeRange})},O.prototype.yAxisRange=function(t){if(void 0===t&&(t=0),t<0||t>=this.axes_.length)return null;var e=this.axes_[t];return[e.computedValueRange[0],e.computedValueRange[1]]},O.prototype.yAxisRanges=function(){for(var t=[],e=0;e<this.axes_.length;e++)t.push(this.yAxisRange(e));return t},O.prototype.toDomCoords=function(t,e,a){return[this.toDomXCoord(t),this.toDomYCoord(e,a)]},O.prototype.toDomXCoord=function(t){if(null===t)return null;var e=this.plotter_.area,a=this.xAxisRange();return e.x+(t-a[0])/(a[1]-a[0])*e.w},O.prototype.toDomYCoord=function(t,e){var a=this.toPercentYCoord(t,e);if(null===a)return null;var i=this.plotter_.area;return i.y+a*i.h},O.prototype.toDataCoords=function(t,e,a){return[this.toDataXCoord(t),this.toDataYCoord(e,a)]},O.prototype.toDataXCoord=function(t){if(null===t)return null;var e=this.plotter_.area,a=this.xAxisRange();if(this.attributes_.getForAxis("logscale","x")){var i=(t-e.x)/e.w;return k.logRangeFraction(a[0],a[1],i)}return a[0]+(t-e.x)/e.w*(a[1]-a[0])},O.prototype.toDataYCoord=function(t,e){if(null===t)return null;var a=this.plotter_.area,i=this.yAxisRange(e);if(void 0===e&&(e=0),this.attributes_.getForAxis("logscale",e)){var n=(t-a.y)/a.h;return k.logRangeFraction(i[1],i[0],n)}return i[0]+(a.y+a.h-t)/a.h*(i[1]-i[0])},O.prototype.toPercentYCoord=function(t,e){if(null===t)return null;void 0===e&&(e=0);var a,i=this.yAxisRange(e);if(this.attributes_.getForAxis("logscale",e)){var n=k.log10(i[0]),r=k.log10(i[1]);a=(r-k.log10(t))/(r-n)}else a=(i[1]-t)/(i[1]-i[0]);return a},O.prototype.toPercentXCoord=function(t){if(null===t)return null;var e,a=this.xAxisRange();if(!0===this.attributes_.getForAxis("logscale","x")){var i=k.log10(a[0]),n=k.log10(a[1]);e=(k.log10(t)-i)/(n-i)}else e=(t-a[0])/(a[1]-a[0]);return e},O.prototype.numColumns=function(){return this.rawData_?this.rawData_[0]?this.rawData_[0].length:this.attr_("labels").length:0},O.prototype.numRows=function(){return this.rawData_?this.rawData_.length:0},O.prototype.getValue=function(t,e){return t<0||t>this.rawData_.length?null:e<0||e>this.rawData_[t].length?null:this.rawData_[t][e]},O.prototype.createInterface_=function(){var t=this.maindiv_;this.graphDiv=document.createElement("div"),this.graphDiv.style.textAlign="left",this.graphDiv.style.position="relative",t.appendChild(this.graphDiv),this.canvas_=k.createCanvas(),this.canvas_.style.position="absolute",this.hidden_=this.createPlotKitCanvas_(this.canvas_),this.canvas_ctx_=k.getContext(this.canvas_),this.hidden_ctx_=k.getContext(this.hidden_),this.resizeElements_(),this.graphDiv.appendChild(this.hidden_),this.graphDiv.appendChild(this.canvas_),this.mouseEventElement_=this.createMouseEventElement_(),this.layout_=new n.default(this);var i=this;this.mouseMoveHandler_=function(t){i.mouseMove_(t)},this.mouseOutHandler_=function(t){var e=t.target||t.fromElement,a=t.relatedTarget||t.toElement;k.isNodeContainedBy(e,i.graphDiv)&&!k.isNodeContainedBy(a,i.graphDiv)&&i.mouseOut_(t)},this.addAndTrackEvent(window,"mouseout",this.mouseOutHandler_),this.addAndTrackEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),this.resizeHandler_||(this.resizeHandler_=function(t){i.resize()},this.addAndTrackEvent(window,"resize",this.resizeHandler_))},O.prototype.resizeElements_=function(){this.graphDiv.style.width=this.width_+"px",this.graphDiv.style.height=this.height_+"px";var t=this.getNumericOption("pixelRatio"),e=t||k.getContextPixelRatio(this.canvas_ctx_);this.canvas_.width=this.width_*e,this.canvas_.height=this.height_*e,this.canvas_.style.width=this.width_+"px",this.canvas_.style.height=this.height_+"px",1!==e&&this.canvas_ctx_.scale(e,e);var a=t||k.getContextPixelRatio(this.hidden_ctx_);this.hidden_.width=this.width_*a,this.hidden_.height=this.height_*a,this.hidden_.style.width=this.width_+"px",this.hidden_.style.height=this.height_+"px",1!==a&&this.hidden_ctx_.scale(a,a)},O.prototype.destroy=function(){this.canvas_ctx_.restore(),this.hidden_ctx_.restore();for(var t=this.plugins_.length-1;0<=t;t--){var e=this.plugins_.pop();e.plugin.destroy&&e.plugin.destroy()}this.removeTrackedEvents_(),k.removeEvent(window,"mouseout",this.mouseOutHandler_),k.removeEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),k.removeEvent(window,"resize",this.resizeHandler_),this.resizeHandler_=null,function t(e){for(;e.hasChildNodes();)t(e.firstChild),e.removeChild(e.firstChild)}(this.maindiv_);var a=function(t){for(var e in t)"object"==typeof t[e]&&(t[e]=null)};a(this.layout_),a(this.plotter_),a(this)},O.prototype.createPlotKitCanvas_=function(t){var e=k.createCanvas();return e.style.position="absolute",e.style.top=t.style.top,e.style.left=t.style.left,e.width=this.width_,e.height=this.height_,e.style.width=this.width_+"px",e.style.height=this.height_+"px",e},O.prototype.createMouseEventElement_=function(){return this.canvas_},O.prototype.setColors_=function(){var t=this.getLabels(),e=t.length-1;this.colors_=[],this.colorsMap_={};for(var a=this.getNumericOption("colorSaturation")||1,i=this.getNumericOption("colorValue")||.5,n=Math.ceil(e/2),r=this.getOption("colors"),o=this.visibility(),s=0;s<e;s++)if(o[s]){var l=t[s+1],h=this.attributes_.getForSeries("color",l);if(!h)if(r)h=r[s%r.length];else{var u=1*(s%2?n+(s+1)/2:Math.ceil((s+1)/2))/(1+e);h=k.hsvToRGB(u,a,i)}this.colors_.push(h),this.colorsMap_[l]=h}},O.prototype.getColors=function(){return this.colors_},O.prototype.getPropertiesForSeries=function(t){for(var e=-1,a=this.getLabels(),i=1;i<a.length;i++)if(a[i]==t){e=i;break}return-1==e?null:{name:t,column:e,visible:this.visibility()[e-1],color:this.colorsMap_[t],axis:1+this.attributes_.axisForSeries(t)}},O.prototype.createRollInterface_=function(){var t=this,e=this.roller_;e||(this.roller_=e=document.createElement("input"),e.type="text",e.style.display="none",e.className="dygraph-roller",this.graphDiv.appendChild(e));var a=this.getBooleanOption("showRoller")?"block":"none",i=this.getArea(),n={top:i.y+i.h-25+"px",left:i.x+1+"px",display:a};e.size="2",e.value=this.rollPeriod_,k.update(e.style,n),e.onchange=function(){return t.adjustRoll(e.value)}},O.prototype.createDragInterface_=function(){var a={isZooming:!1,isPanning:!1,is2DPan:!1,dragStartX:null,dragStartY:null,dragEndX:null,dragEndY:null,dragDirection:null,prevEndX:null,prevEndY:null,prevDragDirection:null,cancelNextDblclick:!1,initialLeftmostDate:null,xUnitsPerPixel:null,dateRange:null,px:0,py:0,boundedDates:null,boundedValues:null,tarp:new o.default,initializeMouseDown:function(t,e,a){t.preventDefault?t.preventDefault():(t.returnValue=!1,t.cancelBubble=!0);var i=k.findPos(e.canvas_);a.px=i.x,a.py=i.y,a.dragStartX=k.dragGetX_(t,a),a.dragStartY=k.dragGetY_(t,a),a.cancelNextDblclick=!1,a.tarp.cover()},destroy:function(){var t=this;if((t.isZooming||t.isPanning)&&(t.isZooming=!1,t.dragStartX=null,t.dragStartY=null),t.isPanning){t.isPanning=!1,t.draggingDate=null,t.dateRange=null;for(var e=0;e<i.axes_.length;e++)delete i.axes_[e].draggingValue,delete i.axes_[e].dragValueRange}t.tarp.uncover()}},t=this.getOption("interactionModel"),i=this;for(var e in t)t.hasOwnProperty(e)&&this.addAndTrackEvent(this.mouseEventElement_,e,function(e){return function(t){e(t,i,a)}}(t[e]));if(!t.willDestroyContextMyself){this.addAndTrackEvent(document,"mouseup",function(t){a.destroy()})}},O.prototype.drawZoomRect_=function(t,e,a,i,n,r,o,s){var l=this.canvas_ctx_;r==k.HORIZONTAL?l.clearRect(Math.min(e,o),this.layout_.getPlotArea().y,Math.abs(e-o),this.layout_.getPlotArea().h):r==k.VERTICAL&&l.clearRect(this.layout_.getPlotArea().x,Math.min(i,s),this.layout_.getPlotArea().w,Math.abs(i-s)),t==k.HORIZONTAL?a&&e&&(l.fillStyle="rgba(128,128,128,0.33)",l.fillRect(Math.min(e,a),this.layout_.getPlotArea().y,Math.abs(a-e),this.layout_.getPlotArea().h)):t==k.VERTICAL&&n&&i&&(l.fillStyle="rgba(128,128,128,0.33)",l.fillRect(this.layout_.getPlotArea().x,Math.min(i,n),this.layout_.getPlotArea().w,Math.abs(n-i)))},O.prototype.clearZoomRect_=function(){this.currentZoomRectArgs_=null,this.canvas_ctx_.clearRect(0,0,this.width_,this.height_)},O.prototype.doZoomX_=function(t,e){this.currentZoomRectArgs_=null;var a=this.toDataXCoord(t),i=this.toDataXCoord(e);this.doZoomXDates_(a,i)},O.prototype.doZoomXDates_=function(t,e){var a=this,i=this.xAxisRange(),n=[t,e],r=this.getFunctionOption("zoomCallback");this.doAnimatedZoom(i,n,null,null,function(){r&&r.call(a,t,e,a.yAxisRanges())})},O.prototype.doZoomY_=function(t,e){var n=this;this.currentZoomRectArgs_=null;for(var a=this.yAxisRanges(),i=[],r=0;r<this.axes_.length;r++){var o=this.toDataYCoord(t,r),s=this.toDataYCoord(e,r);i.push([s,o])}var l=this.getFunctionOption("zoomCallback");this.doAnimatedZoom(null,null,a,i,function(){if(l){var t=n.xAxisRange(),e=g(t,2),a=e[0],i=e[1];l.call(n,a,i,n.yAxisRanges())}})},O.zoomAnimationFunction=function(t,e){return(1-Math.pow(1.5,-t))/(1-Math.pow(1.5,-e))},O.prototype.resetZoom=function(){var t=this,e=this.isZoomed("x"),a=this.isZoomed("y"),i=e||a;if(this.clearSelection(),i){var n=this.xAxisExtremes(),r=g(n,2),o=r[0],s=r[1],l=this.getBooleanOption("animatedZooms"),h=this.getFunctionOption("zoomCallback");if(!l)return this.dateWindow_=null,this.axes_.forEach(function(t){t.valueRange&&delete t.valueRange}),this.drawGraph_(),void(h&&h.call(this,o,s,this.yAxisRanges()));var u=null,d=null,c=null,p=null;e&&(u=this.xAxisRange(),d=[o,s]),a&&(c=this.yAxisRanges(),p=this.yAxisExtremes()),this.doAnimatedZoom(u,d,c,p,function(){t.dateWindow_=null,t.axes_.forEach(function(t){t.valueRange&&delete t.valueRange}),h&&h.call(t,o,s,t.yAxisRanges())})}},O.prototype.doAnimatedZoom=function(t,e,a,i,n){var r,o,s=this,l=this.getBooleanOption("animatedZooms")?O.ANIMATION_STEPS:1,h=[],u=[];if(null!==t&&null!==e)for(r=1;r<=l;r++)o=O.zoomAnimationFunction(r,l),h[r-1]=[t[0]*(1-o)+o*e[0],t[1]*(1-o)+o*e[1]];if(null!==a&&null!==i)for(r=1;r<=l;r++){o=O.zoomAnimationFunction(r,l);for(var d=[],c=0;c<this.axes_.length;c++)d.push([a[c][0]*(1-o)+o*i[c][0],a[c][1]*(1-o)+o*i[c][1]]);u[r-1]=d}k.repeatAndCleanup(function(t){if(u.length)for(var e=0;e<s.axes_.length;e++){var a=u[t][e];s.axes_[e].valueRange=[a[0],a[1]]}h.length&&(s.dateWindow_=h[t]),s.drawGraph_()},l,O.ANIMATION_DURATION/l,n)},O.prototype.getArea=function(){return this.plotter_.area},O.prototype.eventToDomCoords=function(t){if(t.offsetX&&t.offsetY)return[t.offsetX,t.offsetY];var e=k.findPos(this.mouseEventElement_);return[k.pageX(t)-e.x,k.pageY(t)-e.y]},O.prototype.findClosestRow=function(t){for(var e=1/0,a=-1,i=this.layout_.points,n=0;n<i.length;n++)for(var r=i[n],o=r.length,s=0;s<o;s++){var l=r[s];if(k.isValidPoint(l,!0)){var h=Math.abs(l.canvasx-t);h<e&&(e=h,a=l.idx)}}return a},O.prototype.findClosestPoint=function(t,e){for(var a,i,n,r,o,s,l,h=1/0,u=this.layout_.points.length-1;0<=u;--u)for(var d=this.layout_.points[u],c=0;c<d.length;++c)r=d[c],k.isValidPoint(r)&&((a=(i=r.canvasx-t)*i+(n=r.canvasy-e)*n)<h&&(h=a,s=u,l=(o=r).idx));return{row:l,seriesName:this.layout_.setNames[s],point:o}},O.prototype.findStackedPoint=function(t,e){for(var a,i,n=this.findClosestRow(t),r=0;r<this.layout_.points.length;++r){var o=n-this.getLeftBoundary_(r),s=this.layout_.points[r];if(!(o>=s.length)){var l=s[o];if(k.isValidPoint(l)){var h=l.canvasy;if(t>l.canvasx&&o+1<s.length){var u=s[o+1];if(k.isValidPoint(u))if(0<(d=u.canvasx-l.canvasx))h+=(t-l.canvasx)/d*(u.canvasy-l.canvasy)}else if(t<l.canvasx&&0<o){var d,c=s[o-1];if(k.isValidPoint(c))if(0<(d=l.canvasx-c.canvasx))h+=(l.canvasx-t)/d*(c.canvasy-l.canvasy)}(0===r||h<e)&&(a=l,i=r)}}}return{row:n,seriesName:this.layout_.setNames[i],point:a}},O.prototype.mouseMove_=function(t){var e=this.layout_.points;if(null!=e){var a=this.eventToDomCoords(t),i=a[0],n=a[1],r=!1;if(this.getOption("highlightSeriesOpts")&&!this.isSeriesLocked()){var o;o=this.getBooleanOption("stackedGraph")?this.findStackedPoint(i,n):this.findClosestPoint(i,n),r=this.setSelection(o.row,o.seriesName)}else{var s=this.findClosestRow(i);r=this.setSelection(s)}var l=this.getFunctionOption("highlightCallback");l&&r&&l.call(this,t,this.lastx_,this.selPoints_,this.lastRow_,this.highlightSet_)}},O.prototype.getLeftBoundary_=function(t){if(this.boundaryIds_[t])return this.boundaryIds_[t][0];for(var e=0;e<this.boundaryIds_.length;e++)if(void 0!==this.boundaryIds_[e])return this.boundaryIds_[e][0];return 0},O.prototype.animateSelection_=function(e){void 0===this.fadeLevel&&(this.fadeLevel=0),void 0===this.animateId&&(this.animateId=0);var t=this.fadeLevel,a=e<0?t:10-t;if(a<=0)this.fadeLevel&&this.updateSelection_(1);else{var i=++this.animateId,n=this;k.repeatAndCleanup(function(t){n.animateId==i&&(n.fadeLevel+=e,0===n.fadeLevel?n.clearSelection():n.updateSelection_(n.fadeLevel/10))},a,30,function(){0!==n.fadeLevel&&e<0&&(n.fadeLevel=0,n.clearSelection())})}},O.prototype.updateSelection_=function(t){this.cascadeEvents_("select",{selectedRow:-1===this.lastRow_?void 0:this.lastRow_,selectedX:-1===this.lastx_?void 0:this.lastx_,selectedPoints:this.selPoints_});var e,a=this.canvas_ctx_;if(this.getOption("highlightSeriesOpts")){a.clearRect(0,0,this.width_,this.height_);var i=1-this.getNumericOption("highlightSeriesBackgroundAlpha"),n=k.toRGB_(this.getOption("highlightSeriesBackgroundColor"));if(i){if(void 0===t)return void this.animateSelection_(1);i*=t,a.fillStyle="rgba("+n.r+","+n.g+","+n.b+","+i+")",a.fillRect(0,0,this.width_,this.height_)}this.plotter_._renderLineChart(this.highlightSet_,a)}else if(0<=this.previousVerticalX_){var r=0,o=this.attr_("labels");for(e=1;e<o.length;e++){var s=this.getNumericOption("highlightCircleSize",o[e]);r<s&&(r=s)}var l=this.previousVerticalX_;a.clearRect(l-r-1,0,2*r+2,this.height_)}if(0<this.selPoints_.length){var h=this.selPoints_[0].canvasx;for(a.save(),e=0;e<this.selPoints_.length;e++){var u=this.selPoints_[e];if(!isNaN(u.canvasy)){var d=this.getNumericOption("highlightCircleSize",u.name),c=this.getFunctionOption("drawHighlightPointCallback",u.name),p=this.plotter_.colors[u.name];c||(c=k.Circles.DEFAULT),a.lineWidth=this.getNumericOption("strokeWidth",u.name),a.strokeStyle=p,a.fillStyle=p,c.call(this,this,u.name,a,h,u.canvasy,p,d,u.idx)}}a.restore(),this.previousVerticalX_=h}},O.prototype.setSelection=function(t,e,a){var i=!(this.selPoints_=[]);if(!1!==t&&0<=t){t!=this.lastRow_&&(i=!0),this.lastRow_=t;for(var n=0;n<this.layout_.points.length;++n){var r=this.layout_.points[n],o=t-this.getLeftBoundary_(n);if(0<=o&&o<r.length&&r[o].idx==t)null!==(l=r[o]).yval&&this.selPoints_.push(l);else for(var s=0;s<r.length;++s){var l;if((l=r[s]).idx==t){null!==l.yval&&this.selPoints_.push(l);break}}}}else 0<=this.lastRow_&&(i=!0),this.lastRow_=-1;return this.selPoints_.length?this.lastx_=this.selPoints_[0].xval:this.lastx_=-1,void 0!==e&&(this.highlightSet_!==e&&(i=!0),this.highlightSet_=e),void 0!==a&&(this.lockedSet_=a),i&&this.updateSelection_(void 0),i},O.prototype.mouseOut_=function(t){this.getFunctionOption("unhighlightCallback")&&this.getFunctionOption("unhighlightCallback").call(this,t),this.getBooleanOption("hideOverlayOnMouseOut")&&!this.lockedSet_&&this.clearSelection()},O.prototype.clearSelection=function(){this.cascadeEvents_("deselect",{}),this.lockedSet_=!1,this.fadeLevel?this.animateSelection_(-1):(this.canvas_ctx_.clearRect(0,0,this.width_,this.height_),this.fadeLevel=0,this.selPoints_=[],this.lastx_=-1,this.lastRow_=-1,this.highlightSet_=null)},O.prototype.getSelection=function(){if(!this.selPoints_||this.selPoints_.length<1)return-1;for(var t=0;t<this.layout_.points.length;t++)for(var e=this.layout_.points[t],a=0;a<e.length;a++)if(e[a].x==this.selPoints_[0].x)return e[a].idx;return-1},O.prototype.getHighlightSeries=function(){return this.highlightSet_},O.prototype.isSeriesLocked=function(){return this.lockedSet_},O.prototype.loadedEvent_=function(t){this.rawData_=this.parseCSV_(t),this.cascadeDataDidUpdateEvent_(),this.predraw_()},O.prototype.addXTicks_=function(){var t;t=this.dateWindow_?[this.dateWindow_[0],this.dateWindow_[1]]:this.xAxisExtremes();var e=this.optionsViewForAxis_("x"),a=e("ticker")(t[0],t[1],this.plotter_.area.w,e,this);this.layout_.setXTicks(a)},O.prototype.getHandlerClass_=function(){return this.attr_("dataHandler")?this.attr_("dataHandler"):this.fractions_?this.getBooleanOption("errorBars")?d.default:u.default:this.getBooleanOption("customBars")?h.default:this.getBooleanOption("errorBars")?l.default:s.default},O.prototype.predraw_=function(){var t=new Date;this.dataHandler_=new(this.getHandlerClass_()),this.layout_.computePlotArea(),this.computeYAxes_(),this.is_initial_draw_||(this.canvas_ctx_.restore(),this.hidden_ctx_.restore()),this.canvas_ctx_.save(),this.hidden_ctx_.save(),this.plotter_=new r.default(this,this.hidden_,this.hidden_ctx_,this.layout_),this.createRollInterface_(),this.cascadeEvents_("predraw"),this.rolledSeries_=[null];for(var e=1;e<this.numColumns();e++){var a=this.dataHandler_.extractSeries(this.rawData_,e,this.attributes_);1<this.rollPeriod_&&(a=this.dataHandler_.rollingAverage(a,this.rollPeriod_,this.attributes_)),this.rolledSeries_.push(a)}this.drawGraph_();var i=new Date;this.drawingTimeMs_=i-t},O.PointType=void 0,O.stackPoints_=function(a,t,e,i){for(var n=null,r=null,o=null,s=-1,l=0;l<a.length;++l){var h=a[l],u=h.xval;void 0===t[u]&&(t[u]=0);var d=h.yval;isNaN(d)||null===d?d="none"==i?0:(function(t){if(!(l<=s))for(var e=l;e<a.length;++e)if(o=null,!isNaN(a[e].yval)&&null!==a[e].yval){o=a[s=e];break}}(),r&&o&&"none"!=i?r.yval+(o.yval-r.yval)*((u-r.xval)/(o.xval-r.xval)):r&&"all"==i?r.yval:o&&"all"==i?o.yval:0):r=h;var c=t[u];n!=u&&(c+=d,t[u]=c),n=u,(h.yval_stacked=c)>e[1]&&(e[1]=c),c<e[0]&&(e[0]=c)}},O.prototype.gatherDatasets_=function(t,e){var a,i,n,r,o,s,l=[],h=[],u=[],d={};for(a=t.length-1;1<=a;a--)if(this.visibility()[a-1]){if(e){s=t[a];var c=e[0],p=e[1];for(r=n=null,i=0;i<s.length;i++)s[i][0]>=c&&null===n&&(n=i),s[i][0]<=p&&(r=i);null===n&&(n=0);for(var g=n,f=!0;f&&0<g;)f=null===s[--g][1];null===r&&(r=s.length-1);var _=r;for(f=!0;f&&_<s.length-1;)f=null===s[++_][1];g!==n&&(n=g),_!==r&&(r=_),l[a-1]=[n,r],s=s.slice(n,r+1)}else s=t[a],l[a-1]=[0,s.length-1];var v=this.attr_("labels")[a],y=this.dataHandler_.getExtremeYValues(s,e,this.getBooleanOption("stepPlot",v)),x=this.dataHandler_.seriesToPoints(s,v,l[a-1][0]);this.getBooleanOption("stackedGraph")&&(void 0===u[o=this.attributes_.axisForSeries(v)]&&(u[o]=[]),O.stackPoints_(x,u[o],y,this.getBooleanOption("stackedGraphNaNFill"))),d[v]=y,h[a]=x}return{points:h,extremes:d,boundaryIds:l}},O.prototype.drawGraph_=function(){var t=new Date,e=this.is_initial_draw_;this.is_initial_draw_=!1,this.layout_.removeAllDatasets(),this.setColors_(),this.attrs_.pointSize=.5*this.getNumericOption("highlightCircleSize");var a=this.gatherDatasets_(this.rolledSeries_,this.dateWindow_),i=a.points,n=a.extremes;this.boundaryIds_=a.boundaryIds,this.setIndexByName_={};for(var r=this.attr_("labels"),o=0,s=1;s<i.length;s++)this.visibility()[s-1]&&(this.layout_.addDataset(r[s],i[s]),this.datasetIndex_[s]=o++);for(s=0;s<r.length;s++)this.setIndexByName_[r[s]]=s;if(this.computeYAxisRanges_(n),this.layout_.setYAxes(this.axes_),this.addXTicks_(),this.layout_.evaluate(),this.renderGraph_(e),this.getStringOption("timingName")){var l=new Date;console.log(this.getStringOption("timingName")+" - drawGraph: "+(l-t)+"ms")}},O.prototype.renderGraph_=function(t){this.cascadeEvents_("clearChart"),this.plotter_.clear();var e=this.getFunctionOption("underlayCallback");e&&e.call(this,this.hidden_ctx_,this.layout_.getPlotArea(),this,this);var a={canvas:this.hidden_,drawingContext:this.hidden_ctx_};this.cascadeEvents_("willDrawChart",a),this.plotter_.render(),this.cascadeEvents_("didDrawChart",a),this.lastRow_=-1,this.canvas_.getContext("2d").clearRect(0,0,this.width_,this.height_);var i=this.getFunctionOption("drawCallback");if(null!==i&&i.call(this,this,t),t)for(this.readyFired_=!0;0<this.readyFns_.length;){this.readyFns_.pop()(this)}},O.prototype.computeYAxes_=function(){var t,e,a;for(this.axes_=[],t=0;t<this.attributes_.numAxes();t++)e={g:this},k.update(e,this.attributes_.axisOptions(t)),this.axes_[t]=e;for(t=0;t<this.axes_.length;t++)if(0===t)(a=(e=this.optionsViewForAxis_("y"+(t?"2":"")))("valueRange"))&&(this.axes_[t].valueRange=a);else{var i=this.user_attrs_.axes;i&&i.y2&&(a=i.y2.valueRange)&&(this.axes_[t].valueRange=a)}},O.prototype.numAxes=function(){return this.attributes_.numAxes()},O.prototype.axisPropertiesForSeries=function(t){return this.axes_[this.attributes_.axisForSeries(t)]},O.prototype.computeYAxisRanges_=function(t){for(var e,a,i,n,r,o=function(t){return isNaN(parseFloat(t))},s=this.attributes_.numAxes(),l=0;l<s;l++){var h=this.axes_[l],u=this.attributes_.getForAxis("logscale",l),d=this.attributes_.getForAxis("includeZero",l),c=this.attributes_.getForAxis("independentTicks",l);i=this.attributes_.seriesForAxis(l),e=!0,n=.1;var p=this.getNumericOption("yRangePad");if(null!==p&&(e=!1,n=p/this.plotter_.area.h),0===i.length)h.extremeRange=[0,1];else{for(var g,f,_=1/0,v=-1/0,y=0;y<i.length;y++)t.hasOwnProperty(i[y])&&(null!==(g=t[i[y]][0])&&(_=Math.min(g,_)),null!==(f=t[i[y]][1])&&(v=Math.max(f,v)));d&&!u&&(0<_&&(_=0),v<0&&(v=0)),_==1/0&&(_=0),v==-1/0&&(v=1),0===(a=v-_)&&(a=0!==v?Math.abs(v):v=1);var x=v,m=_;e&&(u?(x=v+n*a,m=_):((m=_-n*a)<0&&0<=_&&(m=0),0<(x=v+n*a)&&v<=0&&(x=0))),h.extremeRange=[m,x]}if(h.valueRange){var b=o(h.valueRange[0])?h.extremeRange[0]:h.valueRange[0],w=o(h.valueRange[1])?h.extremeRange[1]:h.valueRange[1];h.computedValueRange=[b,w]}else h.computedValueRange=h.extremeRange;if(!e)if(u){b=h.computedValueRange[0],w=h.computedValueRange[1];var A=n/(2*n-1),O=(n-1)/(2*n-1);h.computedValueRange[0]=k.logRangeFraction(b,w,A),h.computedValueRange[1]=k.logRangeFraction(b,w,O)}else b=h.computedValueRange[0],a=(w=h.computedValueRange[1])-b,h.computedValueRange[0]=b-a*n,h.computedValueRange[1]=w+a*n;if(c){h.independentTicks=c;var P=(L=this.optionsViewForAxis_("y"+(l?"2":"")))("ticker");h.ticks=P(h.computedValueRange[0],h.computedValueRange[1],this.plotter_.area.h,L,this),r||(r=h)}}if(void 0===r)throw'Configuration Error: At least one axis has to have the "independentTicks" option activated.';for(l=0;l<s;l++){if(!(h=this.axes_[l]).independentTicks){P=(L=this.optionsViewForAxis_("y"+(l?"2":"")))("ticker");for(var L,S=r.ticks,T=r.computedValueRange[1]-r.computedValueRange[0],C=h.computedValueRange[1]-h.computedValueRange[0],M=[],E=0;E<S.length;E++){var D=(S[E].v-r.computedValueRange[0])/T,N=h.computedValueRange[0]+D*C;M.push(N)}h.ticks=P(h.computedValueRange[0],h.computedValueRange[1],this.plotter_.area.h,L,this,M)}}},O.prototype.detectTypeFromString_=function(t){var e=!1,a=t.indexOf("-");0<a&&"e"!=t[a-1]&&"E"!=t[a-1]||0<=t.indexOf("/")||isNaN(parseFloat(t))?e=!0:8==t.length&&"19700101"<t&&t<"20371231"&&(e=!0),this.setXAxisOptions_(e)},O.prototype.setXAxisOptions_=function(t){this.attrs_.axes.x.axisLabelFormatter=t?(this.attrs_.xValueParser=k.dateParser,this.attrs_.axes.x.valueFormatter=k.dateValueFormatter,this.attrs_.axes.x.ticker=x.dateTicker,k.dateAxisLabelFormatter):(this.attrs_.xValueParser=function(t){return parseFloat(t)},this.attrs_.axes.x.valueFormatter=function(t){return t},this.attrs_.axes.x.ticker=x.numericTicks,this.attrs_.axes.x.valueFormatter)},O.prototype.parseCSV_=function(t){var e,a,i=[],n=k.detectLineDelimiter(t),r=t.split(n||"\n"),o=this.getStringOption("delimiter");-1==r[0].indexOf(o)&&0<=r[0].indexOf("\t")&&(o="\t");var s=0;"labels"in this.user_attrs_||(s=1,this.attrs_.labels=r[0].split(o),this.attributes_.reparseSeries());for(var l,h=!1,u=this.attr_("labels").length,d=!1,c=s;c<r.length;c++){var p=r[c];if(0!==p.length&&"#"!=p[0]){var g=p.split(o);if(!(g.length<2)){var f=[];if(h||(this.detectTypeFromString_(g[0]),l=this.getFunctionOption("xValueParser"),h=!0),f[0]=l(g[0],this),this.fractions_)for(a=1;a<g.length;a++)2!=(e=g[a].split("/")).length?(console.error('Expected fractional "num/den" values in CSV data but found a value \''+g[a]+"' on line "+(1+c)+" ('"+p+"') which is not of this form."),f[a]=[0,0]):f[a]=[k.parseFloat_(e[0],c,p),k.parseFloat_(e[1],c,p)];else if(this.getBooleanOption("errorBars"))for(g.length%2!=1&&console.error("Expected alternating (value, stdev.) pairs in CSV data but line "+(1+c)+" has an odd number of values ("+(g.length-1)+"): '"+p+"'"),a=1;a<g.length;a+=2)f[(a+1)/2]=[k.parseFloat_(g[a],c,p),k.parseFloat_(g[a+1],c,p)];else if(this.getBooleanOption("customBars"))for(a=1;a<g.length;a++){var _=g[a];/^ *$/.test(_)?f[a]=[null,null,null]:3==(e=_.split(";")).length?f[a]=[k.parseFloat_(e[0],c,p),k.parseFloat_(e[1],c,p),k.parseFloat_(e[2],c,p)]:console.warn('When using customBars, values must be either blank or "low;center;high" tuples (got "'+_+'" on line '+(1+c))}else for(a=1;a<g.length;a++)f[a]=k.parseFloat_(g[a],c,p);if(0<i.length&&f[0]<i[i.length-1][0]&&(d=!0),f.length!=u&&console.error("Number of columns in line "+c+" ("+f.length+") does not agree with number of labels ("+u+") "+p),0===c&&this.attr_("labels")){var v=!0;for(a=0;v&&a<f.length;a++)f[a]&&(v=!1);if(v){console.warn("The dygraphs 'labels' option is set, but the first row of CSV data ('"+p+"') appears to also contain labels. Will drop the CSV labels and use the option labels.");continue}}i.push(f)}}}return d&&(console.warn("CSV is out of order; order it correctly to speed loading."),i.sort(function(t,e){return t[0]-e[0]})),i},O.prototype.parseArray_=function(t){if(0===t.length)return console.error("Can't plot empty data set"),null;if(0===t[0].length)return console.error("Data set cannot contain an empty row"),null;var e;if(function(t){var e=t[0],a=e[0];if("number"!=typeof a&&!k.isDateLike(a))throw new Error("Expected number or date but got "+typeof a+": "+a+".");for(var i=1;i<e.length;i++){var n=e[i];if(null!=n&&"number"!=typeof n&&!k.isArrayLike(n))throw new Error("Expected number or array but got "+typeof n+": "+n+".")}}(t),null===this.attr_("labels")){for(console.warn("Using default labels. Set labels explicitly via 'labels' in the options parameter"),this.attrs_.labels=["X"],e=1;e<t[0].length;e++)this.attrs_.labels.push("Y"+e);this.attributes_.reparseSeries()}else{var a=this.attr_("labels");if(a.length!=t[0].length)return console.error("Mismatch between number of labels ("+a+") and number of columns in array ("+t[0].length+")"),null}if(k.isDateLike(t[0][0])){this.attrs_.axes.x.valueFormatter=k.dateValueFormatter,this.attrs_.axes.x.ticker=x.dateTicker,this.attrs_.axes.x.axisLabelFormatter=k.dateAxisLabelFormatter;var i=k.clone(t);for(e=0;e<t.length;e++){if(0===i[e].length)return console.error("Row "+(1+e)+" of data is empty"),null;if(null===i[e][0]||"function"!=typeof i[e][0].getTime||isNaN(i[e][0].getTime()))return console.error("x value in row "+(1+e)+" is not a Date"),null;i[e][0]=i[e][0].getTime()}return i}return this.attrs_.axes.x.valueFormatter=function(t){return t},this.attrs_.axes.x.ticker=x.numericTicks,this.attrs_.axes.x.axisLabelFormatter=k.numberAxisLabelFormatter,t},O.prototype.parseDataTable_=function(t){var e=t.getNumberOfColumns(),a=t.getNumberOfRows(),i=t.getColumnType(0);if("date"==i||"datetime"==i)this.attrs_.xValueParser=k.dateParser,this.attrs_.axes.x.valueFormatter=k.dateValueFormatter,this.attrs_.axes.x.ticker=x.dateTicker,this.attrs_.axes.x.axisLabelFormatter=k.dateAxisLabelFormatter;else{if("number"!=i)throw new Error("only 'date', 'datetime' and 'number' types are supported for column 1 of DataTable input (Got '"+i+"')");this.attrs_.xValueParser=function(t){return parseFloat(t)},this.attrs_.axes.x.valueFormatter=function(t){return t},this.attrs_.axes.x.ticker=x.numericTicks,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter}var n,r,o=[],s={},l=!1;for(n=1;n<e;n++){var h=t.getColumnType(n);if("number"==h)o.push(n);else{if("string"!=h||!this.getBooleanOption("displayAnnotations"))throw new Error("Only 'number' is supported as a dependent type with Gviz. 'string' is only supported if displayAnnotations is true");var u=o[o.length-1];s.hasOwnProperty(u)?s[u].push(n):s[u]=[n],l=!0}}var d=[t.getColumnLabel(0)];for(n=0;n<o.length;n++)d.push(t.getColumnLabel(o[n])),this.getBooleanOption("errorBars")&&(n+=1);e=(this.attrs_.labels=d).length;var c=[],p=!1,g=[];for(n=0;n<a;n++){var f=[];if(void 0!==t.getValue(n,0)&&null!==t.getValue(n,0)){if("date"==i||"datetime"==i?f.push(t.getValue(n,0).getTime()):f.push(t.getValue(n,0)),this.getBooleanOption("errorBars"))for(r=0;r<e-1;r++)f.push([t.getValue(n,1+2*r),t.getValue(n,2+2*r)]);else{for(r=0;r<o.length;r++){var _=o[r];if(f.push(t.getValue(n,_)),l&&s.hasOwnProperty(_)&&null!==t.getValue(n,s[_][0])){var v={};v.series=t.getColumnLabel(_),v.xval=f[0],v.shortText=function(t){var e=String.fromCharCode(65+t%26);for(t=Math.floor(t/26);0<t;)e=String.fromCharCode(65+(t-1)%26)+e.toLowerCase(),t=Math.floor((t-1)/26);return e}(g.length),v.text="";for(var y=0;y<s[_].length;y++)y&&(v.text+="\n"),v.text+=t.getValue(n,s[_][y]);g.push(v)}}for(r=0;r<f.length;r++)isFinite(f[r])||(f[r]=null)}0<c.length&&f[0]<c[c.length-1][0]&&(p=!0),c.push(f)}else console.warn("Ignoring row "+n+" of DataTable because of undefined or null first column.")}p&&(console.warn("DataTable is out of order; order it correctly to speed loading."),c.sort(function(t,e){return t[0]-e[0]})),this.rawData_=c,0<g.length&&this.setAnnotations(g,!0),this.attributes_.reparseSeries()},O.prototype.cascadeDataDidUpdateEvent_=function(){this.cascadeEvents_("dataDidUpdate",{})},O.prototype.start_=function(){var t=this.file_;if("function"==typeof t&&(t=t()),k.isArrayLike(t))this.rawData_=this.parseArray_(t),this.cascadeDataDidUpdateEvent_(),this.predraw_();else if("object"==typeof t&&"function"==typeof t.getColumnRange)this.parseDataTable_(t),this.cascadeDataDidUpdateEvent_(),this.predraw_();else if("string"==typeof t){if(k.detectLineDelimiter(t))this.loadedEvent_(t);else{var e;e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");var a=this;e.onreadystatechange=function(){4==e.readyState&&(200!==e.status&&0!==e.status||a.loadedEvent_(e.responseText))},e.open("GET",t,!0),e.send(null)}}else console.error("Unknown data format: "+typeof t)},O.prototype.updateOptions=function(t,e){void 0===e&&(e=!1);var a=t.file,i=O.copyUserAttrs_(t);"rollPeriod"in i&&(this.rollPeriod_=i.rollPeriod),"dateWindow"in i&&(this.dateWindow_=i.dateWindow);var n=k.isPixelChangingOptionList(this.attr_("labels"),i);k.updateDeep(this.user_attrs_,i),this.attributes_.reparseSeries(),a?(this.cascadeEvents_("dataWillUpdate",{}),this.file_=a,e||this.start_()):e||(n?this.predraw_():this.renderGraph_(!1))},O.copyUserAttrs_=function(t){var e={};for(var a in t)t.hasOwnProperty(a)&&"file"!=a&&t.hasOwnProperty(a)&&(e[a]=t[a]);return e},O.prototype.resize=function(t,e){if(!this.resize_lock){this.resize_lock=!0,null===t!=(null===e)&&(console.warn("Dygraph.resize() should be called with zero parameters or two non-NULL parameters. Pretending it was zero."),t=e=null);var a=this.width_,i=this.height_;this.height_=t?(this.maindiv_.style.width=t+"px",this.maindiv_.style.height=e+"px",this.width_=t,e):(this.width_=this.maindiv_.clientWidth,this.maindiv_.clientHeight),a==this.width_&&i==this.height_||(this.resizeElements_(),this.predraw_()),this.resize_lock=!1}},O.prototype.adjustRoll=function(t){this.rollPeriod_=t,this.predraw_()},O.prototype.visibility=function(){for(this.getOption("visibility")||(this.attrs_.visibility=[]);this.getOption("visibility").length<this.numColumns()-1;)this.attrs_.visibility.push(!0);return this.getOption("visibility")},O.prototype.setVisibility=function(t,e){var a=this.visibility(),i=!1;if(Array.isArray(t)||(null!==t&&"object"==typeof t?i=!0:t=[t]),i)for(var n in t)t.hasOwnProperty(n)&&(n<0||n>=a.length?console.warn("Invalid series number in setVisibility: "+n):a[n]=t[n]);else for(n=0;n<t.length;n++)"boolean"==typeof t[n]?n>=a.length?console.warn("Invalid series number in setVisibility: "+n):a[n]=t[n]:t[n]<0||t[n]>=a.length?console.warn("Invalid series number in setVisibility: "+t[n]):a[t[n]]=e;this.predraw_()},O.prototype.size=function(){return{width:this.width_,height:this.height_}},O.prototype.setAnnotations=function(t,e){this.annotations_=t,this.layout_?(this.layout_.setAnnotations(this.annotations_),e||this.predraw_()):console.warn("Tried to setAnnotations before dygraph was ready. Try setting them in a ready() block. See dygraphs.com/tests/annotation.html")},O.prototype.annotations=function(){return this.annotations_},O.prototype.getLabels=function(){var t=this.attr_("labels");return t?t.slice():null},O.prototype.indexFromSetName=function(t){return this.setIndexByName_[t]},O.prototype.getRowForX=function(t){for(var e=0,a=this.numRows()-1;e<=a;){var i=a+e>>1,n=this.getValue(i,0);if(n<t)e=i+1;else if(t<n)a=i-1;else{if(e==i)return i;a=i}}return null},O.prototype.ready=function(t){this.is_initial_draw_?this.readyFns_.push(t):t.call(this,this)},O.prototype.addAndTrackEvent=function(t,e,a){k.addEvent(t,e,a),this.registeredEvents_.push({elem:t,type:e,fn:a})},O.prototype.removeTrackedEvents_=function(){if(this.registeredEvents_)for(var t=0;t<this.registeredEvents_.length;t++){var e=this.registeredEvents_[t];k.removeEvent(e.elem,e.type,e.fn)}this.registeredEvents_=[]},O.PLUGINS=[b.default,v.default,w.default,y.default,_.default,m.default],O.GVizChart=A.default,O.DASHED_LINE=k.DASHED_LINE,O.DOT_DASH_LINE=k.DOT_DASH_LINE,O.dateAxisLabelFormatter=k.dateAxisLabelFormatter,O.toRGB_=k.toRGB_,O.findPos=k.findPos,O.pageX=k.pageX,O.pageY=k.pageY,O.dateString_=k.dateString_,O.defaultInteractionModel=i.default.defaultModel,O.nonInteractiveModel=O.nonInteractiveModel_=i.default.nonInteractiveModel_,O.Circles=k.Circles,O.Plugins={Legend:b.default,Axes:v.default,Annotations:_.default,ChartLabels:y.default,Grid:m.default,RangeSelector:w.default},O.DataHandlers={DefaultHandler:s.default,BarsHandler:c.default,CustomBarsHandler:h.default,DefaultFractionHandler:u.default,ErrorBarsHandler:l.default,FractionsBarsHandler:d.default},O.startPan=i.default.startPan,O.startZoom=i.default.startZoom,O.movePan=i.default.movePan,O.moveZoom=i.default.moveZoom,O.endPan=i.default.endPan,O.endZoom=i.default.endZoom,O.numericLinearTicks=x.numericLinearTicks,O.numericTicks=x.numericTicks,O.dateTicker=x.dateTicker,O.Granularity=x.Granularity,O.getDateAxis=x.getDateAxis,O.floatFormat=k.floatFormat,S.default=O,L.exports=S.default}).call(this,P("_process"))},{"./datahandler/bars":5,"./datahandler/bars-custom":2,"./datahandler/bars-error":3,"./datahandler/bars-fractions":4,"./datahandler/default":8,"./datahandler/default-fractions":7,"./dygraph-canvas":9,"./dygraph-default-attrs":10,"./dygraph-gviz":11,"./dygraph-interaction-model":12,"./dygraph-layout":13,"./dygraph-options":15,"./dygraph-options-reference":14,"./dygraph-tickers":16,"./dygraph-utils":17,"./iframe-tarp":19,"./plugins/annotations":20,"./plugins/axes":21,"./plugins/chart-labels":22,"./plugins/grid":23,"./plugins/legend":24,"./plugins/range-selector":25,_process:1}],19:[function(t,e,a){"use strict";function i(){this.tarps=[]}Object.defineProperty(a,"__esModule",{value:!0});var h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(t("./dygraph-utils"));i.prototype.cover=function(){for(var t=document.getElementsByTagName("iframe"),e=0;e<t.length;e++){var a=t[e],i=h.findPos(a),n=i.x,r=i.y,o=a.offsetWidth,s=a.offsetHeight,l=document.createElement("div");l.style.position="absolute",l.style.left=n+"px",l.style.top=r+"px",l.style.width=o+"px",l.style.height=s+"px",l.style.zIndex=999,document.body.appendChild(l),this.tarps.push(l)}},i.prototype.uncover=function(){for(var t=0;t<this.tarps.length;t++)this.tarps[t].parentNode.removeChild(this.tarps[t]);this.tarps=[]},a.default=i,e.exports=a.default},{"./dygraph-utils":17}],20:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=function(){this.annotations_=[]};i.prototype.toString=function(){return"Annotations Plugin"},i.prototype.activate=function(t){return{clearChart:this.clearChart,didDrawChart:this.didDrawChart}},i.prototype.detachLabels=function(){for(var t=0;t<this.annotations_.length;t++){var e=this.annotations_[t];e.parentNode&&e.parentNode.removeChild(e),this.annotations_[t]=null}this.annotations_=[]},i.prototype.clearChart=function(t){this.detachLabels()},i.prototype.didDrawChart=function(t){var r=t.dygraph,e=r.layout_.annotated_points;if(e&&0!==e.length)for(var a=t.canvas.parentNode,i=function(a,i,n){return function(t){var e=n.annotation;e.hasOwnProperty(a)?e[a](e,n,r,t):r.getOption(i)&&r.getOption(i)(e,n,r,t)}},n=t.dygraph.getArea(),o={},s=0;s<e.length;s++){var l=e[s];if(!(l.canvasx<n.x||l.canvasx>n.x+n.w||l.canvasy<n.y||l.canvasy>n.y+n.h)){var h=l.annotation,u=6;h.hasOwnProperty("tickHeight")&&(u=h.tickHeight);var d=document.createElement("div");d.style.fontSize=r.getOption("axisLabelFontSize")+"px";var c="dygraph-annotation";h.hasOwnProperty("icon")||(c+=" dygraphDefaultAnnotation dygraph-default-annotation"),h.hasOwnProperty("cssClass")&&(c+=" "+h.cssClass),d.className=c;var p=h.hasOwnProperty("width")?h.width:16,g=h.hasOwnProperty("height")?h.height:16;if(h.hasOwnProperty("icon")){var f=document.createElement("img");f.src=h.icon,f.width=p,f.height=g,d.appendChild(f)}else l.annotation.hasOwnProperty("shortText")&&d.appendChild(document.createTextNode(l.annotation.shortText));var _=l.canvasx-p/2;d.style.left=_+"px";var v=0;if(h.attachAtBottom){var y=n.y+n.h-g-u;o[_]?y-=o[_]:o[_]=0,o[_]+=u+g,v=y}else v=l.canvasy-g-u;d.style.top=v+"px",d.style.width=p+"px",d.style.height=g+"px",d.title=l.annotation.text,d.style.color=r.colorsMap_[l.name],d.style.borderColor=r.colorsMap_[l.name],h.div=d,r.addAndTrackEvent(d,"click",i("clickHandler","annotationClickHandler",l)),r.addAndTrackEvent(d,"mouseover",i("mouseOverHandler","annotationMouseOverHandler",l)),r.addAndTrackEvent(d,"mouseout",i("mouseOutHandler","annotationMouseOutHandler",l)),r.addAndTrackEvent(d,"dblclick",i("dblClickHandler","annotationDblClickHandler",l)),a.appendChild(d),this.annotations_.push(d);var x=t.drawingContext;if(x.save(),x.strokeStyle=h.hasOwnProperty("tickColor")?h.tickColor:r.colorsMap_[l.name],x.lineWidth=h.hasOwnProperty("tickWidth")?h.tickWidth:r.getOption("strokeWidth"),x.beginPath(),h.attachAtBottom){y=v+g;x.moveTo(l.canvasx,y),x.lineTo(l.canvasx,y+u)}else x.moveTo(l.canvasx,l.canvasy),x.lineTo(l.canvasx,l.canvasy-2-u);x.closePath(),x.stroke(),x.restore()}}},i.prototype.destroy=function(){this.detachLabels()},a.default=i,e.exports=a.default},{}],21:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var L=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(t("../dygraph-utils")),i=function(){this.xlabels_=[],this.ylabels_=[]};i.prototype.toString=function(){return"Axes Plugin"},i.prototype.activate=function(t){return{layout:this.layout,clearChart:this.clearChart,willDrawChart:this.willDrawChart}},i.prototype.layout=function(t){var e,a=t.dygraph;if(a.getOptionForAxis("drawAxis","y")){var i=a.getOptionForAxis("axisLabelWidth","y")+2*a.getOptionForAxis("axisTickSize","y");t.reserveSpaceLeft(i)}a.getOptionForAxis("drawAxis","x")&&(e=a.getOption("xAxisHeight")?a.getOption("xAxisHeight"):a.getOptionForAxis("axisLabelFontSize","x")+2*a.getOptionForAxis("axisTickSize","x"),t.reserveSpaceBottom(e));if(2==a.numAxes()){if(a.getOptionForAxis("drawAxis","y2")){i=a.getOptionForAxis("axisLabelWidth","y2")+2*a.getOptionForAxis("axisTickSize","y2");t.reserveSpaceRight(i)}}else 2<a.numAxes()&&a.error("Only two y-axes are supported at this time. (Trying to use "+a.numAxes()+")")},i.prototype.detachLabels=function(){function t(t){for(var e=0;e<t.length;e++){var a=t[e];a.parentNode&&a.parentNode.removeChild(a)}}t(this.xlabels_),t(this.ylabels_),this.xlabels_=[],this.ylabels_=[]},i.prototype.clearChart=function(t){this.detachLabels()},i.prototype.willDrawChart=function(t){function e(t){return Math.round(t)+.5}function a(t){return Math.round(t)-.5}var r=this,i=t.dygraph;if(i.getOptionForAxis("drawAxis","x")||i.getOptionForAxis("drawAxis","y")||i.getOptionForAxis("drawAxis","y2")){var o,s,l,n=t.drawingContext,h=t.canvas.parentNode,u=i.width_,d=i.height_,c=function(t){return{position:"absolute",fontSize:i.getOptionForAxis("axisLabelFontSize",t)+"px",width:i.getOptionForAxis("axisLabelWidth",t)+"px"}},p={x:c("x"),y:c("y"),y2:c("y2")},g=function(t,e,a){var i=document.createElement("div"),n=p["y2"==a?"y2":e];L.update(i.style,n);var r=document.createElement("div");return r.className="dygraph-axis-label dygraph-axis-label-"+e+(a?" dygraph-axis-label-"+a:""),r.innerHTML=t,i.appendChild(r),i};n.save();var f=i.layout_,_=t.dygraph.plotter_.area,v=function(e){return function(t){return i.getOptionForAxis(t,e)}};if(i.getOptionForAxis("drawAxis","y")){if(f.yticks&&0<f.yticks.length){var y=i.numAxes(),x=[v("y"),v("y2")];f.yticks.forEach(function(t){if(void 0!==t.label){s=_.x;var e="y1",a=x[0];1==t.axis&&(s=_.x+_.w,e="y2",a=x[1]);var i=a("axisLabelFontSize");l=_.y+t.pos*_.h,o=g(t.label,"y",2==y?e:null);var n=l-i/2;n<0&&(n=0),d<n+i+3?o.style.bottom="0":o.style.top=n+"px",0===t.axis?(o.style.left=_.x-a("axisLabelWidth")-a("axisTickSize")+"px",o.style.textAlign="right"):1==t.axis&&(o.style.left=_.x+_.w+a("axisTickSize")+"px",o.style.textAlign="left"),o.style.width=a("axisLabelWidth")+"px",h.appendChild(o),r.ylabels_.push(o)}});var m=this.ylabels_[0],b=i.getOptionForAxis("axisLabelFontSize","y");parseInt(m.style.top,10)+b>d-b&&(m.style.top=parseInt(m.style.top,10)-b/2+"px")}var w;if(i.getOption("drawAxesAtZero"))(1<(P=i.toPercentXCoord(0))||P<0||isNaN(P))&&(P=0),w=e(_.x+P*_.w);else w=e(_.x);n.strokeStyle=i.getOptionForAxis("axisLineColor","y"),n.lineWidth=i.getOptionForAxis("axisLineWidth","y"),n.beginPath(),n.moveTo(w,a(_.y)),n.lineTo(w,a(_.y+_.h)),n.closePath(),n.stroke(),2==i.numAxes()&&(n.strokeStyle=i.getOptionForAxis("axisLineColor","y2"),n.lineWidth=i.getOptionForAxis("axisLineWidth","y2"),n.beginPath(),n.moveTo(a(_.x+_.w),a(_.y)),n.lineTo(a(_.x+_.w),a(_.y+_.h)),n.closePath(),n.stroke())}if(i.getOptionForAxis("drawAxis","x")){if(f.xticks){var A=v("x");f.xticks.forEach(function(t){if(void 0!==t.label){s=_.x+t.pos*_.w,l=_.y+_.h,(o=g(t.label,"x")).style.textAlign="center",o.style.top=l+A("axisTickSize")+"px";var e=s-A("axisLabelWidth")/2;e+A("axisLabelWidth")>u&&(e=u-A("axisLabelWidth"),o.style.textAlign="right"),e<0&&(e=0,o.style.textAlign="left"),o.style.left=e+"px",o.style.width=A("axisLabelWidth")+"px",h.appendChild(o),r.xlabels_.push(o)}})}var O,P;if(n.strokeStyle=i.getOptionForAxis("axisLineColor","x"),n.lineWidth=i.getOptionForAxis("axisLineWidth","x"),n.beginPath(),i.getOption("drawAxesAtZero"))(1<(P=i.toPercentYCoord(0,0))||P<0)&&(P=1),O=a(_.y+P*_.h);else O=a(_.y+_.h);n.moveTo(e(_.x),O),n.lineTo(e(_.x+_.w),O),n.closePath(),n.stroke()}n.restore()}},a.default=i,e.exports=a.default},{"../dygraph-utils":17}],22:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=function(){this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};i.prototype.toString=function(){return"ChartLabels Plugin"},i.prototype.activate=function(t){return{layout:this.layout,didDrawChart:this.didDrawChart}};var l=function(t){var e=document.createElement("div");return e.style.position="absolute",e.style.left=t.x+"px",e.style.top=t.y+"px",e.style.width=t.w+"px",e.style.height=t.h+"px",e};i.prototype.detachLabels_=function(){for(var t=[this.title_div_,this.xlabel_div_,this.ylabel_div_,this.y2label_div_],e=0;e<t.length;e++){var a=t[e];a&&a.parentNode&&a.parentNode.removeChild(a)}this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};var h=function(t,e,a,i,n){var r=document.createElement("div");r.style.position="absolute",r.style.left=1==a?"0px":e.x+"px",r.style.top=e.y+"px",r.style.width=e.w+"px",r.style.height=e.h+"px",r.style.fontSize=t.getOption("yLabelWidth")-2+"px";var o=document.createElement("div");o.style.position="absolute",o.style.width=e.h+"px",o.style.height=e.w+"px",o.style.top=e.h/2-e.w/2+"px",o.style.left=e.w/2-e.h/2+"px",o.className="dygraph-label-rotate-"+(1==a?"right":"left");var s=document.createElement("div");return s.className=i,s.innerHTML=n,o.appendChild(s),r.appendChild(o),r};i.prototype.layout=function(t){this.detachLabels_();var e=t.dygraph,a=t.chart_div;if(e.getOption("title")){var i=t.reserveSpaceTop(e.getOption("titleHeight"));this.title_div_=l(i),this.title_div_.style.fontSize=e.getOption("titleHeight")-8+"px",(n=document.createElement("div")).className="dygraph-label dygraph-title",n.innerHTML=e.getOption("title"),this.title_div_.appendChild(n),a.appendChild(this.title_div_)}if(e.getOption("xlabel")){var n,r=t.reserveSpaceBottom(e.getOption("xLabelHeight"));this.xlabel_div_=l(r),this.xlabel_div_.style.fontSize=e.getOption("xLabelHeight")-2+"px",(n=document.createElement("div")).className="dygraph-label dygraph-xlabel",n.innerHTML=e.getOption("xlabel"),this.xlabel_div_.appendChild(n),a.appendChild(this.xlabel_div_)}if(e.getOption("ylabel")){var o=t.reserveSpaceLeft(0);this.ylabel_div_=h(e,o,1,"dygraph-label dygraph-ylabel",e.getOption("ylabel")),a.appendChild(this.ylabel_div_)}if(e.getOption("y2label")&&2==e.numAxes()){var s=t.reserveSpaceRight(0);this.y2label_div_=h(e,s,2,"dygraph-label dygraph-y2label",e.getOption("y2label")),a.appendChild(this.y2label_div_)}},i.prototype.didDrawChart=function(t){var e=t.dygraph;this.title_div_&&(this.title_div_.children[0].innerHTML=e.getOption("title")),this.xlabel_div_&&(this.xlabel_div_.children[0].innerHTML=e.getOption("xlabel")),this.ylabel_div_&&(this.ylabel_div_.children[0].children[0].innerHTML=e.getOption("ylabel")),this.y2label_div_&&(this.y2label_div_.children[0].children[0].innerHTML=e.getOption("y2label"))},i.prototype.clearChart=function(){},i.prototype.destroy=function(){this.detachLabels_()},a.default=i,e.exports=a.default},{}],23:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=function(){};i.prototype.toString=function(){return"Gridline Plugin"},i.prototype.activate=function(t){return{willDrawChart:this.willDrawChart}},i.prototype.willDrawChart=function(t){function a(t){return Math.round(t)+.5}function i(t){return Math.round(t)-.5}var n,r,e,o=t.dygraph,s=t.drawingContext,l=o.layout_,h=t.dygraph.plotter_.area;if(o.getOptionForAxis("drawGrid","y")){for(var u=["y","y2"],d=[],c=[],p=[],g=[],f=[],_=0;_<u.length;_++)p[_]=o.getOptionForAxis("drawGrid",u[_]),p[_]&&(d[_]=o.getOptionForAxis("gridLineColor",u[_]),c[_]=o.getOptionForAxis("gridLineWidth",u[_]),f[_]=o.getOptionForAxis("gridLinePattern",u[_]),g[_]=f[_]&&2<=f[_].length);e=l.yticks,s.save(),e.forEach(function(t){if(t.has_tick){var e=t.axis;p[e]&&(s.save(),g[e]&&s.setLineDash&&s.setLineDash(f[e]),s.strokeStyle=d[e],s.lineWidth=c[e],n=a(h.x),r=i(h.y+t.pos*h.h),s.beginPath(),s.moveTo(n,r),s.lineTo(n+h.w,r),s.stroke(),s.restore())}}),s.restore()}if(o.getOptionForAxis("drawGrid","x")){e=l.xticks,s.save();f=o.getOptionForAxis("gridLinePattern","x");(g=f&&2<=f.length)&&s.setLineDash&&s.setLineDash(f),s.strokeStyle=o.getOptionForAxis("gridLineColor","x"),s.lineWidth=o.getOptionForAxis("gridLineWidth","x"),e.forEach(function(t){t.has_tick&&(n=a(h.x+t.pos*h.w),r=i(h.y+h.h),s.beginPath(),s.moveTo(n,r),s.lineTo(n,h.y),s.closePath(),s.stroke())}),g&&s.setLineDash&&s.setLineDash([]),s.restore()}},i.prototype.destroy=function(){},a.default=i,e.exports=a.default},{}],24:[function(t,e,a){"use strict";function b(t,e,a){if(!t||t.length<=1)return'<div class="dygraph-legend-line" style="border-bottom-color: '+e+';"></div>';var i,n,r,o,s=0,l=0,h=[];for(i=0;i<=t.length;i++)s+=t[i%t.length];if(1<(o=Math.floor(a/(s-t[0])))){for(i=0;i<t.length;i++)h[i]=t[i]/a;l=h.length}else{for(o=1,i=0;i<t.length;i++)h[i]=t[i]/s;l=h.length+1}var u="";for(n=0;n<o;n++)for(i=0;i<l;i+=2)r=h[i%h.length],u+='<div class="dygraph-legend-dash" style="margin-right: '+(i<t.length?h[(i+1)%h.length]:0)+"em; padding-left: "+r+'em;"></div>';return u}Object.defineProperty(a,"__esModule",{value:!0});var w=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(t("../dygraph-utils")),A=function(){this.legend_div_=null,this.is_generated_div_=!1};A.prototype.toString=function(){return"Legend Plugin"},A.prototype.activate=function(t){var e,a=t.getOption("labelsDiv");return a&&null!==a?e="string"==typeof a||a instanceof String?document.getElementById(a):a:((e=document.createElement("div")).className="dygraph-legend",t.graphDiv.appendChild(e),this.is_generated_div_=!0),this.legend_div_=e,this.one_em_width_=10,{select:this.select,deselect:this.deselect,predraw:this.predraw,didDrawChart:this.didDrawChart}};A.prototype.select=function(t){var e=t.selectedX,a=t.selectedPoints,i=t.selectedRow,n=t.dygraph.getOption("legend");if("never"!==n){if("follow"===n){var r=t.dygraph.plotter_.area,o=this.legend_div_.offsetWidth,s=t.dygraph.getOptionForAxis("axisLabelWidth","y"),l=a[0].x*r.w+50,h=a[0].y*r.h-50;l+o+1>r.w&&(l=l-100-o-(s-r.x)),t.dygraph.graphDiv.appendChild(this.legend_div_),this.legend_div_.style.left=s+l+"px",this.legend_div_.style.top=h+"px"}var u=A.generateLegendHTML(t.dygraph,e,a,this.one_em_width_,i);this.legend_div_.innerHTML=u,this.legend_div_.style.display=""}else this.legend_div_.style.display="none"},A.prototype.deselect=function(t){"always"!==t.dygraph.getOption("legend")&&(this.legend_div_.style.display="none");var e=function(t){var e=document.createElement("span");e.setAttribute("style","margin: 0; padding: 0 0 0 1em; border: 0;"),t.appendChild(e);var a=e.offsetWidth;return t.removeChild(e),a}(this.legend_div_);this.one_em_width_=e;var a=A.generateLegendHTML(t.dygraph,void 0,void 0,e,null);this.legend_div_.innerHTML=a},A.prototype.didDrawChart=function(t){this.deselect(t)},A.prototype.predraw=function(t){if(this.is_generated_div_){t.dygraph.graphDiv.appendChild(this.legend_div_);var e=t.dygraph.getArea(),a=this.legend_div_.offsetWidth;this.legend_div_.style.left=e.x+e.w-a-1+"px",this.legend_div_.style.top=e.y+"px"}},A.prototype.destroy=function(){this.legend_div_=null},A.generateLegendHTML=function(t,e,a,i,n){var r,o={dygraph:t,x:e,series:[]},s={},l=t.getLabels();if(l)for(var h=1;h<l.length;h++){var u=t.getPropertiesForSeries(l[h]),d={dashHTML:b(t.getOption("strokePattern",l[h]),u.color,i),label:l[h],labelHTML:(r=l[h],r.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),isVisible:u.visible,color:u.color};o.series.push(d),s[l[h]]=d}if(void 0!==e){var c=t.optionsViewForAxis_("x"),p=c("valueFormatter");o.xHTML=p.call(t,e,c,l[0],t,n,0);var g=[],f=t.numAxes();for(h=0;h<f;h++)g[h]=t.optionsViewForAxis_("y"+(h?1+h:""));var _=t.getOption("labelsShowZeroValues"),v=t.getHighlightSeries();for(h=0;h<a.length;h++){var y=a[h];if((d=s[y.name]).y=y.yval,0===y.yval&&!_||isNaN(y.canvasy))d.isVisible=!1;else{var x=g[(u=t.getPropertiesForSeries(y.name)).axis-1],m=x("valueFormatter").call(t,y.yval,x,y.name,t,n,l.indexOf(y.name));w.update(d,{yHTML:m}),y.name==v&&(d.isHighlighted=!0)}}}return(t.getOption("legendFormatter")||A.defaultFormatter).call(t,o)},A.defaultFormatter=function(t){var e=t.dygraph;if(!0!==e.getOption("showLabelsOnHighlight"))return"";var a,i=e.getOption("labelsSeparateLines");if(void 0===t.x){if("always"!=e.getOption("legend"))return"";a="";for(var n=0;n<t.series.length;n++){(r=t.series[n]).isVisible&&(""!==a&&(a+=i?"<br/>":" "),a+="<span style='font-weight: bold; color: "+r.color+";'>"+r.dashHTML+" "+r.labelHTML+"</span>")}return a}a=t.xHTML+":";for(n=0;n<t.series.length;n++){var r;(r=t.series[n]).isVisible&&(i&&(a+="<br>"),a+="<span"+(r.isHighlighted?' class="highlight"':"")+"> <b><span style='color: "+r.color+";'>"+r.labelHTML+"</span></b>:&#160;"+r.yHTML+"</span>")}return a},a.default=A,e.exports=a.default},{"../dygraph-utils":17}],25:[function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(a,"__esModule",{value:!0});var O=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(t("../dygraph-utils")),A=i(t("../dygraph-interaction-model")),P=i(t("../iframe-tarp")),n=function(){this.hasTouchInterface_="undefined"!=typeof TouchEvent,this.isMobileDevice_=/mobile|android/gi.test(navigator.appVersion),this.interfaceCreated_=!1};n.prototype.toString=function(){return"RangeSelector Plugin"},n.prototype.activate=function(t){return this.dygraph_=t,this.getOption_("showRangeSelector")&&this.createInterface_(),{layout:this.reserveSpace_,predraw:this.renderStaticLayer_,didDrawChart:this.renderInteractiveLayer_}},n.prototype.destroy=function(){this.bgcanvas_=null,this.fgcanvas_=null,this.leftZoomHandle_=null,this.rightZoomHandle_=null},n.prototype.getOption_=function(t,e){return this.dygraph_.getOption(t,e)},n.prototype.setDefaultOption_=function(t,e){this.dygraph_.attrs_[t]=e},n.prototype.createInterface_=function(){this.createCanvases_(),this.createZoomHandles_(),this.initInteraction_(),this.getOption_("animatedZooms")&&(console.warn("Animated zooms and range selector are not compatible; disabling animatedZooms."),this.dygraph_.updateOptions({animatedZooms:!1},!0)),this.interfaceCreated_=!0,this.addToGraph_()},n.prototype.addToGraph_=function(){var t=this.graphDiv_=this.dygraph_.graphDiv;t.appendChild(this.bgcanvas_),t.appendChild(this.fgcanvas_),t.appendChild(this.leftZoomHandle_),t.appendChild(this.rightZoomHandle_)},n.prototype.removeFromGraph_=function(){var t=this.graphDiv_;t.removeChild(this.bgcanvas_),t.removeChild(this.fgcanvas_),t.removeChild(this.leftZoomHandle_),t.removeChild(this.rightZoomHandle_),this.graphDiv_=null},n.prototype.reserveSpace_=function(t){this.getOption_("showRangeSelector")&&t.reserveSpaceBottom(this.getOption_("rangeSelectorHeight")+4)},n.prototype.renderStaticLayer_=function(){this.updateVisibility_()&&(this.resize_(),this.drawStaticLayer_())},n.prototype.renderInteractiveLayer_=function(){this.updateVisibility_()&&!this.isChangingRange_&&(this.placeZoomHandles_(),this.drawInteractiveLayer_())},n.prototype.updateVisibility_=function(){var t=this.getOption_("showRangeSelector");if(t)this.interfaceCreated_?this.graphDiv_&&this.graphDiv_.parentNode||this.addToGraph_():this.createInterface_();else if(this.graphDiv_){this.removeFromGraph_();var e=this.dygraph_;setTimeout(function(){e.width_=0,e.resize()},1)}return t},n.prototype.resize_=function(){function t(t,e,a,i){var n=i||O.getContextPixelRatio(e);t.style.top=a.y+"px",t.style.left=a.x+"px",t.width=a.w*n,t.height=a.h*n,t.style.width=a.w+"px",t.style.height=a.h+"px",1!=n&&e.scale(n,n)}var e=this.dygraph_.layout_.getPlotArea(),a=0;this.dygraph_.getOptionForAxis("drawAxis","x")&&(a=this.getOption_("xAxisHeight")||this.getOption_("axisLabelFontSize")+2*this.getOption_("axisTickSize")),this.canvasRect_={x:e.x,y:e.y+e.h+a+4,w:e.w,h:this.getOption_("rangeSelectorHeight")};var i=this.dygraph_.getNumericOption("pixelRatio");t(this.bgcanvas_,this.bgcanvas_ctx_,this.canvasRect_,i),t(this.fgcanvas_,this.fgcanvas_ctx_,this.canvasRect_,i)},n.prototype.createCanvases_=function(){this.bgcanvas_=O.createCanvas(),this.bgcanvas_.className="dygraph-rangesel-bgcanvas",this.bgcanvas_.style.position="absolute",this.bgcanvas_.style.zIndex=9,this.bgcanvas_ctx_=O.getContext(this.bgcanvas_),this.fgcanvas_=O.createCanvas(),this.fgcanvas_.className="dygraph-rangesel-fgcanvas",this.fgcanvas_.style.position="absolute",this.fgcanvas_.style.zIndex=9,this.fgcanvas_.style.cursor="default",this.fgcanvas_ctx_=O.getContext(this.fgcanvas_)},n.prototype.createZoomHandles_=function(){var t=new Image;t.className="dygraph-rangesel-zoomhandle",t.style.position="absolute",t.style.zIndex=10,t.style.visibility="hidden",t.style.cursor="col-resize",t.width=9,t.height=16,t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII=",this.isMobileDevice_&&(t.width*=2,t.height*=2),this.leftZoomHandle_=t,this.rightZoomHandle_=t.cloneNode(!1)},n.prototype.initInteraction_=function(){var a,e,i,n,r,o,s,l,h,u,t,d,c,p,g=this,f=document,_=0,v=null,y=!1,x=!1,m=!this.isMobileDevice_,b=new P.default;a=function(t){var e=g.dygraph_.xAxisExtremes(),a=(e[1]-e[0])/g.canvasRect_.w;return[e[0]+(t.leftHandlePos-g.canvasRect_.x)*a,e[0]+(t.rightHandlePos-g.canvasRect_.x)*a]},e=function(t){return O.cancelEvent(t),y=!0,_=t.clientX,v=t.target?t.target:t.srcElement,"mousedown"!==t.type&&"dragstart"!==t.type||(O.addEvent(f,"mousemove",i),O.addEvent(f,"mouseup",n)),g.fgcanvas_.style.cursor="col-resize",b.cover(),!0},i=function(t){if(!y)return!1;O.cancelEvent(t);var e=t.clientX-_;if(Math.abs(e)<4)return!0;_=t.clientX;var a,i=g.getZoomHandleStatus_();a=v==g.leftZoomHandle_?(a=i.leftHandlePos+e,a=Math.min(a,i.rightHandlePos-v.width-3),Math.max(a,g.canvasRect_.x)):(a=i.rightHandlePos+e,a=Math.min(a,g.canvasRect_.x+g.canvasRect_.w),Math.max(a,i.leftHandlePos+v.width+3));var n=v.width/2;return v.style.left=a-n+"px",g.drawInteractiveLayer_(),m&&r(),!0},n=function(t){return!!y&&(y=!1,b.uncover(),O.removeEvent(f,"mousemove",i),O.removeEvent(f,"mouseup",n),g.fgcanvas_.style.cursor="default",m||r(),!0)},r=function(){try{var t=g.getZoomHandleStatus_();if(g.isChangingRange_=!0,t.isZoomed){var e=a(t);g.dygraph_.doZoomXDates_(e[0],e[1])}else g.dygraph_.resetZoom()}finally{g.isChangingRange_=!1}},o=function(t){var e=g.leftZoomHandle_.getBoundingClientRect(),a=e.left+e.width/2,i=(e=g.rightZoomHandle_.getBoundingClientRect()).left+e.width/2;return t.clientX>a&&t.clientX<i},s=function(t){return!(x||!o(t)||!g.getZoomHandleStatus_().isZoomed||(O.cancelEvent(t),x=!0,_=t.clientX,"mousedown"===t.type&&(O.addEvent(f,"mousemove",l),O.addEvent(f,"mouseup",h)),0))},l=function(t){if(!x)return!1;O.cancelEvent(t);var e=t.clientX-_;if(Math.abs(e)<4)return!0;_=t.clientX;var a=g.getZoomHandleStatus_(),i=a.leftHandlePos,n=a.rightHandlePos,r=n-i;i+e<=g.canvasRect_.x?n=(i=g.canvasRect_.x)+r:n+e>=g.canvasRect_.x+g.canvasRect_.w?i=(n=g.canvasRect_.x+g.canvasRect_.w)-r:(i+=e,n+=e);var o=g.leftZoomHandle_.width/2;return g.leftZoomHandle_.style.left=i-o+"px",g.rightZoomHandle_.style.left=n-o+"px",g.drawInteractiveLayer_(),m&&u(),!0},h=function(t){return!!x&&(x=!1,O.removeEvent(f,"mousemove",l),O.removeEvent(f,"mouseup",h),m||u(),!0)},u=function(){try{g.isChangingRange_=!0,g.dygraph_.dateWindow_=a(g.getZoomHandleStatus_()),g.dygraph_.drawGraph_(!1)}finally{g.isChangingRange_=!1}},t=function(t){if(!y&&!x){var e=o(t)?"move":"default";e!=g.fgcanvas_.style.cursor&&(g.fgcanvas_.style.cursor=e)}},d=function(t){"touchstart"==t.type&&1==t.targetTouches.length?e(t.targetTouches[0])&&O.cancelEvent(t):"touchmove"==t.type&&1==t.targetTouches.length?i(t.targetTouches[0])&&O.cancelEvent(t):n(t)},c=function(t){"touchstart"==t.type&&1==t.targetTouches.length?s(t.targetTouches[0])&&O.cancelEvent(t):"touchmove"==t.type&&1==t.targetTouches.length?l(t.targetTouches[0])&&O.cancelEvent(t):h(t)},p=function(t,e){for(var a=["touchstart","touchend","touchmove","touchcancel"],i=0;i<a.length;i++)g.dygraph_.addAndTrackEvent(t,a[i],e)},this.setDefaultOption_("interactionModel",A.default.dragIsPanInteractionModel),this.setDefaultOption_("panEdgeFraction",1e-4);var w=window.opera?"mousedown":"dragstart";this.dygraph_.addAndTrackEvent(this.leftZoomHandle_,w,e),this.dygraph_.addAndTrackEvent(this.rightZoomHandle_,w,e),this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousedown",s),this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousemove",t),this.hasTouchInterface_&&(p(this.leftZoomHandle_,d),p(this.rightZoomHandle_,d),p(this.fgcanvas_,c))},n.prototype.drawStaticLayer_=function(){var t=this.bgcanvas_ctx_;t.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);try{this.drawMiniPlot_()}catch(t){console.warn(t)}this.bgcanvas_ctx_.lineWidth=this.getOption_("rangeSelectorBackgroundLineWidth"),t.strokeStyle=this.getOption_("rangeSelectorBackgroundStrokeColor"),t.beginPath(),t.moveTo(.5,.5),t.lineTo(.5,this.canvasRect_.h-.5),t.lineTo(this.canvasRect_.w-.5,this.canvasRect_.h-.5),t.lineTo(this.canvasRect_.w-.5,.5),t.stroke()},n.prototype.drawMiniPlot_=function(){var t=this.getOption_("rangeSelectorPlotFillColor"),e=this.getOption_("rangeSelectorPlotFillGradientColor"),a=this.getOption_("rangeSelectorPlotStrokeColor");if(t||a){var i=this.getOption_("stepPlot"),n=this.computeCombinedSeriesAndLimits_(),r=n.yMax-n.yMin,o=this.bgcanvas_ctx_,s=this.dygraph_.xAxisExtremes(),l=Math.max(s[1]-s[0],1e-30),h=(this.canvasRect_.w-.5)/l,u=(this.canvasRect_.h-.5)/r,d=this.canvasRect_.w-.5,c=this.canvasRect_.h-.5,p=null,g=null;o.beginPath(),o.moveTo(.5,c);for(var f=0;f<n.data.length;f++){var _=n.data[f],v=null!==_[0]?(_[0]-s[0])*h:NaN,y=null!==_[1]?c-(_[1]-n.yMin)*u:NaN;(i||null===p||Math.round(v)!=Math.round(p))&&(isFinite(v)&&isFinite(y)?(null===p?o.lineTo(v,c):i&&o.lineTo(v,g),o.lineTo(v,y),p=v,g=y):(null!==p&&(i?(o.lineTo(v,g),o.lineTo(v,c)):o.lineTo(p,c)),p=g=null))}if(o.lineTo(d,c),o.closePath(),t){var x=this.bgcanvas_ctx_.createLinearGradient(0,0,0,c);e&&x.addColorStop(0,e),x.addColorStop(1,t),this.bgcanvas_ctx_.fillStyle=x,o.fill()}a&&(this.bgcanvas_ctx_.strokeStyle=a,this.bgcanvas_ctx_.lineWidth=this.getOption_("rangeSelectorPlotLineWidth"),o.stroke())}},n.prototype.computeCombinedSeriesAndLimits_=function(){var t,e=this.dygraph_,a=this.getOption_("logscale"),i=e.numColumns(),n=e.getLabels(),r=new Array(i),o=!1,s=e.visibility(),l=[];for(t=1;t<i;t++){var h=this.getOption_("showInRangeSelector",n[t]);l.push(h),null!==h&&(o=!0)}if(o)for(t=1;t<i;t++)r[t]=l[t-1];else for(t=1;t<i;t++)r[t]=s[t-1];var u=[],d=e.dataHandler_,c=e.attributes_;for(t=1;t<e.numColumns();t++)if(r[t]){var p=d.extractSeries(e.rawData_,t,c);1<e.rollPeriod()&&(p=d.rollingAverage(p,e.rollPeriod(),c)),u.push(p)}var g=[];for(t=0;t<u[0].length;t++){for(var f=0,_=0,v=0;v<u.length;v++){var y=u[v][t][1];null===y||isNaN(y)||(_++,f+=y)}g.push([u[0][t][0],f/_])}var x=Number.MAX_VALUE,m=-Number.MAX_VALUE;for(t=0;t<g.length;t++){var b=g[t][1];null!==b&&isFinite(b)&&(!a||0<b)&&(x=Math.min(x,b),m=Math.max(m,b))}if(a)for(m=O.log10(m),m+=.25*m,x=O.log10(x),t=0;t<g.length;t++)g[t][1]=O.log10(g[t][1]);else{var w,A=m-x;m+=w=A<=Number.MIN_VALUE?.25*m:.25*A,x-=w}return{data:g,yMin:x,yMax:m}},n.prototype.placeZoomHandles_=function(){var t=this.dygraph_.xAxisExtremes(),e=this.dygraph_.xAxisRange(),a=t[1]-t[0],i=Math.max(0,(e[0]-t[0])/a),n=Math.max(0,(t[1]-e[1])/a),r=this.canvasRect_.x+this.canvasRect_.w*i,o=this.canvasRect_.x+this.canvasRect_.w*(1-n),s=Math.max(this.canvasRect_.y,this.canvasRect_.y+(this.canvasRect_.h-this.leftZoomHandle_.height)/2),l=this.leftZoomHandle_.width/2;this.leftZoomHandle_.style.left=r-l+"px",this.leftZoomHandle_.style.top=s+"px",this.rightZoomHandle_.style.left=o-l+"px",this.rightZoomHandle_.style.top=this.leftZoomHandle_.style.top,this.leftZoomHandle_.style.visibility="visible",this.rightZoomHandle_.style.visibility="visible"},n.prototype.drawInteractiveLayer_=function(){var t=this.fgcanvas_ctx_;t.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);var e=this.canvasRect_.w-1,a=this.canvasRect_.h-1,i=this.getZoomHandleStatus_();if(t.strokeStyle=this.getOption_("rangeSelectorForegroundStrokeColor"),t.lineWidth=this.getOption_("rangeSelectorForegroundLineWidth"),i.isZoomed){var n=Math.max(1,i.leftHandlePos-this.canvasRect_.x),r=Math.min(e,i.rightHandlePos-this.canvasRect_.x);t.fillStyle="rgba(240, 240, 240, "+this.getOption_("rangeSelectorAlpha").toString()+")",t.fillRect(0,0,n,this.canvasRect_.h),t.fillRect(r,0,this.canvasRect_.w-r,this.canvasRect_.h),t.beginPath(),t.moveTo(1,1),t.lineTo(n,1),t.lineTo(n,a),t.lineTo(r,a),t.lineTo(r,1),t.lineTo(e,1),t.stroke()}else t.beginPath(),t.moveTo(1,1),t.lineTo(1,a),t.lineTo(e,a),t.lineTo(e,1),t.stroke()},n.prototype.getZoomHandleStatus_=function(){var t=this.leftZoomHandle_.width/2,e=parseFloat(this.leftZoomHandle_.style.left)+t,a=parseFloat(this.rightZoomHandle_.style.left)+t;return{leftHandlePos:e,rightHandlePos:a,isZoomed:e-1>this.canvasRect_.x||a+1<this.canvasRect_.x+this.canvasRect_.w}},a.default=n,e.exports=a.default},{"../dygraph-interaction-model":12,"../dygraph-utils":17,"../iframe-tarp":19}]},{},[18])(18)})</script><script>!function(x){x.slidebars=function(t){function s(){!r.disableOver||"number"==typeof r.disableOver&&r.disableOver>=k?(y=!0,x("html").addClass("sb-init"),r.hideControlClasses&&T.removeClass("sb-hide"),o()):"number"==typeof r.disableOver&&r.disableOver<k&&(y=!1,x("html").removeClass("sb-init"),r.hideControlClasses&&T.addClass("sb-hide"),g.css("minHeight",""),(m||C)&&n())}function o(){g.css("minHeight",""),parseInt(g.css("height"),10)<parseInt(x("html").css("height"),10)&&g.css("minHeight",x("html").css("height")),v&&v.hasClass("sb-width-custom")&&v.css("width",v.attr("data-sb-width")),p&&p.hasClass("sb-width-custom")&&p.css("width",p.attr("data-sb-width")),v&&(v.hasClass("sb-style-push")||v.hasClass("sb-style-overlay"))&&v.css("marginLeft","-"+v.css("width")),p&&(p.hasClass("sb-style-push")||p.hasClass("sb-style-overlay"))&&p.css("marginRight","-"+p.css("width")),r.scrollLock&&x("html").addClass("sb-scroll-lock")}function e(t,s,e){function i(){n.removeAttr("style"),o()}var n;if(n=t.hasClass("sb-style-push")?g.add(t).add(O):t.hasClass("sb-style-overlay")?t:g.add(O),"translate"===w)"0px"===s?i():n.css("transform","translate( "+s+" )");else if("side"===w)"0px"===s?i():("-"===s[0]&&(s=s.substr(1)),n.css(e,"0px"),setTimeout(function(){n.css(e,s)},1));else if("jQuery"===w){"-"===s[0]&&(s=s.substr(1));var a={};a[e]=s,n.stop().animate(a,400)}}function i(t){function s(){y&&"left"===t&&v?(x("html").addClass("sb-active sb-active-left"),v.addClass("sb-active"),e(v,v.css("width"),"left"),setTimeout(function(){m=!0},400)):y&&"right"===t&&p&&(x("html").addClass("sb-active sb-active-right"),p.addClass("sb-active"),e(p,"-"+p.css("width"),"right"),setTimeout(function(){C=!0},400))}"left"===t&&v&&C||"right"===t&&p&&m?(n(),setTimeout(s,400)):s()}function n(t,s){(m||C)&&(m&&(e(v,"0px","left"),m=!1),C&&(e(p,"0px","right"),C=!1),setTimeout(function(){x("html").removeClass("sb-active sb-active-left sb-active-right"),v&&v.removeClass("sb-active"),p&&p.removeClass("sb-active"),void 0!==t&&(void 0===typeof s&&(s="_self"),window.open(t,s))},400))}function a(t){"left"===t&&v&&(m?n():i("left")),"right"===t&&p&&(C?n():i("right"))}function l(t,s){t.stopPropagation(),t.preventDefault(),"touchend"===t.type&&s.off("click")}var r=x.extend({siteClose:!0,scrollLock:!1,disableOver:!1,hideControlClasses:!1},t),c=document.createElement("div").style,h=!1,d=!1;(""===c.MozTransition||""===c.WebkitTransition||""===c.OTransition||""===c.transition)&&(h=!0),(""===c.MozTransform||""===c.WebkitTransform||""===c.OTransform||""===c.transform)&&(d=!0);var f=navigator.userAgent,u=!1,b=!1;/Android/.test(f)?u=f.substr(f.indexOf("Android")+8,3):/(iPhone|iPod|iPad)/.test(f)&&(b=f.substr(f.indexOf("OS ")+3,3).replace("_",".")),(u&&u<3||b&&b<5)&&x("html").addClass("sb-static");var g=x("#sb-site, .sb-site-container");if(x(".sb-left").length)var v=x(".sb-left"),m=!1;if(x(".sb-right").length)var p=x(".sb-right"),C=!1;var w,y=!1,k=x(window).width(),T=x(".sb-toggle-left, .sb-toggle-right, .sb-open-left, .sb-open-right, .sb-close"),O=x(".sb-slide");s(),x(window).resize(function(){var t=x(window).width();k!==t&&(k=t,s(),m&&i("left"),C&&i("right"))}),h&&d?(w="translate",u&&u<4.4&&(w="side")):w="jQuery",this.slidebars={open:i,close:n,toggle:a,init:function(){return y},active:function(t){return"left"===t&&v?m:"right"===t&&p?C:void 0},destroy:function(t){"left"===t&&v&&(m&&n(),setTimeout(function(){v.remove(),v=!1},400)),"right"===t&&p&&(C&&n(),setTimeout(function(){p.remove(),p=!1},400))}},x(".sb-toggle-left").on("touchend click",function(t){l(t,x(this)),a("left")}),x(".sb-toggle-right").on("touchend click",function(t){l(t,x(this)),a("right")}),x(".sb-open-left").on("touchend click",function(t){l(t,x(this)),i("left")}),x(".sb-open-right").on("touchend click",function(t){l(t,x(this)),i("right")}),x(".sb-close").on("touchend click",function(t){if(x(this).is("a")||x(this).children().is("a")){if("click"===t.type){t.stopPropagation(),t.preventDefault();var s=x(this).is("a")?x(this):x(this).find("a");n(s.attr("href"),s.attr("target")?s.attr("target"):"_self")}}else l(t,x(this)),n()}),g.on("touchend click",function(t){r.siteClose&&(m||C)&&(l(t,x(this)),n())})}}(jQuery)</script><script>function RGBColor(e){this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=(e=e.replace(/ /g,"")).toLowerCase();var f={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var a in f)e==a&&(e=f[a]);for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],d=0;d<r.length;d++){var i=r[d].re,l=r[d].process,t=i.exec(e);t&&(channels=l(t),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:255<this.r?255:this.r,this.g=this.g<0||isNaN(this.g)?0:255<this.g?255:this.g,this.b=this.b<0||isNaN(this.b)?0:255<this.b?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),f=this.g.toString(16),a=this.b.toString(16);return 1==e.length&&(e="0"+e),1==f.length&&(f="0"+f),1==a.length&&(a="0"+a),"#"+e+f+a}}</script><script>var lcd = {
        fontdata: [
            [0, 0, 0, 0, 0, 0, 0, 0],
            [4, 4, 4, 4, 0, 0, 4, 0],
            [10, 10, 10, 0, 0, 0, 0, 0],
            [10, 10, 31, 10, 31, 10, 10, 0],
            [4, 15, 20, 14, 5, 30, 4, 0],
            [24, 25, 2, 4, 8, 19, 3, 0],
            [12, 18, 20, 8, 21, 18, 13, 0],
            [12, 4, 8, 0, 0, 0, 0, 0],
            [2, 4, 8, 8, 8, 4, 2, 0],
            [8, 4, 2, 2, 2, 4, 8, 0],
            [0, 4, 21, 14, 21, 4, 0, 0],
            [0, 4, 4, 31, 4, 4, 0, 0],
            [0, 0, 0, 0, 12, 4, 8, 0],
            [0, 0, 0, 31, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 12, 12, 0],
            [0, 1, 2, 4, 8, 16, 0, 0],
            [14, 17, 19, 21, 25, 17, 14, 0],
            [4, 12, 4, 4, 4, 4, 14, 0],
            [14, 17, 1, 2, 4, 8, 31, 0],
            [31, 2, 4, 2, 1, 17, 14, 0],
            [2, 6, 10, 18, 31, 2, 2, 0],
            [31, 16, 30, 1, 1, 17, 14, 0],
            [6, 8, 16, 30, 17, 17, 14, 0],
            [31, 17, 1, 2, 4, 4, 4, 0],
            [14, 17, 17, 14, 17, 17, 14, 0],
            [14, 17, 17, 15, 1, 2, 12, 0],
            [0, 12, 12, 0, 12, 12, 0, 0],
            [0, 12, 12, 0, 12, 4, 8, 0],
            [2, 4, 8, 16, 8, 4, 2, 0],
            [0, 0, 31, 0, 31, 0, 0, 0],
            [8, 4, 2, 1, 2, 4, 8, 0],
            [14, 17, 1, 2, 4, 0, 4, 0],
            [14, 17, 1, 13, 21, 21, 14, 0],
            [14, 17, 17, 17, 31, 17, 17, 0],
            [30, 17, 17, 30, 17, 17, 30, 0],
            [14, 17, 16, 16, 16, 17, 14, 0],
            [28, 18, 17, 17, 17, 18, 28, 0],
            [31, 16, 16, 30, 16, 16, 31, 0],
            [31, 16, 16, 30, 16, 16, 16, 0],
            [14, 17, 16, 23, 17, 17, 15, 0],
            [17, 17, 17, 31, 17, 17, 17, 0],
            [14, 4, 4, 4, 4, 4, 14, 0],
            [7, 2, 2, 2, 2, 18, 12, 0],
            [17, 18, 20, 24, 20, 18, 17, 0],
            [16, 16, 16, 16, 16, 16, 31, 0],
            [17, 27, 21, 21, 17, 17, 17, 0],
            [17, 17, 25, 21, 19, 17, 17, 0],
            [14, 17, 17, 17, 17, 17, 14, 0],
            [30, 17, 17, 30, 16, 16, 16, 0],
            [14, 17, 17, 17, 21, 18, 13, 0],
            [30, 17, 17, 30, 20, 18, 17, 0],
            [15, 16, 16, 14, 1, 1, 30, 0],
            [31, 4, 4, 4, 4, 4, 4, 0],
            [17, 17, 17, 17, 17, 17, 14, 0],
            [17, 17, 17, 17, 17, 10, 4, 0],
            [17, 17, 17, 21, 21, 21, 10, 0],
            [17, 17, 10, 4, 10, 17, 17, 0],
            [17, 17, 17, 10, 4, 4, 4, 0],
            [31, 1, 2, 4, 8, 16, 31, 0],
            [28, 16, 16, 16, 16, 16, 28, 0],
            [17, 10, 31, 4, 31, 4, 4, 0],
            [14, 2, 2, 2, 2, 2, 14, 0],
            [4, 10, 17, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 31, 0],
            [8, 4, 2, 0, 0, 0, 0, 0],
            [0, 0, 14, 1, 15, 17, 15, 0],
            [16, 16, 22, 25, 17, 17, 30, 0],
            [0, 0, 14, 16, 16, 17, 14, 0],
            [1, 1, 13, 19, 17, 17, 15, 0],
            [0, 0, 14, 17, 31, 16, 14, 0],
            [6, 9, 8, 28, 8, 8, 8, 0],
            [0, 15, 17, 17, 15, 1, 14, 0],
            [16, 16, 22, 25, 17, 17, 17, 0],
            [4, 0, 12, 4, 4, 4, 14, 0],
            [2, 0, 6, 2, 2, 18, 12, 0],
            [16, 16, 18, 20, 24, 20, 18, 0],
            [12, 4, 4, 4, 4, 4, 14, 0],
            [0, 0, 26, 21, 21, 17, 17, 0],
            [0, 0, 22, 25, 17, 17, 17, 0],
            [0, 0, 14, 17, 17, 17, 14, 0],
            [0, 0, 30, 17, 30, 16, 16, 0],
            [0, 0, 13, 19, 15, 1, 1, 0],
            [0, 0, 22, 25, 16, 16, 16, 0],
            [0, 0, 14, 16, 14, 1, 30, 0],
            [8, 8, 28, 8, 8, 9, 6, 0],
            [0, 0, 17, 17, 17, 19, 13, 0],
            [0, 0, 17, 17, 17, 10, 4, 0],
            [0, 0, 17, 21, 21, 21, 10, 0],
            [0, 0, 17, 10, 4, 10, 17, 0],
            [0, 0, 17, 17, 15, 1, 14, 0],
            [0, 0, 31, 2, 4, 8, 31, 0],
            [2, 4, 4, 8, 4, 4, 2, 0],
            [4, 4, 4, 4, 4, 4, 4, 0],
            [8, 4, 4, 2, 4, 4, 8, 0],
            [0, 4, 2, 31, 2, 4, 0, 0],
            [0, 4, 8, 31, 8, 4, 0, 0]
        ],
        symbol: [
            [0B01000, 0B10100, 0B01000, 0B00111, 0B01000, 0B01000, 0B01000, 0B00111], //0: celsius
            [0B11100, 0B10000, 0B11100, 0B00111, 0B11101, 0B00111, 0B00100, 0B00100], //1: setpoint
            [0B00000, 0B01110, 0B01010, 0B01110, 0B01000, 0B01000, 0B01000, 0B00000], //2: pump symbol
            [0B11111, 0B10001, 0B10101, 0B10001, 0B010111, 0B10111, 0B10111, 0B11111], //3: rev pump symbol
            [0B00000, 0B01010, 0B01010, 0B01110, 0B01110, 0B01010, 0B01010, 0B00000], // 4: heat 
            [0B11111, 0B10101, 0B10101, 0B10001, 0B10001, 0B10101, 0B10101, 0B11111], // 5: rev heat
            [0B01000, 0B10100, 0B01000, 0B00111, 0B00100, 0B00110, 0B00100, 0B00100], // 6: degree F
            [0B00000, 0B01110, 0B10001, 0B00100, 0B01010, 0B00000, 0B00100, 0B00000], // 7: wireless
            [0B00000, 0B10001, 0B01010, 0B10101, 0B00100, 0B00100, 0B00100, 0B01110], // 8: wireless AP
            [0b00000, 0b00100, 0b01100, 0b00100, 0b00100, 0b00100, 0b01110, 0b00000], // 9: primary heat
            [0b11111, 0b11011, 0b10011, 0b11011, 0b11011, 0b11011, 0b10001, 0b11111], //10: rev Primary heat
            [0b00000, 0b00100, 0b01010, 0b00010, 0b00100, 0b01000, 0b01110, 0b00000], // 11: secondary heat
            [0b11111, 0b11011, 0b10101, 0b11101, 0b11011, 0b10111, 0b10001, 0b11111], // 12: rev secondary

        ],
        fontWidth: 5,
        fontHeight: 8,
        begin: function(canvas, col, row) {
            var t = this;
            var ctx = canvas.getContext("2d");
            ctx.imageSmoothingEnabled = !1, ctx.webkitImageSmoothingEnabled = !1,
                ctx.msImageSmoothingEnabled = !1,
                canvas.height = row * (t.fontHeight + 1) - 1,
                canvas.width = col * (t.fontWidth + 1),
                canvas.style.padding = "4px",
                canvas.style.height = 2 * canvas.height + "px",
                canvas.style.width = 2 * canvas.width + "px";
            t.ID = new ImageData(new Uint8ClampedArray([0, 0, 0, 255]), 1, 1);
            t.ctx = ctx;
            t.col = 0;
            t.row = 0;
            t.canvas = canvas;
        },
        setColor: function(r, g, b) {
            this.ID = new ImageData(new Uint8ClampedArray([r, g, b, 255]), 1, 1);
        },
        clear: function() {
            this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
        },
        drawchar: function(ch, xpos, ypos, sym) {
            var t = this;
            var bmps = sym ? t.symbol : t.fontdata;
            var bidx = sym ? ch : ch.charCodeAt(0) - 32;
            for (var a = 0; a < t.fontHeight; a++)
                for (var o = t.fontWidth; 0 <= o; o--)
                    bmps[bidx][a] & 1 << o && t.ctx.putImageData(t.ID, xpos + t.fontWidth - 1 - o, ypos + a)
        },
        write: function(ch, col, row) {
            var t = this;
            if (typeof ch == "number")
                t.drawchar(ch, col * (t.fontWidth + 1), row * (t.fontHeight + 1), 1);
            else
                t.drawchar(ch, col * (t.fontWidth + 1), row * (t.fontHeight + 1));
        },
        setCursor: function(col, row) {
            this.col = col, this.row = row;
        },
        print: function(str) {
            var t = this;
            for (var i = 0; i < str.length; i++) {
                var ch = str.charAt(i);
                if (ch != '\\')
                    t.write(ch, t.col++, t.row);
                else {
                    i++;
                    ch = str.charAt(i);
                    if (ch == '\\') t.write(ch, t.col++, t.row);
                    else {
                        t.write(parseInt(ch, 16), t.col++, t.row);
                    }
                }
            }
        }
    };</script><script>function setCookie(e,t,r){var n=new Date;n.setTime(n.getTime()+24*r*60*60*1e3);var o="expires="+n.toUTCString();document.cookie=e+"="+t+"; "+o}function getCookie(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var o=r[n];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""}var BrewMath={plato2sg:function(e){return 1+e/(258.6-e/258.2*227.1)},sgTempCorrected:function(e,t,r){return e*((1.00130346-.000134722124*t+204052596e-14*t*t-2.32820948e-9*t*t*t)/(1.00130346-.000134722124*r+204052596e-14*r*r-2.32820948e-9*r*r*r))},brix2sg:function(e,t){var r=e/(t=void 0===t?1:t);return r/(258.6-r/258.2*227.1)+1},sg2plato:function(e){return 1111.14*e-630.272*e*e+135.997*e*e*e-616.868}}</script><script>var AddHopEventId=7,TemperatureReachedId=1,ResumeBrewShortText="R",AddHopShortText="H",TemperatureReachedShortText="TR",StageLineColor="rgba(0, 45, 112,0.8)",StageTextColor="rgba(125,125,125,1)",LineLabels=["Time","Set","#1","#2","#3","#4","#5","#6","#7"],LineColors=["rgba(250, 0, 0, 1)","rgba(54, 162, 235, 1)","rgba(207, 56, 199, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],BrewChart=function(t){this.cid=t,this.ctime=0,this.interval=60,this.numLine=1,this.lidx=0,this.celius=!0,this.spLabel="set",this.sp=35,this.LL=LineLabels,this.lineColors=LineColors,this.config=$.extend(!0,{},BrewChart.config),this.realtime=!1,this.data=[],this.anno=[],this.stage=[]};BrewChart.prototype.clear=function(){var t=this;t.ctime=0,t.numLine=1,t.lidx=0,this.data=[],void 0!==t.myLine&&t.myLine.destroy()},BrewChart.prototype.setCelius=function(t){this.celius=t,this.ylabel=STR.ChartLabel+"("+(t?"°C":"°F")+")"},BrewChart.prototype.lineLabel=function(t,e){void 0!==e?this.LL[t]=e:this.LL=t},BrewChart.prototype.formatTime=function(t){var e=new Date(t);return mm=e.getMinutes(),hh=e.getHours(),(9<hh?hh:"0"+hh)+":"+(9<mm?mm:"0"+mm)},BrewChart.prototype.startRecord=function(){this.record=[new Date(1e3*(this.ctime+this.starttime))]},BrewChart.prototype.addData=function(t,e){this.record[t+1]=e},BrewChart.prototype.finishRecord=function(){this.data.push(this.record),this.ctime+=this.interval},BrewChart.prototype.tempFormat=function(t){var e=parseFloat(t);if(isNaN(e))return"--";var a=this.celius?"&deg;C":"&deg;F";return parseFloat(e).toFixed(2)+a},BrewChart.prototype.chart=function(){var r=this,t=document.createElement("div");t.className="hide",document.body.appendChild(t);for(var e=[],a=[],i=0;i<=r.numLine+1;i++)e.push(r.LL[i]),a.push(r.lineColors[i]);var s={labels:e,colors:a,connectSeparatedPoints:!0,ylabel:r.ylabel,axisLabelFontSize:12,animatedZooms:!0,width:"auto",gridLineColor:"#ccc",gridLineWidth:"0.1px",labelsDiv:document.getElementById(r.div+"-label"),legend:"follow",labelsDivStyles:{"text-align":"right"},displayAnnotations:!0,strokeWidth:2,axes:{y:{valueFormatter:function(t){return r.tempFormat(t)}},x:{valueFormatter:function(t){return r.formatTime(t)}}},highlightCircleSize:2,highlightSeriesOpts:{strokeWidth:1.5,strokeBorderWidth:1,highlightCircleSize:5},underlayCallback:function(t,e,a){t.save();try{r.drawBackground(t,e,a)}finally{t.restore()}}};r.chart=new Dygraph(document.getElementById(r.cid),r.data,s),document.getElementById(r.cid).parentNode.onresize=function(){r.chart.resize()}},BrewChart.prototype.update=function(){this.chart.updateOptions({file:this.data}),this.chart.setAnnotations(this.anno)},BrewChart.prototype.findStageBlocks=function(t,e,a){"use strict";if(this.stage.length<1)return[];for(var r=[],i=0,s=Math.floor(e/1e3)-this.starttime,o=Math.floor(a/1e3)-this.starttime;this.stage[i].time<s&&i<this.stage.length;)i++;var n,h=this.stage[i].stage,d=this.stage[i].text;e=s;for(n=i+1;n<this.stage.length&&this.stage[n].time<o;n++)r.push({stage:h,text:d,start:e,end:this.stage[n].time}),h=this.stage[n].stage,d=this.stage[n].text,e=this.stage[n].time;return r.push({stage:h,text:d,start:e,end:o}),r},BrewChart.prototype.drawBackground=function(t,e,a){for(var r=a.toDataXCoord(e.x),i=a.toDataXCoord(e.x+e.w),s=this.findStageBlocks(a,r,i),o=(i-r)/1e3,n=e.x,h=0;h<s.length;h++){var d=s[h],l=(d.end-d.start)/o,c=Math.floor(e.w*l),u=t.measureText(d.text);if(c>.6*u.width){var m=n+(u.width<c?(c-u.width)/2:0);t.strokeStyle=StageTextColor,t.strokeText(d.text,m,e.h/2-(u.actualBoundingBoxAscent+u.actualBoundingBoxDescent),c)}else{t.save();var g=n+c/2,p=e.y+e.h/2;t.translate(g,p),t.rotate(-Math.PI/2),t.strokeText(d.text,0,(u.actualBoundingBoxAscent+u.actualBoundingBoxDescent)/2),t.restore()}t.strokeStyle=StageLineColor,t.beginPath(),t.moveTo(n,e.y),t.lineTo(n,e.y+e.h),t.stroke(),n+=c}},BrewChart.prototype.addStage=function(t){var e;if(t<STR.stageName.length)e=STR.stageName[t];else if(100==t)e=STR.ManualMode;else{if(103!=t)return;e=STR.PIDAutoTune}this.stage.push({stage:t,time:this.ctime,text:e})},BrewChart.prototype.addEvent=function(t){if(t==AddHopEventId||t==TemperatureReachedId){var e=t==AddHopEventId?AddHopShortText:TemperatureReachedShortText,a=STR.event[t],r=t==TemperatureReachedShortText;this.anno.push({series:"#1",x:1e3*(this.starttime+this.ctime),shortText:e,text:a,attachAtBottom:r})}},BrewChart.prototype.addResume=function(t){for(;this.record.length<=this.numLine+1;)this.record.push(NaN);this.finishRecord(),this.anno.push({series:"#1",x:1e3*(this.starttime+this.ctime),shortText:ResumeBrewShortText,text:STR.ResumeBrew,attachAtBottom:!0})},BrewChart.testData=function(t){if(255!=t[0])return!1;var e=7&t[1];return!(5<e)&&{sensor:e,f:16&t[1]}},BrewChart.prototype.process=function(t){for(var e=this,a=0;a<t.length;){var r=t[a++],i=t[a++];if(255==r){e.numLine=7&i;var s=t[a++];s=256*s+t[a++],e.interval=s,e.starttime=(t[a]<<24)+(t[a+1]<<16)+(t[a+2]<<8)+t[a+3],a+=4,e.chart()}else if(241==r)e.addStage(i);else if(242==r)e.addEvent(i);else if(243==r){var o=t[a++],n=t[a++];e.sp=(256*(127&o)+n)/100}else if(254==r)e.addResume(i);else if(r<128){0==e.lidx&&(e.startRecord(),e.addData(0,e.sp));var h=256*r+i;if(32767==h)e.addData(e.lidx+1,NaN);else{var d=h/100;e.celius&&120<d||238<d?e.addData(e.lidx+1,NaN):e.addData(e.lidx+1,d)}++e.lidx>=e.numLine&&(e.lidx=0,e.finishRecord())}}e.update()}</script><script>var BMSetting={values:{},editing:{},enabled:!1,celius:!0,singlesensor:!0,disableSetting:function(e){$("#settings-p input").spinner({disabled:e})},disableButton:function(e){$("#settings-p button").button({disabled:e})},setEnabled:function(e){(this.enabled=e)?$("#esetting").button({disabled:!1}):$("#esetting").button({disabled:!0})},display:function(){var s=this;s.celius;$.each(this.values,function(e,i){var t,n=EEPROM[e];n?(t=void 0===n.labels?void 0===n.decode?i:n.decode(i):n.labels[i],$("#"+e).html(t)):"sensors"==e?s.sensorAddr(i):"primary"==e?s.primarySensor(i):"auxiliary"==e&&s.auxiliarySensor(i)})},auxiliarySensor:function(e){for(var i=0;i<e.length;i++)$("#sensor_S_"+i).text(e[i]+1)},primarySensor:function(e){for(var i=0;i<e.length;i++)$("#sensor_P_"+i).text(e[i]+1)},sensorAddr:function(e){for(var i=1;i<=e.length;i++)$("#SA_"+i).text(e[i-1])},numsensor:0,sclabel:"",multisensor:function(e){if($("#multisensor").show(),this.singlesensor=!1,0!=e){var i,t,n,s;if(0==this.numsensor?((t=$("tr.sensor_row")).find("td.sensor_addr").attr("id","SA_1"),i=2,s=(n=$("#s_cal").closest("tr")).find("td.TCAL_T").text(),n.find("td.TCAL_T").text(s+" #1"),n.find("span.TCAL_V").attr("id","s_cal_1"),EEPROM.s_cal_1=EEPROM.s_cal,this.sclabel=s):(t=$("#SA_"+this.numsensor).closest("tr.sensor_row"),i=this.numsensor+1,n=$("#s_cal_"+this.numsensor).closest("tr"),s=this.sclabel),e>this.numsensor)for(var o=i;o<=e;o++){var a=t.clone();a.find("td.sensor_id").text(o),a.find("td.sensor_addr").attr("id","SA_"+o),a.insertAfter(t),t=a;var r=n.clone(),l="s_cal_"+o;r.find("td.TCAL_T").text(s+" #"+o),r.find("span.TCAL_V").attr("id",l),r.insertAfter(n),EEPROM[l]=EEPROM.s_cal,n=r}else for(o=e+1;o<=this.numsensor;o++){$("#SA_"+o).closest("tr.sensor_row").remove(),$("#s_cal_"+o).closest("tr").remove()}this.numsensor=e}},setting:function(e){"s_spenable"in(this.values=e)&&$(".spargeheating").show(),"s_preheat"in e&&$(".dualheating").show(),"s_wlv"in e&&$(".waterlevelsensor").show(),this.display(),"ui-icon-pencil"!=$("#esetting").button("option","icons").primary&&($("#esetting").button("option","icons",{primary:"ui-icon-pencil"}),$("#savesetting").hide(),$("#importsetting").hide(),$("#exportsetting").show())},unitCelius:function(e){this.celius!=e&&($(".tmp_unit").html(e?"&deg;C":"&deg;F"),this.celius=e)},valuechange:function(e){var i=$(e).attr("name"),t=$(e).spinner("value"),n=$(e).spinner("option","min"),s=$(e).spinner("option","max");t<n&&(t=n),s<t&&(t=s),$(e).spinner("value",t),void 0===EEPROM[i].encode?this.editing[i]=t:this.editing[i]=EEPROM[i].encode(t)},switchchange:function(e,i){this.editing[e]=i},selectionchange:function(e,i){this.editing[e]=i},editsettings:function(){var r=this.values,l=this;$.each(EEPROM,function(t,n){var e=$("#"+t).empty(),s=void 0===n.decode?r[t]:n.decode(r[t]);if(void 0===n.labels){var i=n.min,o=n.max;l.celius||"s_boil"!=t&&"s_pumpstop"!=t&&"s_sptemp"!=t||(i=C2F(i),o=C2F(o)),$('<input size="4" value="'+s+'"></input>').appendTo(e),e.find("input").spinner({min:i,max:o,step:n.inc,change:function(){l.valuechange(this)}}).attr("name",t)}else if(2==n.labels.length)$('<input type="checkbox" value="'+s+'"'+(s?"checked":"")+"></input>").appendTo(e),e.find("input[type=checkbox]").switchButton({on_label:n.labels[1],off_label:n.labels[0],name:t,on_callback:function(){l.switchchange(t,this.options.checked?1:0)},off_callback:function(){l.switchchange(t,this.options.checked?1:0)}});else{var a="";$.each(n.labels,function(e,i){e>=n.min&&(a=a+'<input type="radio" name="'+t+'" value="'+e+'"'+(s==e?"checked":"")+" >"+n.labels[e]+"<br />")}),$(a).appendTo(e),e.find("input").on("click",function(){l.selectionchange(t,e.find("input:checked").val())})}}),this.editing={}},finishSaving:function(e){if(e){var t=this;$.each(t.editing,function(e,i){t.values[e]=i}),t.display(),$("#esetting").button("option","icons",{primary:"ui-icon-pencil"}),$("#savesetting").hide(),$("#importsetting").hide(),$("#exportsetting").show()}else this.disableSetting(!1);this.disableButton(!1)},saveToLocal:function(){var e=JSON.stringify(this.values),i=new Blob([e],{type:"application/json;"}),t=document.createElement("a");if(void 0!==t.download){var n=URL.createObjectURL(i);t.setAttribute("href",n),t.setAttribute("download","brewmaniac.settings.json"),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)}else alert("unsupported")},editingChange:function(e,i){var t=EEPROM[e],n=void 0===t.decode?i:t.decode(i);void 0===t.labels?$("#"+e+" input").spinner("value",n):2==t.labels.length?$("#"+e+" input").switchButton({checked:1==n}):($("#"+e).find("input:checked").attr("checked",!1),$("#"+e).find("input[value="+n+"]").attr("checked",!0))},processImport:function(e){var t=this;!t.singlesensor&&"sensors"in e&&t.multisensor(e.sensors.length),$.each(e,function(e,i){"object"==typeof i?t.singlesensor||(t.editing[e]=i,"sensors"==e?t.sensorAddr(i):"primary"==e?t.primarySensor(i):"auxiliary"==e&&t.auxiliarySensor(i)):void 0!==t.values[e]&&(i!=t.values[e]||void 0!==t.editing[e]&&t.editing[e]!=i)&&t.editingChange(e,i)})},importFile:function(){var n=this;$("#dialog-file :file").change(function(e){var i=e.target.files[0],t=new FileReader;t.onload=function(e){try{var i=JSON.parse(e.target.result);$("#dialog-file").dialog("close"),n.processImport(i)}catch(e){console.log("error file format:"+e)}},i.onerror=function(e){alert("error open file:"+e)},t.readAsText(i)}),$("#dialog-file").dialog("open")},init:function(e){var i=this;$("#multisensor").hide(),$(".spargeheating").hide(),$(".dualheating").hide(),$(".waterlevelsensor").hide(),$("#esetting").button({disabled:!1,text:!1,icons:{primary:"ui-icon-pencil"}}).click(function(){"ui-icon-pencil"==$("#esetting").button("option","icons").primary?($("#esetting").button("option","icons",{primary:"ui-icon-arrowreturnthick-1-w"}),$("#savesetting").show(),$("#importsetting").show(),$("#exportsetting").hide(),i.editsettings()):($("#esetting").button("option","icons",{primary:"ui-icon-pencil"}),$("#savesetting").hide(),$("#importsetting").hide(),$("#exportsetting").show(),i.display())}),$("#savesetting").button({text:!1,icons:{primary:"ui-icon-disk"}}).click(function(){if(i.enabled){if(0==Object.keys(i.editing).length)return $("#esetting").button("option","icons",{primary:"ui-icon-pencil"}),$("#savesetting").hide(),void i.display();i.disableSetting(!0),i.disableButton(!0),e.savesetting(i.editing)}else alert("BrewManiac is not in idle state")}).hide(),$("#exportsetting").button({text:!1,icons:{primary:"ui-icon-extlink"}}).click(function(){i.saveToLocal()}),$("#importsetting").button({text:!1,icons:{primary:"ui-icon-folder-open"}}).click(function(){i.importFile()}).hide(),$("#dialog-file").dialog({autoOpen:!1,modal:!0,width:380}).hide()}}</script><script>var BMRecipe={auto:{rest_tp:[55,65,0,0,0,0,0,76],rest_tm:[1,60,0,0,0,0,0,10],boil:60,hops:[60]},eauto:{},enabled:!1,celius:!0,disableInput:function(t){$("#automation-p input").spinner({disabled:t})},disableButton:function(t){$("#automation-p button").button({disabled:t})},setEnabled:function(t){(this.enabled=t)?$("#editauto").button({disabled:!1}):$("#editauto").button({disabled:!0})},updateRecipe:function(t){this.auto=t,this.display(),"ui-icon-pencil"!=$("#editauto").button("option","icons").primary&&this.stopEditRecipe()},unitCelius:function(t){this.celius=t,"ui-icon-pencil"!=$("#editauto").button("option","icons").primary&&this.stopEditRecipe(),void 0!==this.auto.rest_tp&&this.display()},newrest:function(t){return $("<tr><td>"+STR.Mash+" "+t+' </td><td><span id="s'+t+'_tp"></span> <span class="tmp_unit">&deg;'+(this.celius?"C":"F")+'</span></td><td><span id="s'+t+'_tm"></span> min</td></tr>')},dis_rest:function(t){var i=$("#s7_tp").closest("tr");$("#s0_tp").closest("tr").nextUntil(i).remove();for(var e=1;e<7;e++){var s=t.rest_tm[e];if(0==s)break;var n=this.newrest(e);i.before(n),$("#s"+e+"_tm").text(s),$("#s"+e+"_tp").text(t.rest_tp[e])}},delhops:function(){$("#auto_table tr:lt("+$("#addhopstand").closest("tr").index()+"):gt("+$("#boiltime").closest("tr").index()+")").remove()},display:function(){var t=this.auto;$("#s0_tp").text(t.rest_tp[0].toFixed(1)),$("#s7_tm").text(t.rest_tm[7]),$("#s7_tp").text(t.rest_tp[7].toFixed(1)),this.dis_rest(this.auto),$("#boiltime").text(t.boil),this.delhops();var e=$("#addhopstand").closest("tr");$.each(t.hops,function(t,i){$("<tr><td>Hop#"+(t+1)+'</td><td colspan="2">'+i+" "+STR.min+"</td></tr>").insertBefore(e)}),this.displayhopstand()},minRT:[20,25,25,25,25,25,25,75],maxRT:[75,76,76,76,76,76,76,80],minRT_F:[68,77,77,77,77,77,77,167],maxRT_F:[167,169,169,169,169,169,176,176],rtmChange:function(t){var i=$(t).attr("name").substring(2),e=$(t).spinner("value");140<e&&(e=140);var s=5<i?1:0;e<s&&(e=s),$(t).spinner("value",e),this.eauto.rest_tm[i]=e},rtpChange:function(t){var i=$(t).attr("name").substring(2),e=$(t).spinner("value"),s=$(t).spinner("option","min"),n=$(t).spinner("option","max");e<s&&(e=s),n<e&&(e=n),$(t).spinner("value",e),this.eauto.rest_tp[i]=e},btChange:function(t){var i=$(t).spinner("value");140<i&&(i=140),i<1&&(i=1),$(t).spinner("value",i),this.eauto.boil=i,this.listhop()},hchange:function(t){var i=$(t).attr("name").substring(1);this.eauto.hops.splice(i,1);var e=$(t).spinner("value");e<1&&(e=1),e>this.eauto.boil&&(e=this.eauto.boil),this.eauto.hops.push(e),this.eauto.hops.sort(function(t,i){return i-t}),this.listhop()},dhop:function(t){var i=$(t).attr("name").substring(2);this.eauto.hops.splice(i,1),this.listhop()},ahop:function(){var t=this.eauto.hops[this.eauto.hops.length-1]-1;t<1&&(t=1),this.eauto.hops.push(t),this.listhop()},listhop:function(){var s=this;s.delhops();var n=$("#addhopstand").closest("tr");$.each(s.eauto.hops,function(t,i){var e=$("<tr><td>"+STR.HopN+(t+1)+'</td><td colspan="2"><input size="3" name="h'+t+'" value="'+i+'"></input>'+STR.min+"<button>x</button></td></tr>").insertBefore(n);e.find("input").spinner({min:1,max:s.eauto.boil,change:function(){s.hchange(this)}}),e.find("button").css("color","red").attr("name","dh"+t).button({text:!1,icons:{primary:"ui-icon-trash"}}).click(function(){s.dhop(this)})})},drest:function(t){for(var i=this,e=i.eauto.rest_tm,s=i.eauto.rest_tp,n=a=parseInt($(t).attr("name").substring(2));n<6;n++){var o=n+1;e[n]=e[o],s[n]=s[o]}e[6]=0,s[6]=0,i.dis_rest(this.eauto);for(var a=0;a<7;a++)i.resteditable(a)},arest:function(){var t;for(t=1;t<7;t++)if(0==this.eauto.rest_tm[t]){this.eauto.rest_tm[t]=10,this.eauto.rest_tp[t]=this.eauto.rest_tp[t-1]+1;var i=this.newrest(t);$("#s7_tp").closest("tr").before(i),this.resteditable(t);break}},resteditable:function(t){var i=this;if(0!=t){var e=$("#s"+t+"_tm").empty();$('<input size="3" value="'+i.eauto.rest_tm[t]+'"></input>').appendTo(e);var s=1;e.find("input").spinner({min:s,max:140,change:function(){i.rtmChange(this)}}).attr("name","tm"+t),t<7&&$("<button>x</button></td>").appendTo(e.closest("td")).css("color","red").attr("name","mr"+t).button({text:!1,icons:{primary:"ui-icon-trash"}}).click(function(){i.drest(this)})}var n=$("#s"+t+"_tp").empty(),o=i.eauto.rest_tp[t],a=(s=this.celius?i.minRT[t]:i.minRT_F[t],this.celius?i.maxRT[t]:i.maxRT_F[t]);o<s&&(o=s),a<o&&(o=a),i.eauto.rest_tp[t]=o,$('<input size="5" value="'+o.toFixed(1)+'"></input>').appendTo(n),n.find("input").spinner({min:s,max:a,step:.25,change:function(){i.rtpChange(this)}}).attr("name","tp"+t)},edit:function(){$("#addhop").show(),$("#addrest").show(),$("#saveauto").show(),$("#addhopstand").show();var t=this;t.eauto=$.extend(!0,{},this.auto);$('<input size="3" value="'+this.auto.boil+'"></input>').appendTo($("#boiltime").empty()).spinner({min:1,max:140,change:function(){t.btChange(this)}});t.listhop();for(var i=0;i<8;i++)0<i&&i<7&&0==t.eauto.rest_tm[i]?i=6:this.resteditable(i);this.edithopstand()},stopEditRecipe:function(){$("#editauto").button("option","icons",{primary:"ui-icon-pencil"}),$("#saveauto").hide(),$("#addhop").hide(),$("#addrest").hide(),$("#addhopstand").hide(),$(".addpbh").hide()},validate:function(){if(0==this.eauto.rest_tm[7])return STR.errorMashoutTimeZero;var t=this.eauto.boil;if(10<this.eauto.hops.length)return STR.errorTooManyHop;if(0<this.eauto.hops.length){var i=this.eauto.hops[0];if(t<i)return STR.errorWrongHopSchedule;for(var e=1;e<this.eauto.hops.length;e++){var s=this.eauto.hops[e];if(i<=s)return STR.errorWrongHopSchedule;i=s}}if(void 0!==this.eauto.hs){if(5<this.eauto.hs.length)return STR.errorTooManyHopStand;for(e=1;e<this.eauto.hs.length;e++)if(this.eauto.hs[e-1].k<=this.eauto.hs[e].s)return STR.errorHopStandSession;var n=0;for(e=0;e<this.eauto.hs.length;e++){var o=this.eauto.hs[e].h;n+=o.length;for(var a=1;a<o.length;a++)if(o[a-1]<=o[a])return STR.errorPostHopSchedule}if(10<n)return STR.errorTooManyPostBoilHop}return null},finishSaveRecipe:function(t){t?(this.auto=BM.auto,this.display(),this.stopEditRecipe()):this.disableInput(!1),this.disableButton(!1)},addpbh:function(t){var i=this.eauto.hs[t].h;i.push(i[i.length-1]-1),this.edithopstand()},rmpbh:function(t,i){1==this.eauto.hs[t].h.length?this.eauto.hs.splice(t,1):this.eauto.hs[t].h.splice(i,1),this.edithopstand()},pbhchange:function(t,i,e){this.eauto.hs[t].h[i]=e},hssecchange:function(t,i,e){this.eauto.hs[t][i]=e},edithopstand:function(){var n=this;if(n.rmhopstand(),void 0!==n.eauto.hs){var o=$("#auto_table tbody"),a=1;$.each(n.eauto.hs,function(s,t){var i=n.hssessionrow.clone();$(i).find(".session-number").html(""+(s+1)),$(i).find(".session-start-temp").empty().append($("<input size=3 value="+t.s+"></input>")),$(i).find(".session-hold-temp").empty().append($("<input size=3 value="+t.k+"></input>")),$(i).find(".addpbh").button({disabled:!1,text:!1,icons:{primary:"ui-icon-plusthick"}}).click(function(){n.addpbh(s)}),$(i).appendTo(o),$(i).find(".session-start-temp input").spinner({change:function(){n.hssecchange(s,"s",$(this).spinner("value"))}}),$(i).find(".session-hold-temp input").spinner({change:function(){n.hssecchange(s,"k",$(this).spinner("value"))}}),$.each(t.h,function(t,i){var e=$("<tr><td>"+STR.PBHN+a+'</td><td colspan="2"><input size="3" name="pbh'+a+'" value="'+i+'"></input>'+STR.min+"<button>x</button></td></tr>").appendTo(o);e.find("input").spinner({min:1,change:function(){n.pbhchange(s,t,$(this).spinner("value"))}}),e.find("button").css("color","red").attr("name","pdh"+t).button({text:!1,icons:{primary:"ui-icon-trash"}}).click(function(){n.rmpbh(s,t)}),a++})})}},displayhopstand:function(){var s=this;if(s.rmhopstand(),void 0!==s.auto.hs){var n=$("#auto_table tbody"),o=1;$.each(s.auto.hs,function(t,i){var e=s.hssessionrow.clone();$(e).find(".session-number").html(""+(t+1)),$(e).find(".session-start-temp").empty().html(""+i.s),$(e).find(".session-hold-temp").empty().html(""+i.k),$(e).find(".addpbh").hide(),$(e).appendTo(n),$.each(i.h,function(t,i){$("<tr><td>"+STR.PBHN+o+'</td><td colspan="2">'+i+" "+STR.min+"</td></tr>").appendTo(n);o++})})}},rmhopstand:function(){$("#auto_table tr:gt("+$("#addhopstand").closest("tr").index()+")").remove()},addsession:function(){var t=this;void 0===t.eauto.hs&&(t.eauto.hs=[]);var i=0<t.eauto.hs.length?t.eauto.hs[t.eauto.hs.length-1].k-1:t.celius?99:211;t.eauto.hs.push({s:i,k:i,h:[20]}),t.edithopstand()},init:function(i){var e=this;$("#editauto").button({disabled:!1,text:!1,icons:{primary:"ui-icon-pencil"}}).click(function(){"ui-icon-pencil"==$("#editauto").button("option","icons").primary?(e.edit(),$("#editauto").button("option","icons",{primary:"ui-icon-arrowreturnthick-1-w"})):(e.display(),e.stopEditRecipe())}),$("#saveauto").button({disabled:!1,text:!1,icons:{primary:"ui-icon-disk"}}).click(function(){if(e.enabled){var t=e.validate();t?alert(t):(e.disableButton(!0),e.disableInput(!0),i.saveRecipe(e.eauto))}else alert("BrewManiac is not in idle state")}).hide(),$("#addhop").button({disabled:!1,text:!1,icons:{primary:"ui-icon-plusthick"}}).click(function(){e.ahop()}).hide(),$("#addrest").button({disabled:!1,text:!1,icons:{primary:"ui-icon-plusthick"}}).click(function(){e.arest()}).hide(),$("#addhopstand").button({disabled:!1,text:!1,icons:{primary:"ui-icon-plusthick"}}).click(function(){e.addsession()}).hide(),e.hssessionrow=$("#auto_table tr:eq("+($("#addhopstand").closest("tr").index()+1)+")"),e.hssessionrow.remove()}}</script><script>function SoundBox(beep, uicb) {
    var b = this;
    b.beep = beep;
    beep.loop = true;
    b.meta = {};
    b.audioTimeout = null;
    b.playing = false;
    b.queue = [];
    b.onAudioLoaded = null;
    b.audioLoaded = false;
    //    b.uiNeeded = false;
    b.uicb = uicb;

    function loadAudio() {
        //var b=this;
        b.audio = new Audio(b.audiosrc);
        b.audio.oncanplaythrough = function() {
            //console.log("audio file downloaded");
            b.audio.oncanplaythrough = null;
            b.audioLoaded = true;
            if (b.onAudioLoaded !== null) b.onAudioLoaded();
        };
        b.audio.load();
    }

    function checkQueue() {
        //var b=this;
        if (b.queue.length == 0) {
            //console.log("empty queue");
            return;
        }
        if (b.playing) return;
        var target = b.queue.shift();
        //console.log("dequeue " + target.s);
        //b.playing = true;
        if (target.s == "beep") {
            //console.log("beep play");
            b.beep.currentTime = 0.01;
            var promise = b.beep.play();
            if (promise !== undefined) {
                promise.then(_ => {
                    // Autoplay started!
                    b.playing = true;
                }).catch(error => {
                    // Autoplay was prevented.
                    // Show a "Play" button so that user can start playback.
                    //console.log("UI needed to play");
                    //b.uiNeeded = true;
                    b.uicb();
                });
            }
            b.audioTimeout = null;
            b.beep.ontimeupdate = function() {
                //console.log("beep time:"+b.beep.currentTime);
                if (b.audioTimeout == null && b.beep.currentTime > 0.01) {
                    b.beep.ontimeupdate = null;
                    b.audioTimeout = setTimeout(function() {
                        b.beep.pause();
                        clearTimeout(b.audioTimeout);
                        b.playing = false;
                        checkQueue();
                    }, (target.t - b.beep.currentTime) * 1000);
                }
            };

        } else {
            var repeat = b.meta[target.s].r;
            var time = b.meta[target.s].s;
            var duration = b.meta[target.s].t;
            if (time == 0) time = 0.01;
            //console.log("Start: " + b.audio.seekable.start(0) + " End: "  + b.audio.seekable.end(0));
            //console.log("start:"+time + " duration:" +duration +" repeat"+repeat);

            try {
                b.audio.currentTime = time;
                //console.log("try play:" + b.audio.currentTime);
                if (b.audio.currentTime != time) console.log("error settime");

                var promise = b.audio.play();

                if (promise !== undefined) {
                    promise.then(_ => {
                        // Autoplay started!
                        b.playing = true;
                    }).catch(error => {
                        // Autoplay was prevented.
                        // Show a "Play" button so that user can start playback.
                        //console.log("UI needed to play");
                        //  b.uiNeeded = true;
                        b.uicb();
                    });
                }
            } catch (e) {
                //console.log("play exception:"+e);
                //console.log("catch play:" + b.audio.currentTime);

                var progress = function() {
                    b.audio.removeEventListener('progress', progress);
                    b.audio.currentTime = time;
                    b.audio.play();
                };
                b.audio.addEventListener('progress', progress, false);
                b.audio.play();
            }

            var played = 0;
            var end = time + duration;
            var st = Date.now();
            var TIMEOUT = 2000;

            b.audioTimeout = setInterval(function() {
                //console.log("current time:"+b.audio.currentTime);
                if ((Date.now() - st) > TIMEOUT) {
                    // somehow the play doesn't start.
                    if (b.audio.currentTime == time) {
                        console.log("error not playing");
                        b.audio.pause();
                        b.audio = new Audio(b.audiosrc);
                        b.audioLoaded = false;
                        b.audio.oncanplaythrough = function() {
                            //console.log("audio file downloaded");
                            b.audio.oncanplaythrough = null;
                            b.audioLoaded = true;
                        };
                        b.audio.load();
                        // play beep instead
                        /*                        clearInterval(b.audioTimeout);
                                                b.playing = false;
                                                b.queue.unshift({ s: "beep", t: b.beep.duration });
                                                checkQueue(); */
                    }
                }
                if (b.audio.currentTime > end) {
                    b.audio.pause();
                    played++;
                    if (played < repeat) {
                        b.audio.currentTime = time;
                        b.audio.play();
                        st = Date.now();
                    } else {
                        clearInterval(b.audioTimeout);
                        b.playing = false;
                        checkQueue();
                    }
                }
            }, 100);


            /*
                    b.audio.addEventListener('timeupdate', function(ev) {
                      if (b.audio.currentTime > end) {
                            played++;
                            b.audio.pause();
                            if(played < repeat){
                                b.audio.currentTime=time;
                                b.audio.play();
                            }else{
                                b.playing=false;
                                b.checkQueue();
                            }
                        }
                    },false);
                    
                    
                    b.audioTimeout=setInterval(function(){
                        played++;
                        b.audio.pause();
                        if(played < repeat){
                            b.audio.currentTime=time;
                            b.audio.play();
                        }else{
                            clearInterval(b.audioTimeout);
                            b.playing=false;
                            b.checkQueue();
                        }
                   },1000 * duration);
            */
        }
    }

    function playAudio(sid) {
        b.queue.push({ s: sid });
        //console.log("enqueue " + sid);
        checkQueue();
    }

    function playBeep(repeat) {
        //var b=this;
        var time = b.beep.duration;
        if (repeat) time = time * 5;
        b.queue.push({ s: "beep", t: time });
        checkQueue();
    }

    b.play = function(sid, mul) {
        //if (b.uiNeeded) return;
        loop = (typeof mul == "undefined") ? false : mul;
        //var b=this;
        //console.log("Play " + sid);
        if (b.audioLoaded && (typeof b.meta[sid] != "undefined" && b.meta[sid].t > 0)) {
            playAudio(sid);
        } else {
            playBeep(loop);
        }
    };
    b.load = function(json) {
        //console.log(json);
        b.audiosrc = json.src;
        b.meta = json.seg;
        loadAudio();
    };
}

var Sound = {
    audiocfg: "sounds.json",
    loadJson: function() {
        var b = this;
        $.ajax({
            url: b.audiocfg,
            type: "GET",
            dataType: "json",
            success: function(json) {
                b.sb.load(json);
            },
            error: function(e) {
                console.log("sound meta not found");
            }
        });
    },
    play: function(sid) {
        this.sb.play(sid);
    },
    init: function(cb) {
        var t = this;
        $("#audioplay").hide();

        t.sb = new SoundBox(Beep, function() {
            console.log("User interaction is needed.");
            $("#audioplay").show();
        });

        $("#audioplay button").button({ text: false, icons: { primary: "ui-icon-volume-on" } }).click(function() {
            $("#audioplay").hide();
            t.sb.play("open");
        });
        t.sb.onAudioLoaded = function() {
            t.sb.play("open");
        };
        setTimeout(function() {
            t.loadJson();
        }, 500);
    }
};</script><script>var BChart={offset:0,url:"chart.php",reqdata:function(){var n=this,t="offset="+n.offset,e=new XMLHttpRequest;e.open("GET",n.url+"?"+t),e.responseType="arraybuffer",e.onload=function(t){var e=new Uint8Array(this.response);if(0==e.length)return n.timer&&clearInterval(n.timer),n.timer=null,void setTimeout(function(){n.reqdata()},3e3);n.chart.process(e),n.offset+=e.length,null==n.timer&&n.settimer()},e.send()},settimer:function(){var t=this;t.timer=setInterval(function(){t.reqdata()},1e3*t.chart.interval)},init:function(t){this.chart=new BrewChart(t)},timer:null,pull:function(){},setCelius:function(t){this.chart.setCelius(t)},setYLabel:function(t){this.chart.ylabel(t)},start:function(){this.running||(this.running=!0,this.offset=0,this.chart.clear(),this.reqdata(),$("#tchart").show())},stop:function(){this.running&&(this.running=!1,this.timer&&(clearInterval(this.timer),this.timer=null),$("#tchart").hide())}}</script><script>var BMScreen={ctemp:0,stemp:35,pwm:0,pwmOn:!1,screen:"U",stage:-1,bm:null,celius:!0,singlesensor:!0,numsensor:0,htimer:null,h_animated:0,HC_active:"#FE1E1E",HC_inactive:"#5B0000",HC_pause:"#DE912F",PC_active:"#70FC57",PC_inactive:"#01290C",PC_pause:"#22C6AB",spargesensor:-1,autolist:function(){var t=this.bm.autoAllStages();$("#auto-t .autot-row").remove();var e=this.celius?"&deg;C":"&deg;F";e='<span class="tmp_unit">'+e+"</span>";var n={addmalt:STR.AddMalt,removemalt:STR.RemoveMalt,boilend:STR.BoilEnd,cooling:STR.Cooling,hsend:STR.EndHopStand};for(i=0;i<t.length;i++){s=t[i];var o=this.autorow.clone().appendTo("#auto-t");"mash"==s.type?($(o).find(".autot-title").html(STR.stageName[s.stage]),$(o).find(".autot-temp").html(s.temp+e),s.stage&&$(o).find(".autot-time").html(s.time+STR.min)):"event"==s.type?$(o).find(".autot-title").html(n[s.name]):"boil"==s.type?($(o).find(".autot-title").html(STR.Boil),$(o).find(".autot-time").html(s.time+STR.min)):"hop"==s.type?($(o).find(".autot-title").html(STR.HopN+(s.index+1)),$(o).find(".autot-time").html(s.time+STR.min)):"pbh"==s.type?($(o).find(".autot-title").html(STR.PBHN+s.index),$(o).find(".autot-time").html(s.time+STR.min)):"chill"==s.type?($(o).find(".autot-title").html(STR.stageName[11]),$(o).find(".autot-temp").html(s.temp+e)):"hs"==s.type&&($(o).find(".autot-title").html(STR.stageName[12]),$(o).find(".autot-temp").html(s.temp+e),$(o).find(".autot-time").html(s.time+STR.min))}},inStage:function(t){$("#auto-t tr.autot-row:eq("+t+")").removeClass("run").addClass("running"),$("#auto-t tr.autot-row:lt("+t+")").removeClass("running").addClass("run"),$("#auto-t tr.autot-row:gt("+t+")").removeClass("running").removeClass("run")},unitCelius:function(t){this.celius=t,this.singlesensor?this.currenttemp(this.ctemp):this.alltemps(this.ctemps)},isRunning:function(t){return"A"==t||"M"==t||"D"==t},setScreen:function(t,e){var n=this;if("S"==t)$("#title").text(STR.Setup);else if("I"==t)$("#title").text(STR.Idle),n.singlesensor||n.setPrimarySensor(n.primary[0]);else if("M"==t)$("#title").text(STR.ManualMode),n.singlesensor||n.setPrimarySensor(n.primary[1]);else if("A"==t){if(99==e?$("#title").text(STR.DelayStart):$("#title").text(STR.Automation),n.singlesensor||(0==e?n.setPrimarySensor(n.primary[2]):1<=e&&e<=7?n.setPrimarySensor(n.primary[3]):8==e?n.setPrimarySensor(n.primary[4]):8<e&&n.setPrimarySensor(n.primary[5])),-1!=n.stage&&n.stage!=e){var o={1:"nmash",2:"nmash",3:"nmash",4:"nmash",5:"nmash",6:"nmash",7:"mashout",8:"boil",9:"cool",10:"whirlpool",11:"chill"};void 0!==o[e]&&Sound.play(o[e])}}else if("U"==t)$("#title").text(STR.Unknown);else if("T"==t)$("#title").text(STR.PIDAutoTune);else if("D"==t&&n.stage!=e){Sound.play("beep");var i={110:STR.DistillPreheat,111:STR.DistillHead,112:STR.DistillHeart,113:STR.DistillTail};$("#title").text(i[e])}"A"!=t&&"M"!=t&&"T"!=t&&"D"!=t?(n.clear_settingtemp(),n.deacTime(),BChart.stop(),$("#tchart").hide()):(n.settingtemp(n.stemp),n.displaytime(0),BChart.running?BChart.pull():(BChart.start(),BChart.setCelius(this.celius),$("#tchart").show())),"A"==t?"A"!=n.screen&&(n.autolist(),$("#auto-p").show()):$("#auto-p").hide(),n.screen=t,n.stage=e},setLed:function(t,e){$(t).css("background",e)},heatStatus:function(t){0==t?this.setLed("#heatled",this.HC_inactive):1==t?this.setLed("#heatled",this.HC_active):this.setLed("#heatled",this.HC_pause)},heat2Status:function(t){0==t?this.setLed("#heat2led",this.HC_inactive):1==t?this.setLed("#heat2led",this.HC_active):this.setLed("#heat2led",this.HC_pause)},pumpStatus:function(t){0==t?this.setLed("#pumpled",this.PC_inactive):1==t?this.setLed("#pumpled",this.PC_active):this.setLed("#pumpled",this.PC_pause)},currenttemp:function(t){if(300<(this.ctemp=t)||t<-1)$("#currenttemp_1").text("--");else{var e=t;$("#currenttemp_1").text(e.toFixed(2))}},setPrimarySensor:function(t){for(var e=t+1,n=1;n<=this.numsensor;n++)n==e?$("#temp-block-"+n).addClass("primary-sensor"):$("#temp-block-"+n).removeClass("primary-sensor")},multisensor:function(t,e,n){var o=this;if(o.primary=e,o.aux=n,o.singlesensor=!1,0!=t&&o.numsensor!=t){if(o.numsensor<t)for(var i,s=0==o.numsensor?((i=$("#temp-block-1").find(".block-title")).text(i.text()+" #1"),2):o.numsensor+1;s<=t;s++)$("#temp-block-"+s).show();else for(s=t+1;s<=o.numsensor;s++)$("#currentTemp_"+s).closest("div.block").hide();o.numsensor=t,o.restoreTextColor()}},swh:function(t,e,n){this.spargesensor=-1,t?($("#auxledcon").show(),e&&(this.spargesensor=n,$("#temp-block-"+(n+1)).find(".block-title").text(STR.spargeSensor))):$("#auxledcon").hide()},spargeStatus:function(t){0==t?this.setLed("#auxled",this.HC_inactive):1==t?this.setLed("#auxled",this.HC_active):this.setLed("#auxled",this.HC_pause)},alltemps:function(e){this.ctemps=e;for(var n=0;n<e.length;n++)if(t=e[n],300<t||t<-1)$("#currenttemp_"+(n+1)).text("--");else{var o=t;$("#currenttemp_"+(n+1)).text(o.toFixed(2))}},clear_settingtemp:function(){$("#setpoint").closest(".block-body").addClass("inactive-num"),$("#setpoint").text("0.00")},settingtemp:function(t){if(this.stemp=t,this.isRunning(this.screen)){$("#setpoint").closest(".block-body").removeClass("inactive-num");var e=t;$("#setpoint").text(e.toFixed(2))}},showPwm:function(t){t?$("#pwm").closest(".block-body").removeClass("inactive-num"):($("#pwm").closest(".block-body").addClass("inactive-num"),$("#pwm").text("00"))},pwmValue:function(t){this.pwm=t,$("#pwm").text(t)},setPwmOn:function(t){this.pwmOn=t,this.showPwm(t)},displaytime:function(t){if(!isNaN(t)){var e=Math.floor(t/60),n=t-60*e,o=Math.floor(e/60);e-=60*o,$("#timer").removeClass("inactive-num"),$("#timer").text((9<o?o:"0"+o)+":"+(9<e?e:"0"+e)+":"+(9<n?n:"0"+n))}},deacTime:function(){$("#timer").addClass("inactive-num"),$("#timer").text("00:00:00")},clearTime:function(){$("#timer").text("00:00:00")},openDiaTimer:null,initDialog:function(){$("div.dialog").hide();var o=this;$("#dialog-textcolor").dialog({autoOpen:!1,buttons:[{text:$("#dlg_cancel").text(),icon:"ui-icon-close",click:function(){$(this).dialog("close")}},{text:$("#dlg_ok").text(),icon:"ui-icon-check",click:function(){$(this).dialog("close"),o.setTextColor($("#dialog-textcolor").find("input").val())}}]}),$("#buttoncolor").val(new RGBColor($(".round-button-circle").css("background-color")).toHex());var t=getCookie("ctrltheme-lcdtext");if(""!=t){var e=new RGBColor(t);$("#lcdtextcolor").val(e.toHex())}else $("#lcdtextcolor").val("black");$("#lcdbgcolor").val(new RGBColor($("#lcd").css("background-color")).toHex()),$("#buttondowncolor").val(o.btnDownColor),$("#dialog-controller").dialog({autoOpen:!1,width:360,buttons:[{text:$("#dlg_cancel").text(),icon:"ui-icon-close",click:function(){$(this).dialog("close")}},{text:$("#dlg_ok").text(),icon:"ui-icon-check",click:function(){$(this).dialog("close"),$("#lcd").css("background",$("#lcdbgcolor").val());var t=new RGBColor($("#lcdtextcolor").val());lcd.setColor(t.r,t.g,t.b);var e=$("#buttoncolor").val();$(".round-button-circle").css("background",e);var n=$("#buttondowncolor").val();o.btnDownColor=n,o.savePanelTheme($("#lcdbgcolor").val(),$("#lcdtextcolor").val(),e,n)}}]})},popDialog:function(t,e){$(t).dialog("open");var n=this;(void 0===e||e)&&(n.openDiaTimer=setTimeout(function(){$(t).dialog("close"),n.openDiaTimer=null},5e3))},setInfo:function(t,e){e=void 0===e?1:e,$("#info").text(t),$("#info").show("blind"),e&&setTimeout(function(){$("#info").text(""),$("#info").hide("blind")},5e3)},brewevent:function(t){var e={1:{i:"tr",e:!1},2:{i:"addmalt",e:!1},3:{i:"removemalt",e:!0},4:{i:"iodine",e:!0},7:{i:"addhop",e:!0},10:{i:"boilend",e:!1}};BChart.running&&BChart.pull(),t<=10?(1==t&&0==this.stage?Sound.play("maltin",!0):void 0!==e[t]&&Sound.play(e[t].i,e[t].e),this.setInfo(STR.event[t]),5==t?$("#title").text(STR.Pause):6==t&&$("#title").text(STR.Automation)):11==t?this.setInfo(STR.PumpRest,0):12==t?this.setInfo("",0):99==t&&(Sound.play("bye",!1),this.setInfo(STR.event[11]))},error:function(t){"disc"==t&&(Sound.play("disc",!0),this.popDialog("#d_ConnectionError",!1)),this.setScreen("U")},toggleButton:function(){"ui-icon-circle-triangle-s"==$("#showbtn").button("option","icons").primary?$("#showbtn").button("option","icons",{primary:"ui-icon-circle-triangle-n"}):$("#showbtn").button("option","icons",{primary:"ui-icon-circle-triangle-s"}),$("#bpannel").toggle("slide",{direction:"up"},500)},btnPressed:!1,btnClick:function(t,e){var n=this;n.btnPressed||(n.btnPressed=!0,this.bm.sendButton(t,e,function(){n.btnPressed=!1}))},hideButton:function(){var t=$("#btncover").height(),e=!0;$("#btncover").on("click",function(){e?$("#btncover").animate({height:10},500):$("#btncover").animate({height:t},500),e=!e})},lcd:function(t){lcd.clear();for(var e=0;e<t.length;e++)for(var n=t[e],o=0;o<20;){var i=parseInt(n.substr(2*o,2),16);31<i?lcd.write(String.fromCharCode(i),o,e):lcd.write(i,o,e),o++}},savePanelTheme:function(t,e,n,o){setCookie("ctrltheme-lcd",t,365),setCookie("ctrltheme-lcdtext",e,365),setCookie("ctrltheme-button",n,365),setCookie("ctrltheme-buttonpressed",o,365)},restorePanelTheme:function(){var t=getCookie("ctrltheme-lcd");""!=t&&$("#lcd").css("background",t);var e=getCookie("ctrltheme-lcdtext");if(""!=e){var n=new RGBColor(e);lcd.setColor(n.r,n.g,n.b)}var o=getCookie("ctrltheme-button");""!=o&&$(".round-button-circle").css("background",o);var i=getCookie("ctrltheme-buttonpressed");""!=i&&(this.btnDownColor=i)},setTextColor:function(t){$("#"+window.selectText+" .block-body").css("color",t),setCookie("textcolor-"+window.selectText,t,365)},restoreTextColor:function(){$(".block").each(function(t,e){var n=getCookie("textcolor-"+$(e).attr("id"));""!=n&&$(e).find(".block-body").css("color",n)})},btnDownColor:"#FF1111",initButtons:function(){var o=this;function i(){var n=0;return $.each(o.btnDown,function(t,e){e&&n++}),0<n}function s(){o.cbinterval&&(clearInterval(o.cbinterval),o.cbinterval=null),o.cbtimer&&(clearTimeout(o.cbtimer),o.cbtimer=null)}function t(e){o.btnDown[e]=!1;var t=$("#btn-"+e).css("background");$("#btn-"+e).on("depressed",function(){o.btnDown[e]=!1,$(this).css("background",t)}),$("#btn-"+e).on("touchstart mousedown",function(t){return t.preventDefault(),this.dt=Date.now(),$(this).css("background",o.btnDownColor),o.btnDown[e]=!0,"up"!=e&&"down"!=e||(o.cbtimer=setTimeout(function(){o.cbtimer=null,o.cbinterval=setInterval(function(){o.btnDown[e]?(console.log("con-click "+e),o.btnClick([e+"Con"],!1)):s()},750)},1e3)),!1}).on("touchend mouseup",function(t){return t.preventDefault(),s(),o.dragging?(n=[],$.each(o.dragBtns,function(t,e){$("#btn-"+e).trigger("depressed"),n.push(e)}),$("#ctrlpanel").draggable("enable"),o.dragging=!1,o.multibun=!1,o.btnDown={},void o.btnClick(n,!1)):void 0!==this.dt?($(this).trigger("depressed"),o.multibun?o.btnMask.push(e):(o.multibun=i())&&(o.btnMask=[e],o.btnFirstRel=Date.now()),o.multibun?i()||(Date.now()-o.btnFirstRel<200&&(console.log("multi-key click"),o.btnClick(o.btnMask,!1)),o.multibun=!1):1e3<Date.now()-this.dt?o.btnClick([e],!0):o.btnClick([e],!1),!1):void 0;var n}).on("mouseleave",function(t){o.dragging||void 0===this.dt||($(this).trigger("depressed"),this.dt=null,s())}).mouseenter(function(t){o.dragging&&($(this).css("background",o.btnDownColor),o.dragBtns.push(e))}).click(function(){return!1})}o.hideButton(),o.btnDown={},o.multibun=!1,o.dragging=!1,$("#btnpanel").on("touchstart mousedown",function(t){o.dragging=!0,$("#ctrlpanel").draggable("disable"),o.dragBtns=[]}).on("touchend mouseup",function(t){o.dragging=!1,$("#ctrlpanel").draggable("enable"),$.each(o.dragBtns,function(t,e){$("#btn-"+e).trigger("depressed")})}).on("mouseleave",function(){o.dragging=!1,$("#ctrlpanel").draggable("enable"),$.each(o.dragBtns,function(t,e){$("#btn-"+e).trigger("depressed")})}),o.cbtimer=null,o.cbinterval=null,t("up"),t("down"),t("start"),t("enter"),$("#btn-hint").hide()},init:function(t){var e=this;function s(t,e,n){setCookie(t+"_x",e,365),setCookie(t+"_y",n,365)}function l(t){var e=getCookie(t+"_x"),n=getCookie(t+"_y");return e&&n?{x:e,y:n}:null}lcd.begin(document.getElementById("lcd"),20,4),e.restoreTextColor(),e.restorePanelTheme(),e.bm=t,e.showPwm(!1),e.clear_settingtemp(),e.initButtons(),e.initDialog(),$(".block-ctrl .ui-icon-gear").click(function(){var t=$(this).closest(".block").attr("id");"controller-pan"==t?$("#dialog-controller").dialog("open"):(window.selectText=t,$("#dialog-textcolor").dialog("open"))}),e.autorow=$("#auto-t .autot-row").remove(),$("#auto-p").hide(),$(".movable").each(function(t,e){var n=$(e).attr("id");$(e).draggable({containment:"parent",handle:".block-header",grid:[4,4],stop:function(t,e){s(n,e.position.left,e.position.top)}});var o=l(n);if(o){$(e).css("top",o.y+"px").css("left",o.x+"px");var i=$(e).position();(i.left<4||i.top<4)&&$(e).css("top",0).css("left",0)}}),$(".resizable").each(function(t,n){var o=$(n).attr("id");$(n).resizable({aspectRatio:2}),$(n).on("resizestop",function(t,e){s(o+"_size",e.size.width,e.size.height),$(n).find(".block-body").trigger("resize")});var e=l(o+"_size");e&&$(n).css("height",e.y+"px").css("width",e.x+"px")}),$("#contextmenu").menu({items:"> :not(.ui-widget-header)"}).hide(),$("#blockgroup").contextmenu(function(t){t.preventDefault(),$("#contextmenu").css("top",t.pageY+"px").css("left",t.pageX+"px").show()}),$("#blockgroup").click(function(){$("#contextmenu").hide()}),$("#resetposition").click(function(t){t.preventDefault(),$(".movable").each(function(t,e){$(e).css("top",0).css("left",0)})}),$("#js-version").text(BM.version),1!=getCookie("warning")?($("#d_warning").dialog({resizable:!1,dialogClass:"no-close",modal:!0,buttons:[{text:$("#d_warning .button-ok").text(),click:function(){$(this).dialog("close")}}]}),$("#nshow").change(function(){setCookie("warning",$(this).is(":checked")?1:0,365)})):$("#d_warning").hide()},btnIndex:-1,buttons:function(t){if(t!=this.btnIndex){this.btnIndex=t;var e=void 0===ButtonLabels[t]?{u:"",d:"",s:"",e:"",i:""}:ButtonLabels[t];$("#btn-up").text(e.u),$("#btn-down").text(e.d),$("#btn-start").text(e.s),$("#btn-enter").text(e.e)}},firmware:function(t){$("#firmware-version").text(t.v),t.paddle&&($.extend(STR,STR_paddle),$.extend(ButtonLabels,ButtonLabels_paddle),$("#pump-led-label").text(STR.PaddleLed)),void 0!==t.distill&&t.distill&&$.extend(ButtonLabels,ButtonLabels_distill)}}</script><script>var BM={version:BMLIB_VERSION,setting_url:"settings.php",automation_url:"automation.php",saveauto_url:"saveauto.php",ssavesetting_url:"savesettings.php",button_url:"button.php",status_url:"status.php",runningTime:0,timer:null,settings:{},s_settingS:{},auto:{},s_auto:{},celius:!0,state:-1,hopN:0,updatingSetting:!1,updatingRecipe:!1,stageMap:[],conbroken:!0,wdt:null,eventHdlr:{},msgHdlr:{},stemp:35,runMsgHandler:function(t,n){void 0!==this.msgHdlr[t]&&$.each(this.msgHdlr[t],function(t,e){e(n)})},addMsgHandler:function(t,e){void 0===this.msgHdlr[t]&&(this.msgHdlr[t]=[]),this.msgHdlr[t].push(e)},addHandler:function(t,e){void 0===this.eventHdlr[t]&&(this.eventHdlr[t]=[]),this.eventHdlr[t].push(e)},sendButton:function(t,e,n){var i,s={up:1,down:2,start:4,enter:8,upCon:16,downCon:32},a=0;$.each(t,function(t,e){a+=s[e]}),i=15<a?'{"btnx":'+a+"}":'{"btn":'+(a+=e?16:0)+"}",1==this.ws.readyState&&this.ws.send(i),n()},savesetting:function(t){this.s_settings=t;var i=this;this.updatingSetting=!0,$.ajax({url:this.ssavesetting_url,type:"POST",data:{data:JSON.stringify(t)},success:function(){i.updatingSetting&&i.startRecoveryTimer()},error:function(t,e,n){alert("error save setting, server response:"+n),i.finishSettingSave(!1)}})},unitSetting:function(t){var e=this,n=0==t;n!=e.celius&&(e.celius=n,BMSetting.unitCelius(n),BMRecipe.unitCelius(n),BMScreen.unitCelius(n),void 0!==e.eventHdlr.tempunit&&$.each(e.eventHdlr.tempunit,function(t,e){e(n)}))},proc_settings:function(t){"s_unit"in(this.settings=t)&&this.unitSetting(t.s_unit),"sensors"in t&&(BMScreen.multisensor(t.sensors.length,t.primary,t.auxiliary),BMSetting.multisensor(t.sensors.length)),"s_spenable"in t&&0!=t.s_spenable?BMScreen.swh(!0,t.s_sptempctrl,t.s_spsensor):BMScreen.swh(!1),this.updatingSetting?this.finishSettingSave(!0):BMSetting.setting(t)},procRecipe:function(t){this.auto=t,this.updatingRecipe?this.finishSaveRecipe(!0):BMRecipe.updateRecipe(t)},saveRecipe:function(t){this.s_auto=t;var i=this;i.updatingRecipe=!0,$.ajax({url:i.saveauto_url,type:"POST",data:{data:JSON.stringify(t)},success:function(){i.updatingRecipe&&i.startRecoveryTimer()},error:function(t,e,n){i.finishSaveRecipe(!1),alert("Error saving automation, server response:"+n)}})},stateChangeHdlr:[],addStateChangeHdlr:function(t){this.stateChangeHdlr.push(t)},bmstate:function(n){var t=this;t.state!=n&&(-1==t.state&&void 0===this.auto.boil&&console.log("error. state before config"),101==n?t.updatingSetting||t.updatingRecipe||(BMRecipe.setEnabled(!0),BMSetting.setEnabled(!0)):(BMRecipe.setEnabled(!1),BMSetting.setEnabled(!1)),0<=n&&n<=99?(BMScreen.setScreen("A",n),t.autostage(n)):100==n?BMScreen.setScreen("M"):101==n?(BMScreen.setScreen("I"),t.stopRunningTime(),BMScreen.clearTime()):102==n?(BMScreen.setScreen("S"),t.stopRunningTime(),BMScreen.clearTime()):103==n?(BMScreen.setScreen("T"),BMScreen.clearTime()):n<0?(BMScreen.setScreen("U"),t.stopRunningTime(),BMScreen.clearTime()):110<=n&&n<=113&&BMScreen.setScreen("D",n),t.state=n,void 0!==t.eventHdlr.state&&$.each(t.eventHdlr.state,function(t,e){e(n,101==n)}))},stopRunningTime:function(){this.timer&&clearInterval(this.timer),this.timer=null},refTime:0,countDir:0,calTime:function(){var t=this.runningTime+this.countDir*Math.round((Date.now()-this.refTime)/1e3);return t<0?0:t},startRunningTime:function(t){b=this,b.runningTime=t,isNaN(t)||(b.refTime=Date.now(),b.timer=setInterval(function(){BMScreen.displaytime(b.calTime())},1e3))},checkRunningTime:function(t){var e=this.calTime();(5<e-t||e-t<-5)&&(this.stopRunningTime(),this.startRunningTime(t))},finishSaveRecipe:function(t){this.stopRecoveryTimer(),this.updatingRecipe=!1,BMRecipe.finishSaveRecipe(t)},finishSettingSave:function(t){this.stopRecoveryTimer(),this.updatingSetting=!1,BMSetting.finishSaving(t)},recoveryTimout:null,stopRecoveryTimer:function(){this.recoveryTimout&&(clearTimeout(this.recoveryTimout),this.recoveryTimout=null)},startRecoveryTimer:function(){var t=this;t.recoveryTimout=setTimeout(function(){t.recoveryTimout=null,alert("Update failed, check connections"),t.updatingRecipe&&t.finishSaveRecipe(!1),t.updatingSetting&&t.finishSettingSave(!1)},1e4)},init:function(){BMScreen.init(this),BMSetting.init(this),BMRecipe.init(this),this.setupWS()},timerControl:function(t,e,n,i){var s=this;s.countDir=0==n?-1:1,i?(s.timer&&s.stopRunningTime(),t&&s.state<=8&&0<s.state?BMScreen.displaytime(e):s.state<8&&0<s.state?BMScreen.displaytime(60*s.auto.rest_tm[s.state]):8==s.state?BMScreen.displaytime(60*BM.auto.boil):BMScreen.clearTime()):null==s.timer?s.startRunningTime(e):s.checkRunningTime(e)},updateData:function(t){},errorCode:function(t){this.bmstate(-1),BMScreen.error("s_disc")},watchdog:function(){this.wdt=setTimeout(function(){location.reload()},2e4)},kick_wdt:function(){this.wdt&&clearTimeout(this.wdt),this.watchdog()},rssi:function(t){for(var e=[-1e3,-90,-80,-70,-67],n=4;0<=n&&!(e[n]<t);n--);document.getElementsByClassName("rssi-bar");$(".rssi-bar").each(function(t){t<n?$(this).removeClass("rssi-bar-inactive"):$(this).addClass("rssi-bar-inactive")})},p_msg:function(t){var e=this,n=JSON.parse(t),i={pump:function(t){BMScreen.pumpStatus(t)},heat:function(t){BMScreen.heatStatus(t)},heat2:function(t){BMScreen.heat2Status(t)},spgw:function(t){BMScreen.spargeStatus(t)},temp:function(t){BMScreen.currenttemp(t)},temps:function(t){BMScreen.alltemps(t)},stemp:function(t){e.stemp=t,BMScreen.settingtemp(t)},event:function(t){e.brewevent(t)},pwm:function(t){BMScreen.pwmValue(t)},pwmon:function(t){BMScreen.setPwmOn(1==t)},update:function(t){e.updateData(t)},code:function(t){e.errorCode(t)},btn:function(t){BMScreen.buttons(t)},firmware:function(t){BMScreen.firmware(t)},rssi:function(t){BM.rssi(t)},lcd:function(t){BMScreen.lcd(t)}};$.each(n,function(t,e){void 0!==i[t]&&i[t](e)}),void 0!==n.tr&&void 0!==n.timer&&void 0!==n.state&&(e.timerControl(n.tr,n.timer,n.counting,n.paused),e.bmstate(n.state),e.autoProgressBytime(n.tr,n.state,n.timer))},piggy:{},piggyCB:{},getPiggy:function(t,e){return this.piggyCB[t]=e,void 0!==this.piggy[t]&&this.piggy[t]},proc_netcfg:function(t){this.piggy.netcfg=t,void 0!==this.piggyCB.netcfg&&this.piggyCB.netcfg(t)},proc_timesync:function(t){var e=JSON.parse(t);if(!e.online){var n=e.time-Date.now()/1e3;n<0&&(n=0-n),60<n&&$.ajax({url:"settime?time="+Date.now()/1e3,type:"GET",success:function(t){console.log("success set time")},error:function(t){console.log("error set time")}})}},wsocketData:function(t){var e=this,n=/^\s*(\w+)\s*:\s*({.+)$/.exec(t);if(n){var i=n[1],s=n[2];e.runMsgHandler(i,JSON.parse(s)),"setting"==i?e.proc_settings(JSON.parse(s)):"auto"==i?e.procRecipe(JSON.parse(s)):"netcfg"==i?e.proc_netcfg(s):"timesync"==i&&e.proc_timesync(s)}else e.p_msg(t)},setupWS:function(){var e=this;"undefined"!=typeof WebSocket?(e.ws=new WebSocket("ws://"+document.location.host+"/ws"),e.ws.onopen=function(){console.log("Connected")},e.ws.onclose=function(t){console.log("WS close:"+t.code),e.conbroken=!0,1001!=t.code?e.setupWS():setTimeout(function(){e.conbroken&&BMScreen.error("disc")},8e3)},e.ws.onmessage=function(t){e.kick_wdt(),e.conbroken=!1,e.wsocketData(t.data)}):alert("Incompatible Browser!")},brewevent:function(t){var e=this;5==t&&e.timer&&e.stopRunningTime(),1==t&&(0<e.state&&e.state<8?e.startRunningTime(60*e.auto.rest_tm[e.state]):8==e.state&&e.startRunningTime(60*e.auto.boil)),e.autoProgressByevent(t),BMScreen.brewevent(t)},log:function(t){var e=new Date;$("<tr><td>"+e.toLocaleTimeString()+"</td><td>"+t+"</td></tr>").appendTo("#log-t")},autoAllStages:function(){var s=this,a=[];for(i=0;i<7&&(0<this.auto.rest_tm[i]||0==i);i++)a.push({type:"mash",stage:i,temp:BM.auto.rest_tp[i],time:BM.auto.rest_tm[i]}),this.stageMap[i]=a.length-1,0==i&&a.push({type:"event",name:"addmalt"});0<this.auto.rest_tm[7]&&(a.push({type:"mash",stage:7,temp:BM.auto.rest_tp[7],time:BM.auto.rest_tm[7]}),s.stageMap[7]=a.length-1),a.push({type:"event",name:"removemalt"}),a.push({type:"boil",time:BM.auto.boil}),s.stageMap[8]=a.length-1,$.each(BM.auto.hops,function(t,e){a.push({type:"hop",index:t,time:e})}),a.push({type:"event",name:"boilend"});var o=1;return void 0!==BM.auto.hs&&(s.chillMap=[],s.hsMap=[],s.pbhMap=[],BM.auto.hs[0].s>=BM.settings.s_boil&&s.chillMap.push(a.length-1),$.each(BM.auto.hs,function(t,e){(0<t||0==t&&e.s<BM.settings.s_boil)&&(a.push({type:"chill",temp:e.s}),s.chillMap.push(a.length-1)),a.push({type:"hs",temp:e.k,time:e.h[0]}),s.hsMap.push(a.length-1);var n=[];$.each(e.h,function(t,e){a.push({type:"pbh",index:o,time:e}),n.push(a.length-1),o++}),a.push({type:"event",name:"hsend"}),n.push(a.length-1),s.pbhMap.push(n)})),a.push({type:"event",name:"cooling"}),s.stageMap[9]=a.length-1,s.hopN=0,a},hsSession:function(t,e){var n=0;if(11==t)for(;n<BM.auto.hs.length&&this.stemp<BM.auto.hs[n].k;)n++;else{for(;n<BM.auto.hs.length&&this.stemp<BM.auto.hs[n].s;)n++;0<n&&n--}return n},autostage:function(t){var e=this.stageMap[t];if(t<8)0==t?BMScreen.clearTime():BMScreen.displaytime(60*BM.auto.rest_tm[t]);else if(8==t)BMScreen.displaytime(60*BM.auto.boil);else if(9==t);else if(11==t){var n=this.hsSession(t,this.stemp);e=this.chillMap[n]}else if(12==t){n=this.hsSession(t,this.stemp);e=this.hsMap[n]}BMScreen.inStage(e)},autoProgressByevent:function(t){2==t?BMScreen.inStage(1):3==t&&BMScreen.inStage(BM.stageMap[7]+1)},autoProgressBytime:function(t,e,n){if(8==e&&t){0==n&&(n=60*this.auto.boil);for(var i=this.hopN;i<this.auto.hops.length&&!(n>60*this.auto.hops[i]);i++);i!=this.hopN&&(this.hopN=i,BMScreen.inStage(BM.stageMap[8]+i+1))}else if(12==e){for(var a=this.hsSession(s,this.stemp),o=0;o<this.auto.hs[a].h.length&&!(n>60*this.auto.hs[a].h[o]);o++);BMScreen.inStage(BM.pbhMap[a][o])}}}</script><script>var NetworkConfig={url:"netcfg.php",host:"bm",secured:!1,wifi:{disc:1},update:function(){var i=this,n={},s=$.trim($("#hostname").val());s!==i.host&&(n.host=s);var t=$("#protected").is(":checked");t!=i.secured&&(n.secured=t?1:0);var e=$.trim($("#newusername").val());""!==e&&(n.nuser=e);var a=$.trim($("#newpasswd").val());""!==a&&(n.npass=a),n.user=$.trim($("#username").val()),n.pass=$("#password").val(),console.log("update:"+JSON.stringify(n)),$.ajax({url:i.url,type:"POST",data:{data:JSON.stringify(n)},success:function(){$("#saveok").show()},error:function(i,n,s){$("#savefail").show(),console.log("Error saving automation, server response:"+s)}})},processCfg:function(i){var n=this,s=JSON.parse(i);n.host=s.host,n.secured=0!=s.secured,n.wifi=s.wifi,n.inputs(),n.netstatus(s.wifi)},getcfg:function(){var n=this,i=BM.getPiggy("netcfg",function(i){n.processCfg(i)});!1===i||n.processCfg(i)},discnet:function(){var i={};i.user=$.trim($("#username").val()),i.pass=$("#password").val(),i.disconnect=!0,console.log("disconnect wifi:"+JSON.stringify(i)),$.ajax({url:this.url,type:"POST",data:{data:JSON.stringify(i)},success:function(){alert("Network disconnect")},error:function(i,n,s){alert("error"),console.log("Error saving automation, server response:"+s)}})},chkpass:function(){$("#newpasswd").val()===$("#newpasswd2").val()?($("#passmatch").hide(),$("#savecfg").button("option","disabled",!1)):($("#passmatch").show(),$("#savecfg").button("option","disabled",!0))},verify:function(){""!==$.trim($("#username").val())&&""!==$.trim($("#password").val())?$("#savecfg").button("option","disabled",!1):$("#savecfg").button("option","disabled",!0),$("#saveok").hide(),$("#savefail").hide()},vchange:function(){$("#saveok").hide(),$("#savefail").hide(),$("#savecfg").show()},inputs:function(){var i=this;$("#passmatch").hide(),$("#hostname").val(i.host).change(function(){i.vchange()}),$("#protected").attr("checked",i.secured).change(function(){i.vchange()}),$("#newusername").change(function(){i.vchange()}),$("#newpasswd").change(function(){i.vchange(),i.chkpass()}),$("#newpasswd2").change(function(){i.chkpass()}),$("#username").change(function(){i.verify()}),$("#password").change(function(){i.verify()}),$("#savecfg").button({disabled:!0}).click(function(){i.update()}).hide(),$("#saveok").hide(),$("#savefail").hide()},ssidbtn:function(i,n,s){i?$("#wifissid").button({icon:"ui-icon-signal-diag",label:"AP Only"}):n?$("#wifissid").button({icon:"ui-icon-signal",label:s}):$("#wifissid").button({icon:"ui-icon-notice",label:s})},aponlysetting:!1,netstatus:function(i){void 0!==i.list?this.shownwlist(i.list):(this.aponlysetting=i.ap,this.ssidbtn(i.ap,i.con,void 0===i.ssid?null:i.ssid),i.ap?$("#aponly").prop("checked",!0):$("#aponly").prop("checked",!1))},rssi:function(i){return 0<i?"?":Math.min(Math.max(2*(i+100),0),100)},shownwlist:function(i){$("#scanningwifi").hide();$("#networks");for(var n=0;n<i.length;n++){var s=this.nwlitem.clone(!0);s.find("a").text(i[n].ssid),s.find("a").click(function(){$("#wifissidinput").val($(this).text()),$("#wifipasswd").focus()}),s.find("span").text(this.rssi(i[n].rssi)+"%"),i[n].enc&&s.find("span").addClass("l"),$("#networks").append(s)}},dlginit:function(){var n=this;n.nwlitem=$("#dialog-wifi .nwlist").remove(),$("#scanningwifi").hide(),$("#aponly").change(function(){$(this).is(":checked")?$("#wifisetup").hide():$("#wifisetup").show()}),$("#scanwifi").click(function(i){event.preventDefault(),$("#dialog-wifi .nwlist").remove(),$("#scanningwifi").show(),$.ajax("/wifiscan")}),$("#savewifi").click(function(i){return event.preventDefault(),n.savewifi(),!1})},validIP:function(i){var n=i.trim().split("."),s=0;if(4!=n.length)return!1;for(var t=0;t<4;t++){var e=parseInt(n[t]);if(s=(s<<8)+e,255<e)return!1}return s},savewifi:function(){var i=this,n="nw="+encodeURIComponent($("#wifissidinput").val().trim());""!=$("#wifipasswd").val().trim()&&(n=n+"&pass="+encodeURIComponent($("#wifipasswd").val())),i.validIP($("#staticip").val())&&i.validIP($("#gateway").val())&&i.validIP($("#netmask").val())&&(n=n+"&ip="+$("#staticip").val().trim()+"&gw="+$("#gateway").val().trim()+"&nm="+$("#netmask").val().trim()),$.ajax({method:"POST",url:"/wificon",data:n})},setApOnly:function(){$("#aponly").is(":checked")!=this.aponlysetting&&$.ajax({method:"POST",url:"/wificon",data:"ap=1"})},init:function(){var n=this;n.getcfg(),n.dlginit(),BM.addMsgHandler("wifi",function(i){n.netstatus(i)}),$("#dialog-wifi").dialog({autoOpen:!1,modal:!0,width:420,show:{effect:"fade",duration:500},hide:{effect:"fade",duration:500},close:function(){},buttons:{Ok:function(){$(this).dialog("close"),n.setApOnly()}}}),$("#wifissid").button().click(function(i){i.preventDefault(),$("#dialog-wifi").dialog("open")})}}</script><script>var Logs={url:"logs.php",dl:"dl",init:function(){var t=this;this.row=$("#loglist").find("tr:nth-of-type(2)"),this.row.remove(),$("#listfile").button().button("option","icons",{primary:"ui-icon-arrowrefresh-1-e"}).click(function(){t.getlist()}),$("#vchart").hide(),t.chart=new BrewChart("vchart-canvas")},view:function(t,o){$("#vchart").show(),$("#viewlogname").text(t+"@"+o.toLocaleString());var n=this;n.chart.clear(),n.chart.setCelius(BM.celius);var i=new XMLHttpRequest;i.open("GET",n.url+"?"+n.dl+"="+t),i.responseType="arraybuffer",i.onload=function(t){var o=new Uint8Array(this.response);0!=o.length&&(n.chart.realtime=!0,n.chart.process(o))},i.oerror=function(t){console.log("error")},i.send()},process:function(t){var e=$("#loglist").find("tbody"),c=this.row,s=this;$.each(t,function(t,o){var n=("000"+o.f).slice(-4),i=new Date(1e3*o.t),r=c.clone();r.find(".logid").text(n),r.find(".logdate").text(i.toLocaleString()),r.find(".dlbutton").button().button("option","icons",{primary:"ui-icon-disk"}).click(function(){window.open(s.url+"?"+s.dl+"="+n)}),r.find(".viewbutton").button().button("option","icons",{primary:"ui-icon-circle-zoomout"}).click(function(){s.view(n,i)}),e.append(r)})},getlist:function(){var o=this;$.ajax({url:o.url,type:"GET",dataType:"json",success:function(t){$("#loglist tr:gt(0)").remove(),o.process(t)},error:function(t,o,n){console.log("Error:"+n)}})}}</script><script>var BrewUtils={ciWeightUnit:"WEIGHT_U",ciVolumeUnit:"VOLUME_U",ciTempUnit:"TEMPERATURE_U",ciTC:"HydroCorrected",ciWC:"RefractoWortCorrect",u_vol:"L",u_weight:"M",u_temp:"C",did:null,gallon:"gal",liter:"L",quart:"qt",kg:"kg",lb:"lb",VolFactor:{L:{L:1,G:.264172052,Q:1.05668821},G:{L:3.78541178,G:1,Q:4},Q:{L:.946352946,G:.25,Q:1}},volume_unit:function(t){var i="L"==t?this.liter:"G"==t?this.gallon:this.quart;$(this.did).find(".vol_u").text(i);var e=this.VolFactor[this.u_vol][t];this.u_vol=t,setCookie(this.ciVolumeUnit,t,365),$(this.did).find(".volinput").each(function(){var t=$(this).val();t&&(t*=e,$(this).val(t.toFixed(2)))})},weight_unit:function(t){var i="M"==t?this.kg:this.lb;$(this.did).find(".weight_u").text(i);var e=this.u_weight==t?1:"M"==t?.45359237:2.20462262;this.u_weight=t,setCookie(this.ciWeightUnit,t,365),1!=e&&$(this.did).find(".weightinput").each(function(){var t=$(this).val();t&&(t*=e,$(this).val(t.toFixed(2)))})},temp_unit:function(t){if(this.u_temp!=t){var i="C"==t?"&deg;C":"&deg;F";$(".tmp_u").html(i),this.u_temp=t,setCookie(this.ciTempUnit,t,365);var e="C"==t?function(t){return(t-32)/1.8}:function(t){return 1.8*t+32};$(this.did).find(".tempinput").each(function(){var t=$(this).val();t&&(t=e(t),$(this).val(t.toFixed(1)))})}},init:function(l){var r=this;r.gallon=$("#gallon_label").text(),r.liter=$("#liter_label").text(),r.quart=$("#quart_label").text(),r.kg=$("#kg_label").text(),r.lb=$("#lb_label").text(),r.did=l;var t=getCookie(r.ciVolumeUnit);t=t||r.u_vol,$(l).find("[name=volume_unit]").val([t]),r.volume_unit(t);var i=getCookie(r.ciWeightUnit);i=i||r.u_weight,$(l).find("[name=weight_unit]").val([i]),r.weight_unit(i);var e=getCookie(r.ciTempUnit);e=e||r.u_temp,$(l).find("[name=temp_unit]").val([e]),r.temp_unit(e);var n=getCookie(r.ciWC);n&&$(l).find(".REFRACTO .wortcorrection").val(n);var a=getCookie(r.ciTC);if(a){var o=a.split(","),u=o[0];o[1]!=r.u_temp&&(u="C"==o[1]?1.8*u+32:(u-32)/1.8),$(l).find(".HYDROMETER .correctedTemp").val(u)}$(l).find('input[type="radio"]').change(function(){var t=$(this).attr("name"),i=$(this).val();$(this).prop("checked")&&r[t](i)}),$(l).find(".fwsg").change(function(){var t=$(l).find(".FWSG .grain").val(),i=$(l).find(".FWSG .water").val();if(t&&i){var e=.8*(t="M"==r.u_weight?t:.45359237*t)/(.8*t+(i=r.VolFactor[r.u_vol].L*i)),n=BrewMath.plato2sg(100*e).toFixed(3);$(l).find(".FWSG .result").text(n)}}),$(l).find(".hydroinput").change(function(){var t=$(l).find(".HYDROMETER .sgfraction").val(),i=$(l).find(".HYDROMETER .sgtemp").val(),e=$(l).find(".HYDROMETER .correctedTemp").val();if(e&&setCookie(r.ciTC,e+","+r.u_temp,365),t&&i&&e){var n="C"==r.u_temp?1.8*i+32:i,a="C"==r.u_temp?1.8*e+32:e,o=BrewMath.sgTempCorrected(t,n,a);$(l).find(".HYDROMETER .result").text(o.toFixed(3)),window.latestSG=o}}),$(l).find(".brixinput").change(function(){var t=$(l).find(".REFRACTO .brixreading").val(),i=$(l).find(".REFRACTO .wortcorrection").val();if(i&&setCookie(r.ciWC,i,365),t){i=i||1;var e=BrewMath.brix2sg(t,i);$(l).find(".REFRACTO .result").text(e.toFixed(3)),window.latestSG=e}}),$(l).find(".boiloffinput").change(function(){var t=$(l).find(".BOILOFF .sg").val(),i=$(l).find(".BOILOFF .vol").val(),e=$(l).find(".BOILOFF .newsg").val(),n=$(l).find(".BOILOFF .newvol").val();if(t&&i&&e){var a=(t-1)*i/(e-1);$(l).find(".BOILOFF .resultvol").text(a.toFixed(2))}if(t&&i&&n){var o=(t-1)*i/n+1;$(l).find(".BOILOFF .resultsg").text(o.toFixed(3))}})}}</script><script>function XDTV(t,e,a){var s=t.getElementsByTagName(e);return 0<s.length?s[0].textContent:a}function BeerStyle(t){this.dom=t,this.name=XDTV(t,"NAME",""),this.category=XDTV(t,"CATEGORY",""),this.ogMin=parseFloat(XDTV(t,"OG_MIN",-1)),this.ogMax=parseFloat(XDTV(t,"OG_MAX",-1)),this.fgMin=parseFloat(XDTV(t,"FG_MIN",-1)),this.fgMax=parseFloat(XDTV(t,"FG_MAX",-1)),this.abvMin=parseFloat(XDTV(t,"ABV_MIN",-1)),this.abvMax=parseFloat(XDTV(t,"ABV_MAX",-1)),this.ibuMin=parseFloat(XDTV(t,"IBU_MIN",-1)),this.ibuMax=parseFloat(XDTV(t,"IBU_MAX",-1)),this.colorMin=parseFloat(XDTV(t,"COLOR_MIN",-1)),this.colorMax=parseFloat(XDTV(t,"COLOR_MAX",-1)),this.categoryNumber=XDTV(t,"CATEGORY_NUMBER",""),this.styleLetter=XDTV(t,"STYLE_LETTER","");var e=this.categoryNumber+this.styleLetter;this.comName=""==e?this.name:e+"-"+this.name}function BeerRecipe(a){this.dom=a,this.asXml=function(t){t=void 0!==t&&t;var e=(new XMLSerializer).serializeToString(a);return t&&(e="<?xml version=\"1.0\" encoding=\"utf8\"?>\n<RECIPES>\n"+e+"\n</RECIPES>"),e},this.boilTime=parseInt(XDTV(a,"BOIL_TIME",0)),this.style=0<a.getElementsByTagName("STYLE").length?new BeerStyle(a.getElementsByTagName("STYLE")[0]):0,this.name=XDTV(a,"NAME","Unknown"),this.batchSize=parseFloat(XDTV(a,"BATCH_SIZE",0)),this.spargeTemp=parseFloat(XDTV(a,"SPARGE_TEMP",0)),this.eff=parseFloat(XDTV(a,"EFFICIENCY",0)),this.og=parseFloat(XDTV(a,"OG",0)),this.fg=parseFloat(XDTV(a,"FG",0)),this.abv=parseFloat(XDTV(a,"ABV",0)),this.ibu=parseFloat(XDTV(a,"IBU",0)),this.notes=XDTV(a,"NOTES",0),this.est_color=parseFloat(XDTV(a,"EST_COLOR",0)),this.est_og=parseFloat(XDTV(a,"EST_OG",0)),this.est_fg=parseFloat(XDTV(a,"EST_FG",0)),this.est_abv=parseFloat(XDTV(a,"EST_ABV",0)),this.est_ibu=parseFloat(XDTV(a,"EST_IBU",0)),this.getValue=function(t){return this[t]?this[t]:!!this["est_"+t]&&this["est_"+t]},this.ferm_stage=parseInt(XDTV(a,"FERMENTATION_STAGES",0));var t=["PRIMARY","SECONDARY","TERTIARY"];this.fstages=[];for(var e=0;e<this.ferm_stage;e++){var s=parseFloat(XDTV(a,t[e]+"_AGE",0)),r=parseFloat(XDTV(a,t[e]+"_TEMP",0));this.fstages.push({time:s,temp:r})}var i=a.getElementsByTagName("YEAST");this.yeasts=[];for(e=0;e<i.length;e++){var n=i[e],T={};T.name=XDTV(n,"NAME",""),T.pid=XDTV(n,"PRODUCT_ID",""),T.notes=XDTV(n,"NOTES",""),T.lab=XDTV(n,"LABORATORY",""),T.mintemp=parseFloat(XDTV(n,"MIN_TEMPERATURE",0)),T.maxtemp=parseFloat(XDTV(n,"MAX_TEMPERATURE",0)),T.attenuation=parseFloat(XDTV(n,"ATTENUATION",0)),this.yeasts.push(T)}var o=a.getElementsByTagName("HOP");this.hops=[];for(e=0;e<o.length;e++){var h=o[e],l={};l.name=XDTV(h,"NAME",""),l.alpha=parseFloat(XDTV(h,"ALPHA",0)),l.amount=parseFloat(XDTV(h,"AMOUNT",0)),l.time=parseFloat(XDTV(h,"TIME",0)),l.use=XDTV(h,"USE",""),l.temperature=parseFloat(XDTV(h,"TEMPERATURE",null)),this.hops.push(l)}this.hopAmount=function(t){var e;if(t&&t.length)for(item in e=[],t)e.push(t[item].toUpperCase());else e=["BOIL","DRY HOP","MASH","FIRST WORT","AROMA"];for(var a=0,s=0;s<this.hops.length;s++){var r=this.hops[s];0<=e.indexOf(r.use.toUpperCase())&&(a+=r.amount)}return a};var m=a.getElementsByTagName("FERMENTABLE");this.fermentables=[];for(e=0;e<m.length;e++){var E=m[e],p={};p.name=XDTV(E,"NAME",""),p.type=XDTV(E,"TYPE",""),p.amount=parseFloat(XDTV(E,"AMOUNT",0)),p.yield=parseFloat(XDTV(E,"YIELD",0)),p.color=parseFloat(XDTV(E,"COLOR",0)),p.afterBoil=!1;var D=XDTV(E,"ADD_AFTER_BOIL","");p.afterBoil="TRUE"==D.toUpperCase(),this.fermentables.push(p)}this.getGravityPoint=function(t){t=void 0===t||t;for(var e=0,a=0;a<this.fermentables.length;a++){var s=this.fermentables[a];!t&&s.afterBoil||(e+=46.177*s.yield/100*s.amount*2.204623)}return e},this.calOG=function(t,e){this.getGravityPoint(e);return 1+.001*sugar*t/100/(.264172*this.batchSize)},this.mashGrain=function(){for(var t=0,e=0;e<this.fermentables.length;e++){var a=this.fermentables[e];a.afterBoil||"grain"!=a.type.toLowerCase()||(t+=a.amount)}return t};var X=a.getElementsByTagName("MISC");this.miscs=[];for(e=0;e<X.length;e++){var V=X[e];(u={}).name=XDTV(V,"NAME",""),u.type=XDTV(V,"TYPE",""),u.use=XDTV(V,"USE",""),u.amount=parseFloat(XDTV(V,"AMOUNT",0)),u.time=parseFloat(XDTV(V,"TIME",0)),this.miscs.push(u)}var g=a.getElementsByTagName("MASH_STEP");this.mashes=[];for(e=0;e<g.length;e++){var u,M=g[e];(u={}).name=XDTV(M,"NAME",""),u.type=XDTV(M,"TYPE",""),u.time=parseFloat(XDTV(M,"STEP_TIME",0)),u.temp=parseFloat(XDTV(M,"STEP_TEMP",0)),u.amount=parseFloat(XDTV(M,"INFUSE_AMOUNT",0)),u.infuse=XDTV(M,"INFUSE_TEMP",""),this.mashes.push(u)}this.mashWaterVolume=function(){for(var t=0,e=0;e<this.mashes.length;e++)t+=this.mashes[e].amount;return t},this.brewable=function(){return 0!=this.boilTime&&0!=this.mashes.length}}function BeerXML(t){this.xmlDoc="string"==typeof t?(parser=new DOMParser,parser.parseFromString(t,"text/xml")):t}BeerXML.prototype.recipeNames=function(t){var e=this.xmlDoc.getElementsByTagName("RECIPE");if(!e||!length in e)return null;for(var a=[],s=0;s<e.length;s++){var r=e[s].getElementsByTagName("NAME")[0].textContent;a.push(r)}return a},BeerXML.prototype.recipe=function(t){var e=this.xmlDoc.getElementsByTagName("RECIPE");return!e||!length in e?null:e.length<=t?null:new BeerRecipe(e[t])}</script><script>var RecipeDisplay={celius:!0,toFahrenheit:function(e){return 1.8*e+32},toGallon:function(e){return.264172*e},toOz:function(e){return 35.2739*e},toLb:function(e){return 2.204623*e},toQt:function(e){return 1.0566882049662338*e},getAuto:function(){return this.bmAuto},option:function(e){this.opt=e,this.ppg=!e.metric;var i=this.div;this.ppg?($(i).find(".ppgtitle").show(),$(i).find(".yieldtitle").hide()):($(i).find(".ppgtitle").hide(),$(i).find(".yieldtitle").show())},init:function(e,i){var t=this;t.option(i),t.div=e,t.fermrow=$(e).find("tr.ferm-row")[0],$(t.fermrow).remove(),t.hoprow=$(e).find("tr.hop-row")[0],$(t.hoprow).remove(),t.mashrow=$(e).find("tr.mash-row")[0],$(t.mashrow).remove(),t.stagerow=$(e).find("tr.fermstage-row")[0],$(t.stagerow).remove(),t.hsrow=$(e).find("tr.hopstand-row")[0],$(t.hsrow).remove(),t.yeastrow=$(e).find("tr.yeast-row")[0],$(t.yeastrow).remove()},clear:function(){var e=this;$(e.div).find("tr.mash-row").remove(),$(e.div).find("tr.hop-row").remove(),$(e.div).find("tr.ferm-row").remove(),$(e.div).find("tr.fermstage-row").remove(),$(e.div).find("tr.yeast-row").remove(),$(e.div).find("tr.hopstand-row").remove(),$(e.div).find(".recipe-name").text(""),$(e.div).find(".batch-size").text(""),$(e.div).find(".recipe-style").text(""),$(e.div).find(".boil-time").text(""),$(e.div).find(".recipe-eff").text("-"),$(e.div).find(".recipe-og").text("-"),$(e.div).find(".recipe-fg").text("-"),$(e.div).find(".recipe-abv").text("-"),$(e.div).find(".recipe-color").text("-"),$(e.div).find(".recipe-ibu").text("-"),$(e.div).find(".recipe-note").text("")},srmColor:function(e){var i=Math.round(e);return 40<i&&(i=40),["#FFFFFF","#FFE699","#FFD978","#FFCA5A","#FFBF43","#FCB124","#F8A700","#F39C00","#EA8F00","#E68500","#DE7C00","#D77200","#D06900","#DC6200","#C35901","#BB5000","#B64C00","#B04500","#A63E00","#A03700","#9C3200","#962D00","#8F2A00","#872300","#811E00","#7C1A01","#771900","#701400","#6A0E00","#660D00","#5E0C00","#5A0A03","#600902","#530908","#4B0505","#460605","#440607","#3F0708","#3A0608","#3A080B","#36080A"][i]},show:function(e){var i=this.opt;this.bmAuto={rest_tm:[],rest_tp:[],boil:0,hops:[]},this.recipe=e,this.showFermentables(e.fermentables),this.showHopMisc(e.hops,e.miscs),this.showMash(this.processMash(e.mashes)),this.showFermetationStage(e.fstages),this.showYeasts(e.yeasts),$(this.div).find(".boil-time").text(e.boilTime+Unit.min),$(this.div).find(".recipe-name").text(e.name);var t=i.metric?e.batchSize.toFixed(2):this.toGallon(e.batchSize).toFixed(2);$(this.div).find(".batch-size").text(t+(i.metric?Unit.liter:Unit.gal)),e.style&&$(this.div).find(".recipe-style").text(e.style.comName);var n=e.getValue("og");n&&$(this.div).find(".recipe-og").html(i.plato?BrewMath.sg2plato(n).toFixed(1)+Unit.plato:n.toFixed(3));var r=e.getValue("fg");r&&$(this.div).find(".recipe-fg").html(i.plato?BrewMath.sg2plato(r).toFixed(1)+Unit.plato:r.toFixed(3));var s=e.getValue("abv");s&&$(this.div).find(".recipe-abv").text(s.toFixed(1));var p=e.getValue("ibu");p&&$(this.div).find(".recipe-ibu").text(p.toFixed(1)),e.eff&&$(this.div).find(".recipe-eff").text(e.eff),e.est_color&&$(this.div).find(".recipe-color").text(e.est_color),e.notes&&$(this.div).find(".recipe-note").text(e.notes),$(this.div).find(".color-block").css("background-color",this.srmColor(e.est_color)),this.bmAuto.boil=e.boilTime},setCelius:function(e){this.celius=e,void 0!==this.recipe&&($(this.div).find("tr.mash-row").remove(),this.showMash(this.processMash(recipe.mashes)))},showFermentables:function(e){var s=this,p=$(s.div).find("tr.ferm-header");$.each(e,function(e,i){var t=$(s.fermrow).clone(!0);t.find("td.ferm-name").text(i.name);var n=s.opt.metric?i.amount:s.toLb(i.amount);if(t.find("td.ferm-weight").text(n.toFixed(2)+(s.opt.metric?Unit.kg:Unit.lb)),t.find("td.ferm-yield").text(s.ppg?Math.round(46.177*i.yield/100):i.yield+"%"),t.find("td.ferm-color").text(i.color+Unit.Lovibond),i.afterBoil||void 0!==i.note){var r=i.afterBoil?"After Boil.":"";void 0!==i.note&&(r=r+" "+i.note),t.find("td.ferm-af").text(r)}p.after(t),p=t})},groupBy:function(e,t){e.sort(function(e,i){return i[t]-e[t]});var n,r=[],s=[];return $.each(e,function(e,i){0==s.length?(n=i,s.push(i)):n[t]==i[t]?s.push(i):(r.push(s),s=[i],n=i)}),s.length&&r.push(s),r},showSameTimeHop:function(e,o,a,i){var c=this,t=c.groupBy(e,"time"),d=i,u=[];return $.each(t,function(e,s){var p=!0;$.each(s,function(e,i){var t=$(c.hoprow).clone(!0),n=!1;p?(p=!1,t.find("td.hop-time").attr("rowspan",s.length).text(s[0].time+Unit.min),t.find("td.hop-order").attr("rowspan",s.length),0<s[0].time&&(n=!0)):(t.find("td.hop-time").remove(),t.find("td.hop-order").remove()),n&&(u.push(s[0].time),t.find(".hop-order-id").text(""+d),t.find(".hop-"+a).siblings().hide(),d++),t.find("td.hop-name").text(i.name);var r=c.opt.metric?1e3*i.amount:c.toOz(i.amount);t.find("td.hop-weight").text(r.toFixed(2)+(c.opt.metric?Unit.gram:Unit.oz)),void 0!==i.alpha?t.find("td.hop-alpha").text(i.alpha+"%"):t.find("td.hop-note").text(i.type),o.after(t),o=t})}),u},showHopMisc:function(e,i){var p=this,t=[],n=[],r=[];function s(e,i){"boil"==i.use.toLowerCase()?t.push(i):"aroma"==i.use.toLowerCase()?n.push(i):r.push(i)}$.each(e,s),$.each(i,s);var o=$(p.div).find("tr.hop-header");if(0<t.length&&(p.bmAuto.hops=p.showSameTimeHop(t,o,"boil",1),o=$(p.div).find("tr.hop-row:last")),0<n.length){$.each(n,function(e,i){(void 0===i.temperature||isNaN(i.temperature))&&(i.temperature=p.opt.HSTemp,i.standtemperature=p.opt.HSKeepTemp),void 0===i.standtemperature&&(i.standtemperature=i.temperature)});var a=p.groupBy(n,"temperature"),c=1;p.bmAuto.hs=[],$.each(a,function(e,i){var t=$(p.hsrow).clone(!0);t.find(".hopstand-order").text(""+(e+1));var n=i[0].temperature,r=i[0].standtemperature;p.celius?(t.find(".hopstand-stemp").html(n.toFixed(1)+Unit.degc),t.find(".hopstand-ktemp").html(r.toFixed(1)+Unit.degc)):(t.find(".hopstand-stemp").html(p.toFahrenheit(n).toFixed(1)+Unit.degf),t.find(".hopstand-ktemp").html(p.toFahrenheit(r).toFixed(1)+Unit.degf)),o.after(t),o=t;var s=p.showSameTimeHop(i,o,"whirlpool",c);p.bmAuto.hs.push({s:i[0].temperature,k:i[0].standtemperature,h:s}),t.find(".hopstand-time").text(""+s[0]+Unit.min),c+=i.length,o=$(p.div).find("tr.hop-row:last")})}$.each(r,function(e,i){var t=$(p.hoprow).clone(!0);t.find("td.hop-name").text(i.name);var n=p.opt.metric?1e3*i.amount:p.toOz(i.amount);t.find("td.hop-weight").text(n.toFixed(2)+(p.opt.metric?Unit.gram:Unit.oz)),void 0!==i.alpha&&t.find("td.hop-alpha").text(i.alpha+"%"),t.find("td.hop-note").text(i.use),t.find("td.hop-order").empty(),o.after(t),o=t})},getStrikeTemp:function(e){var i=e.temp;if(this.opt.preferInfuse&&""!=e.infuse){var t=parseFloat(e.infuse);return(0<e.infuse.indexOf("f")||0<e.infuse.indexOf("F"))&&(t=F2C(t)),t}return"c"==this.opt.doughIn&&void 0!==this.recipe.mashes[0].amount&&!isNaN(this.recipe.mashes[0].amount)&&0<this.recipe.mashes[0].amount?.41727029593*this.recipe.mashGrain()/(this.recipe.mashes[0].amount+this.opt.kettlemass)*(i-this.opt.grainTemp)+i+this.opt.equipAdjust:"s"==this.opt.doughIn&&void 0!==this.opt.doughInTemp?this.opt.doughInTemp:i},processMash:function(t){if(0==t.length)return[];var n,r=[{aname:"Mash In",name:"",temp:this.getStrikeTemp(t[0])}];75<=t[t.length-1].temp?(n=!0,t[t.length-1].aname="Mash Out"):n=!1;var s=1;if($.each(t,function(e,i){(!n||e<t.length-1)&&(i.aname="Mash Step "+s),s++,r.push(i)}),n||r.push({aname:"Mash Out",temp:this.opt.MashOutTemp,time:this.opt.MashOutTime}),8<r.length){var e=r.pop();r.slice(0,6),r.push(e)}return r},showYeasts:function(e){var s=this,p=$(s.div).find("tr.yeast-header");$.each(e,function(e,i){var t=$(s.yeastrow).clone(!0);t.find(".yeast-name").text(i.name),t.find(".yeast-pid").text(i.lab+" "+i.pid),t.find(".yeast-att").text(i.attenuation);var n=s.celius?i.mintemp:s.toFahrenheit(i.mintemp),r=s.celius?i.maxtemp:s.toFahrenheit(i.maxtemp);t.find(".yeast-temp").html(n.toFixed(1)+" ~ "+r.toFixed(1)+(s.celius?Unit.degc:Unit.degf)),p.after(t),p=t})},showFermetationStage:function(e){var r=this,s=$(r.div).find("tr.fermstage-header"),p=["Primary","Secondary","Additional"];$.each(e,function(e,i){var t=$(r.stagerow).clone(!0);t.find(".ferm-stage").text(p[e]);var n=r.celius?i.temp:r.toFahrenheit(i.temp);t.find(".ferm-temp").html(n.toFixed(1)+(r.celius?Unit.degc:Unit.degf)),t.find(".ferm-time").text(i.time.toFixed(1)),s.after(t),s=t})},showMash:function(e){var s=this,p=$(s.div).find("tr.mash-header");if($.each(e,function(e,i){var t=$(s.mashrow).clone(!0);t.find("td.mash-autorest").append('<span class="auto_value">'+i.aname+"</span>"),t.find("td.mash-name").text(i.name);var n=s.celius?i.temp:s.toFahrenheit(i.temp);if(t.find("td.mash-temp").html(n.toFixed(1)+(s.celius?Unit.degc:Unit.degf)),s.bmAuto.rest_tp.push(i.temp),isNaN(i.time)?s.bmAuto.rest_tm.push(1):(t.find("td.mash-time").text(i.time+Unit.min),s.bmAuto.rest_tm.push(i.time)),void 0!==i.type&&t.find("td.mash-type").text(i.type),0<i.amount){var r=s.opt.metric?i.amount:s.toQt(i.amount);t.find("td.mash-water").text(r.toFixed(2)+(s.opt.metric?Unit.liter:Unit.qt))}p.after(t),p=t}),s.bmAuto.rest_tm.length<8){for(var i=s.bmAuto.rest_tm.pop(),t=s.bmAuto.rest_tp.pop(),n=7-s.bmAuto.rest_tm.length;0<n;n--)s.bmAuto.rest_tm.push(0),s.bmAuto.rest_tp.push(0);s.bmAuto.rest_tm.push(i),s.bmAuto.rest_tp.push(t)}}},Recipes={prefUrl:"userpref.cfg",lsUrl:"list.php",recipeUrlBase:"R/",ulUrl:"upfile.php",rmUrl:"rm.php",celius:!0,userPreference:{metric:!0,plato:!1,MashOutTemp:77.2,MashOutTime:10,doughIn:"c",grainTemp:20,kettlemass:0,doughInTemp:55,equipAdjust:0,preferInfuse:1,HSTemp:99,HSKeepTemp:80},importing:-1,list:[],loaded:!1,bmidle:!0,load:function(){Recipes.loaded||(Recipes.loaded=!0,Recipes.getInfo())},cache:[],upload:function(e,i,t,n,r){var s=new FormData,p=new Blob([i],{type:t});s.append("file",p,e);var o=new XMLHttpRequest;o.open("POST",Recipes.ulUrl),o.send(s),o.onload=function(e){200==o.status?n&&n():r?r(o,o.status):console.log("failed:"+o.status)}},view:function(e){this.viewingName=e.substring("recipe-list-".length);var t=this.recipeUrlBase+this.viewingName;if(void 0!==Recipes.cache[t]){var i=new BeerXML(Recipes.cache[t]);Recipes.showRecipe(i.recipe(0),!0)}else $.ajax({method:"GET",url:t}).done(function(e){Recipes.cache[t]=e;var i=new BeerXML(e);Recipes.showRecipe(i.recipe(0),!0)})},bmstate:function(e){this.bmidle=e,this.viewingRecipe&&this.viewingRecipe.brewable()&&("import"==Recipes.pane?$("#xml-brew").button("option","disabled",!e):$("#recipe-brew").button("option","disabled",!e))},viewingName:null,viewingRecipe:null,showRecipe:function(e,i){i=void 0!==i&&i,(this.viewingRecipe=e)?(i?e.brewable()?$("#recipe-brew").button("option","disabled",!Recipes.bmidle):$("#recipe-brew").button("option","disabled",!0):e.brewable()?($("#xml-save").button("option","disabled",!1),$("#xml-brew").button("option","disabled",!Recipes.bmidle)):($("#xml-save").button("option","disabled",!0),$("#xml-brew").button("option","disabled",!0)),RecipeDisplay.clear(),RecipeDisplay.show(e),$("#recipe-table").show()):(jAlert("Invalid BeerXML!"),$("#recipe-table").hide(),$("#xml-save").button("option","disabled",!0),$("#xml-brew").button("option","disabled",!0))},validFileName:function(){var e=$("#xml-savename").val().trim();return!(0<=e.search(/[^\w\d-_]/))&&e},xmlName:function(e){for(var i=e.replace(/\s/g,"").replace(/[\[\]\/\\\?%\*:|\"<>!\.]/g,"_"),t=i,n=1;0<=$.inArray(i,Recipes.list);)i=t+"_"+n,n++;$("#xml-savename").val(i)},xmlSelect:function(e){var i=$(e.target).find("option:selected")[0].value;Recipes.importing=i;var t=Recipes.beerxml.recipe(i);Recipes.xmlName(t.name),Recipes.showRecipe(t)},openfile:function(t){if(t){var e=new FileReader;e.onload=function(e){window.file=t,Recipes.beerxml=new BeerXML(e.target.result),$("#xml-recipe-select").empty();var i=Recipes.beerxml.recipeNames();$.each(i,function(e,i){$("#xml-recipe-select").append($('<option value="'+e+'">'+i+"</option>"))}),(Recipes.importing=0)<i.length&&Recipes.xmlName(i[0]),Recipes.showRecipe(Recipes.beerxml.recipe(0))},e.readAsText(t)}else $("#xml-recipe-select").empty(),Recipes.importing=-1},prefSup:!1,prefChanged:function(){this.prefSup||($("#recipe-option-update").show(),RecipeDisplay.option(Recipes.userPreference))},updateUserPref:function(){$("#recipe-option-update").button("option","disabled",!0);var e=JSON.stringify(Recipes.userPreference);Recipes.upload(Recipes.prefUrl,e,"text/plain",function(){$("#recipe-option-update").button("option","disabled",!1).hide()},function(e,i){jAlert("Failed to update:"+i),$("#recipe-option-update").button("option","disabled",!1)})},brewXml:function(){for(var e=RecipeDisplay.getAuto(),i=0;i<8;i++){var t=0;e.rest_tp[i]&&(t=this.celius?e.rest_tp[i]:C2F(e.rest_tp[i])),e.rest_tp[i]=Math.round(10*t)/10}BM.saveRecipe(e),BM.show("#automation")},saveXml:function(){if(!(Recipes.importing<0||void 0===Recipes.beerxml)){var t=Recipes.validFileName();t?0<=$.inArray(t,Recipes.list)?jConfirm({title:"Replace existing recipe?",msg:"The existing recipe will be replaced.",ok:"Replace",onok:function(){e()}}):e():jAlert("Invalid name!")}function e(){var e=Recipes.beerxml.recipe(Recipes.importing),i=Recipes.recipeUrlBase+t;Recipes.upload(i,e.asXml(!0),"text/xml",function(){Recipes.addRecipe(t,e.asXml(!0))},function(e,i){jAlert("Error saving recipe:"+i)})}},delRecipe:function(){var i=this.viewingName;$.ajax({url:this.rmUrl,type:"POST",data:{file:this.recipeUrlBase+i},success:function(){var e;(e=$.inArray(i,Recipes.list))<0&&console.log("error condition"),Recipes.list.splice(e,1),$("#recipe-list-"+i).remove(),$("#recipe-table").hide()},error:function(e,i,t){jAlert("Error delete recipe:"+t)}})},dispPreference:function(){this.prefSup=!0;var e=Recipes.userPreference.metric?"m":"u";$("input[name=genunit][value="+e+"]").prop("checked",!0);var i=Recipes.userPreference.plato?"p":"g";$("input[name=sugarunit][value="+i+"]").prop("checked",!0),$("input[name=mashin_temp][value="+Recipes.userPreference.doughIn+"]").prop("checked",!0),Recipes.mashinInput(Recipes.userPreference.doughIn);var t=this.celius?Recipes.userPreference.grainTemp:C2F(Recipes.userPreference.grainTemp);$("#grain-temp").spinner("value",t);var n=this.celius?Recipes.userPreference.equipAdjust:1.8*Recipes.userPreference.equipAdjust;$("#equip-adj").spinner("value",n);var r=Recipes.userPreference.metric?Recipes.userPreference.kettlemass:1.0566882049662338*Recipes.userPreference.kettlemass;$("#kettle-mass").spinner("value",r.toFixed(3)),$("#kettlemass_unit").html(Recipes.userPreference.metric?Unit.liter:Unit.qt);var s=this.celius?Recipes.userPreference.doughInTemp:C2F(Recipes.userPreference.doughInTemp);$("#mashin-stemp").spinner("value",s),$("#mi_prefer_infuse").prop("checked",0!=Recipes.userPreference.preferInfuse);var p=this.celius?Recipes.userPreference.MashOutTemp:C2F(Recipes.userPreference.MashOutTemp);$("#mo-temp").spinner("value",p),$("#mo-time").spinner("value",Recipes.userPreference.MashOutTime),$("#de-HS-temp").spinner("value",Recipes.userPreference.HSTemp),$("#de-HS-keep-temp").spinner("value",Recipes.userPreference.HSKeepTemp),this.prefSup=!1},mashinInput:function(e){function i(e,i,t,n){$("#grain-temp").spinner("option","disabled",e),$("#equip-adj").spinner("option","disabled",i),$("#mashin-stemp").spinner("option","disabled",t),$("#kettle-mass").spinner("option","disabled",n)}"c"==e?i(!1,!1,!0,!1):i(!0,!0,"s"!=e,!0)},initPreference:function(){$("input[type=radio][name=genunit]").change(function(){"m"==this.value?(Recipes.userPreference.metric=!0,$("#kettlemass_unit").html(Unit.liter),$("#kettle-mass").spinner("value",Recipes.userPreference.kettlemass.toFixed(2))):(Recipes.userPreference.metric=!1,$("#kettlemass_unit").html(Unit.qt),$("#kettle-mass").spinner("value",(1.0566882049662338*Recipes.userPreference.kettlemass).toFixed(2))),Recipes.prefChanged()}),$("#kettlemass_unit").html(Recipes.userPreference.metric?Unit.liter:Unit.qt),$("input[type=radio][name=sugarunit]").change(function(){"p"==this.value?Recipes.userPreference.plato=!0:Recipes.userPreference.plato=!1,Recipes.prefChanged()}),$("#grain-temp").spinner({step:.1,change:function(){var e=$("#grain-temp").spinner("value");Recipes.userPreference.grainTemp=Recipes.celius?e:F2C(e),Recipes.prefChanged()}}),$("#equip-adj").spinner({step:.1,change:function(){var e=$("#equip-adj").spinner("value");Recipes.userPreference.equipAdjust=Recipes.celius?e:e/1.8,Recipes.prefChanged()}}),$("#kettle-mass").spinner({step:.01,change:function(){var e=$("#kettle-mass").spinner("value");Recipes.userPreference.kettlemass=Recipes.userPreference.metric?e:e/1.0566882049662338,Recipes.prefChanged()}}),$("#mashin-stemp").spinner({step:.1,change:function(){var e=$("#mashin-stemp").spinner("value");Recipes.userPreference.doughInTemp=Recipes.celius?e:F2C(e),Recipes.prefChanged()}}),$("#mi_prefer_infuse").change(function(){Recipes.userPreference.preferInfuse=$("#mi_prefer_infuse").is(":checked")?1:0,Recipes.prefChanged()}),$("input[type=radio][name=mashin_temp]").change(function(){Recipes.userPreference.doughIn=this.value,Recipes.mashinInput(this.value),Recipes.prefChanged()}),$("#mo-temp").spinner({step:.1,change:function(){var e=$("#mo-temp").spinner("value");Recipes.userPreference.MashOutTemp=Recipes.celius?e:F2C(e),Recipes.prefChanged()}}),$("#mo-time").spinner({change:function(){Recipes.userPreference.MashOutTime=$("#mo-time").spinner("value"),Recipes.prefChanged()}}),$("#recipe-option-update").button().click(function(){Recipes.updateUserPref()}).hide(),$("#de-HS-temp").spinner({step:.1,change:function(){var e=$("#de-HS-temp").spinner("value");Recipes.userPreference.HSTemp=Recipes.celius?e:F2C(e),Recipes.prefChanged()}}),$("#de-HS-keep-temp").spinner({step:.1,change:function(){var e=$("#de-HS-keep-temp").spinner("value");Recipes.userPreference.HSKeepTemp=Recipes.celius?e:F2C(e),Recipes.prefChanged()}})},unitChanged:function(e){Recipes.celius=e,RecipeDisplay.setCelius(e),Recipes.dispPreference()},addRecipe:function(e,i){$.inArray(e,Recipes.list)<0&&(Recipes.list.push(e),$("#recipe-list").append('<li class="ui-widget-content" id="recipe-list-'+e+'">'+e+"</li>")),Recipes.cache[Recipes.recipeUrlBase+e]=i},updateList:function(){$.each(Recipes.list,function(e,i){$("#recipe-list").append('<li class="ui-widget-content" id="recipe-list-'+i+'">'+i+"</li>")})},getList:function(){$.ajax({method:"POST",data:{dir:Recipes.recipeUrlBase},url:Recipes.lsUrl}).done(function(e){Recipes.list=e,Recipes.updateList()})},getInfo:function(){$.ajax({method:"GET",url:Recipes.prefUrl}).done(function(e){var i=JSON.parse(e);$.extend(Recipes.userPreference,i),RecipeDisplay.option(Recipes.userPreference)}).always(function(){Recipes.dispPreference(),Recipes.getList()})},init:function(){$("#recipe-options-panel").hide(),$("#recipe-import-panel").hide(),$("#recipe-view-panel").hide(),$("#recipe-table").hide(),Recipes.initPreference(),BM.addHandler("tempunit",function(e){Recipes.unitChanged(e)}),BM.addHandler("state",function(e,i){Recipes.bmstate(i)}),window.menuselected.recipes=function(){Recipes.load()},Recipes.pane="",$("#recipe-list").selectable({element:null,selected:function(e,i){element=$(i.selected)},stop:function(e,i){element.siblings().removeClass("selected"),"recipe-options"==element[0].id?($("#recipe-options-panel").show(),$("#recipe-import-panel").hide(),$("#recipe-view-panel").hide(),$("#recipe-table").hide(),Recipes.pane="options"):"recipe-import"==element[0].id?($("#recipe-options-panel").hide(),$("#recipe-import-panel").show(),$("#recipe-view-panel").hide(),0<=Recipes.importing&&void 0!==Recipes.beerxml?Recipes.showRecipe(Recipes.beerxml.recipe(Recipes.importing)):$("#recipe-table").hide(),Recipes.pane="import"):($("#recipe-options-panel").hide(),$("#recipe-import-panel").hide(),$("#recipe-view-panel").show(),Recipes.view(element[0].id),Recipes.pane="view")}}),RecipeDisplay.init("#xml-recipe",Recipes.userPreference),$("#xml-recipe-select").change(function(e){Recipes.xmlSelect(e)}),$("#fileinput").change(function(e){var i=e.target.files[0];Recipes.openfile(i)}),$("#xml-save").button({disabled:!0}).click(function(){Recipes.saveXml()}),$("#xml-brew").button({disabled:!0}).click(function(){Recipes.brewXml()}),$("#recipe-del").button().click(function(){Recipes.delRecipe()}),$("#recipe-brew").button().click(function(){Recipes.brewXml()})}}</script><style>.dygraph-legend{position:absolute;font-size:14px;z-index:10;width:250px;background:#fff;line-height:normal;text-align:left;overflow:hidden}.dygraph-legend-line{display:inline-block;position:relative;bottom:.5ex;padding-left:1em;height:1px;border-bottom-width:2px;border-bottom-style:solid}.dygraph-legend-dash{display:inline-block;position:relative;bottom:.5ex;height:1px;border-bottom-width:2px;border-bottom-style:solid}.dygraph-roller{position:absolute;z-index:10}.dygraph-annotation{position:absolute;z-index:10;overflow:hidden}.dygraph-default-annotation{border:1px solid #000;background-color:#fff;text-align:center}.dygraph-axis-label{z-index:10;line-height:normal;overflow:hidden;color:#000}.dygraph-title{font-weight:700;z-index:10;text-align:center}.dygraph-xlabel{text-align:center}.dygraph-label-rotate-left{text-align:center;transform:rotate(90deg);-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg)}.dygraph-label-rotate-right{text-align:center;transform:rotate(-90deg);-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-ms-transform:rotate(-90deg)}</style><style>/*! jQuery UI - v1.11.4 - 2018-09-19
* http://jqueryui.com
* Includes: core.css, draggable.css, resizable.css, selectable.css, sortable.css, accordion.css, autocomplete.css, button.css, datepicker.css, dialog.css, menu.css, progressbar.css, selectmenu.css, slider.css, spinner.css, tabs.css, tooltip.css, theme.css
* To view and modify this theme, visit http://jqueryui.com/themeroller/?ffDefault=Lucida%20Grande%2CLucida%20Sans%2CArial%2Csans-serif&fwDefault=bold&fsDefault=1.1em&cornerRadius=6px&bgColorHeader=deedf7&bgTextureHeader=highlight_soft&bgImgOpacityHeader=100&borderColorHeader=aed0ea&fcHeader=222222&iconColorHeader=72a7cf&bgColorContent=f2f5f7&bgTextureContent=highlight_hard&bgImgOpacityContent=100&borderColorContent=dddddd&fcContent=362b36&iconColorContent=72a7cf&bgColorDefault=d7ebf9&bgTextureDefault=glass&bgImgOpacityDefault=80&borderColorDefault=aed0ea&fcDefault=2779aa&iconColorDefault=3d80b3&bgColorHover=e4f1fb&bgTextureHover=glass&bgImgOpacityHover=100&borderColorHover=74b2e2&fcHover=0070a3&iconColorHover=2694e8&bgColorActive=3baae3&bgTextureActive=glass&bgImgOpacityActive=50&borderColorActive=2694e8&fcActive=ffffff&iconColorActive=ffffff&bgColorHighlight=ffef8f&bgTextureHighlight=highlight_soft&bgImgOpacityHighlight=25&borderColorHighlight=f9dd34&fcHighlight=363636&iconColorHighlight=2e83ff&bgColorError=cd0a0a&bgTextureError=flat&bgImgOpacityError=15&borderColorError=cd0a0a&fcError=ffffff&iconColorError=ffffff&bgColorOverlay=eeeeee&bgTextureOverlay=diagonals_thick&bgImgOpacityOverlay=90&opacityOverlay=80&bgColorShadow=000000&bgTextureShadow=highlight_hard&bgImgOpacityShadow=70&opacityShadow=30&thicknessShadow=7px&offsetTopShadow=-7px&offsetLeftShadow=-7px&cornerRadiusShadow=8px
* Copyright jQuery Foundation and other contributors; Licensed MIT */.ui-helper-hidden{display:none}.ui-helper-hidden-accessible{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.ui-helper-reset{margin:0;padding:0;border:0;outline:0;line-height:1.3;text-decoration:none;font-size:100%;list-style:none}.ui-helper-clearfix:after,.ui-helper-clearfix:before{content:"";display:table;border-collapse:collapse}.ui-helper-clearfix:after{clear:both}.ui-helper-clearfix{min-height:0}.ui-helper-zfix{width:100%;height:100%;top:0;left:0;position:absolute;opacity:0;filter:Alpha(Opacity=0)}.ui-front{z-index:100}.ui-state-disabled{cursor:default!important}.ui-icon{display:block;text-indent:-99999px;overflow:hidden;background-repeat:no-repeat}.ui-widget-overlay{position:fixed;top:0;left:0;width:100%;height:100%}.ui-draggable-handle{-ms-touch-action:none;touch-action:none}.ui-resizable{position:relative}.ui-resizable-handle{position:absolute;font-size:.1px;display:block;-ms-touch-action:none;touch-action:none}.ui-resizable-autohide .ui-resizable-handle,.ui-resizable-disabled .ui-resizable-handle{display:none}.ui-resizable-n{cursor:n-resize;height:7px;width:100%;top:-5px;left:0}.ui-resizable-s{cursor:s-resize;height:7px;width:100%;bottom:-5px;left:0}.ui-resizable-e{cursor:e-resize;width:7px;right:-5px;top:0;height:100%}.ui-resizable-w{cursor:w-resize;width:7px;left:-5px;top:0;height:100%}.ui-resizable-se{cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.ui-resizable-sw{cursor:sw-resize;width:9px;height:9px;left:-5px;bottom:-5px}.ui-resizable-nw{cursor:nw-resize;width:9px;height:9px;left:-5px;top:-5px}.ui-resizable-ne{cursor:ne-resize;width:9px;height:9px;right:-5px;top:-5px}.ui-selectable{-ms-touch-action:none;touch-action:none}.ui-selectable-helper{position:absolute;z-index:100;border:1px dotted #000}.ui-sortable-handle{-ms-touch-action:none;touch-action:none}.ui-accordion .ui-accordion-header{display:block;cursor:pointer;position:relative;margin:2px 0 0 0;padding:.5em .5em .5em .7em;min-height:0;font-size:100%}.ui-accordion .ui-accordion-icons{padding-left:2.2em}.ui-accordion .ui-accordion-icons .ui-accordion-icons{padding-left:2.2em}.ui-accordion .ui-accordion-header .ui-accordion-header-icon{position:absolute;left:.5em;top:50%;margin-top:-8px}.ui-accordion .ui-accordion-content{padding:1em 2.2em;border-top:0;overflow:auto}.ui-autocomplete{position:absolute;top:0;left:0;cursor:default}.ui-button{display:inline-block;position:relative;padding:0;line-height:normal;margin-right:.1em;cursor:pointer;vertical-align:middle;text-align:center;overflow:visible}.ui-button,.ui-button:active,.ui-button:hover,.ui-button:link,.ui-button:visited{text-decoration:none}.ui-button-icon-only{width:2.2em}button.ui-button-icon-only{width:2.4em}.ui-button-icons-only{width:3.4em}button.ui-button-icons-only{width:3.7em}.ui-button .ui-button-text{display:block;line-height:normal}.ui-button-text-only .ui-button-text{padding:.4em 1em}.ui-button-icon-only .ui-button-text,.ui-button-icons-only .ui-button-text{padding:.4em;text-indent:-9999999px}.ui-button-text-icon-primary .ui-button-text,.ui-button-text-icons .ui-button-text{padding:.4em 1em .4em 2.1em}.ui-button-text-icon-secondary .ui-button-text,.ui-button-text-icons .ui-button-text{padding:.4em 2.1em .4em 1em}.ui-button-text-icons .ui-button-text{padding-left:2.1em;padding-right:2.1em}input.ui-button{padding:.4em 1em}.ui-button-icon-only .ui-icon,.ui-button-icons-only .ui-icon,.ui-button-text-icon-primary .ui-icon,.ui-button-text-icon-secondary .ui-icon,.ui-button-text-icons .ui-icon{position:absolute;top:50%;margin-top:-8px}.ui-button-icon-only .ui-icon{left:50%;margin-left:-8px}.ui-button-icons-only .ui-button-icon-primary,.ui-button-text-icon-primary .ui-button-icon-primary,.ui-button-text-icons .ui-button-icon-primary{left:.5em}.ui-button-icons-only .ui-button-icon-secondary,.ui-button-text-icon-secondary .ui-button-icon-secondary,.ui-button-text-icons .ui-button-icon-secondary{right:.5em}.ui-buttonset{margin-right:7px}.ui-buttonset .ui-button{margin-left:0;margin-right:-.3em}button.ui-button::-moz-focus-inner,input.ui-button::-moz-focus-inner{border:0;padding:0}.ui-datepicker{width:17em;padding:.2em .2em 0;display:none}.ui-datepicker .ui-datepicker-header{position:relative;padding:.2em 0}.ui-datepicker .ui-datepicker-next,.ui-datepicker .ui-datepicker-prev{position:absolute;top:2px;width:1.8em;height:1.8em}.ui-datepicker .ui-datepicker-next-hover,.ui-datepicker .ui-datepicker-prev-hover{top:1px}.ui-datepicker .ui-datepicker-prev{left:2px}.ui-datepicker .ui-datepicker-next{right:2px}.ui-datepicker .ui-datepicker-prev-hover{left:1px}.ui-datepicker .ui-datepicker-next-hover{right:1px}.ui-datepicker .ui-datepicker-next span,.ui-datepicker .ui-datepicker-prev span{display:block;position:absolute;left:50%;margin-left:-8px;top:50%;margin-top:-8px}.ui-datepicker .ui-datepicker-title{margin:0 2.3em;line-height:1.8em;text-align:center}.ui-datepicker .ui-datepicker-title select{font-size:1em;margin:1px 0}.ui-datepicker select.ui-datepicker-month,.ui-datepicker select.ui-datepicker-year{width:45%}.ui-datepicker table{width:100%;font-size:.9em;border-collapse:collapse;margin:0 0 .4em}.ui-datepicker th{padding:.7em .3em;text-align:center;font-weight:700;border:0}.ui-datepicker td{border:0;padding:1px}.ui-datepicker td a,.ui-datepicker td span{display:block;padding:.2em;text-align:right;text-decoration:none}.ui-datepicker .ui-datepicker-buttonpane{background-image:none;margin:.7em 0 0 0;padding:0 .2em;border-left:0;border-right:0;border-bottom:0}.ui-datepicker .ui-datepicker-buttonpane button{float:right;margin:.5em .2em .4em;cursor:pointer;padding:.2em .6em .3em .6em;width:auto;overflow:visible}.ui-datepicker .ui-datepicker-buttonpane button.ui-datepicker-current{float:left}.ui-datepicker.ui-datepicker-multi{width:auto}.ui-datepicker-multi .ui-datepicker-group{float:left}.ui-datepicker-multi .ui-datepicker-group table{width:95%;margin:0 auto .4em}.ui-datepicker-multi-2 .ui-datepicker-group{width:50%}.ui-datepicker-multi-3 .ui-datepicker-group{width:33.3%}.ui-datepicker-multi-4 .ui-datepicker-group{width:25%}.ui-datepicker-multi .ui-datepicker-group-last .ui-datepicker-header,.ui-datepicker-multi .ui-datepicker-group-middle .ui-datepicker-header{border-left-width:0}.ui-datepicker-multi .ui-datepicker-buttonpane{clear:left}.ui-datepicker-row-break{clear:both;width:100%;font-size:0}.ui-datepicker-rtl{direction:rtl}.ui-datepicker-rtl .ui-datepicker-prev{right:2px;left:auto}.ui-datepicker-rtl .ui-datepicker-next{left:2px;right:auto}.ui-datepicker-rtl .ui-datepicker-prev:hover{right:1px;left:auto}.ui-datepicker-rtl .ui-datepicker-next:hover{left:1px;right:auto}.ui-datepicker-rtl .ui-datepicker-buttonpane{clear:right}.ui-datepicker-rtl .ui-datepicker-buttonpane button{float:left}.ui-datepicker-rtl .ui-datepicker-buttonpane button.ui-datepicker-current,.ui-datepicker-rtl .ui-datepicker-group{float:right}.ui-datepicker-rtl .ui-datepicker-group-last .ui-datepicker-header,.ui-datepicker-rtl .ui-datepicker-group-middle .ui-datepicker-header{border-right-width:0;border-left-width:1px}.ui-dialog{overflow:hidden;position:absolute;top:0;left:0;padding:.2em;outline:0}.ui-dialog .ui-dialog-titlebar{padding:.4em 1em;position:relative}.ui-dialog .ui-dialog-title{float:left;margin:.1em 0;white-space:nowrap;width:90%;overflow:hidden;text-overflow:ellipsis}.ui-dialog .ui-dialog-titlebar-close{position:absolute;right:.3em;top:50%;width:20px;margin:-10px 0 0 0;padding:1px;height:20px}.ui-dialog .ui-dialog-content{position:relative;border:0;padding:.5em 1em;background:0 0;overflow:auto}.ui-dialog .ui-dialog-buttonpane{text-align:left;border-width:1px 0 0 0;background-image:none;margin-top:.5em;padding:.3em 1em .5em .4em}.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset{float:right}.ui-dialog .ui-dialog-buttonpane button{margin:.5em .4em .5em 0;cursor:pointer}.ui-dialog .ui-resizable-se{width:12px;height:12px;right:-5px;bottom:-5px;background-position:16px 16px}.ui-draggable .ui-dialog-titlebar{cursor:move}.ui-menu{list-style:none;padding:0;margin:0;display:block;outline:0}.ui-menu .ui-menu{position:absolute}.ui-menu .ui-menu-item{position:relative;margin:0;padding:3px 1em 3px .4em;cursor:pointer;min-height:0;list-style-image:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)}.ui-menu .ui-menu-divider{margin:5px 0;height:0;font-size:0;line-height:0;border-width:1px 0 0 0}.ui-menu .ui-state-active,.ui-menu .ui-state-focus{margin:-1px}.ui-menu-icons{position:relative}.ui-menu-icons .ui-menu-item{padding-left:2em}.ui-menu .ui-icon{position:absolute;top:0;bottom:0;left:.2em;margin:auto 0}.ui-menu .ui-menu-icon{left:auto;right:0}.ui-progressbar{height:2em;text-align:left;overflow:hidden}.ui-progressbar .ui-progressbar-value{margin:-1px;height:100%}.ui-progressbar .ui-progressbar-overlay{background:url(data:image/gif;base64,R0lGODlhKAAoAIABAAAAAP///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJAQABACwAAAAAKAAoAAACkYwNqXrdC52DS06a7MFZI+4FHBCKoDeWKXqymPqGqxvJrXZbMx7Ttc+w9XgU2FB3lOyQRWET2IFGiU9m1frDVpxZZc6bfHwv4c1YXP6k1Vdy292Fb6UkuvFtXpvWSzA+HycXJHUXiGYIiMg2R6W459gnWGfHNdjIqDWVqemH2ekpObkpOlppWUqZiqr6edqqWQAAIfkECQEAAQAsAAAAACgAKAAAApSMgZnGfaqcg1E2uuzDmmHUBR8Qil95hiPKqWn3aqtLsS18y7G1SzNeowWBENtQd+T1JktP05nzPTdJZlR6vUxNWWjV+vUWhWNkWFwxl9VpZRedYcflIOLafaa28XdsH/ynlcc1uPVDZxQIR0K25+cICCmoqCe5mGhZOfeYSUh5yJcJyrkZWWpaR8doJ2o4NYq62lAAACH5BAkBAAEALAAAAAAoACgAAAKVDI4Yy22ZnINRNqosw0Bv7i1gyHUkFj7oSaWlu3ovC8GxNso5fluz3qLVhBVeT/Lz7ZTHyxL5dDalQWPVOsQWtRnuwXaFTj9jVVh8pma9JjZ4zYSj5ZOyma7uuolffh+IR5aW97cHuBUXKGKXlKjn+DiHWMcYJah4N0lYCMlJOXipGRr5qdgoSTrqWSq6WFl2ypoaUAAAIfkECQEAAQAsAAAAACgAKAAAApaEb6HLgd/iO7FNWtcFWe+ufODGjRfoiJ2akShbueb0wtI50zm02pbvwfWEMWBQ1zKGlLIhskiEPm9R6vRXxV4ZzWT2yHOGpWMyorblKlNp8HmHEb/lCXjcW7bmtXP8Xt229OVWR1fod2eWqNfHuMjXCPkIGNileOiImVmCOEmoSfn3yXlJWmoHGhqp6ilYuWYpmTqKUgAAIfkECQEAAQAsAAAAACgAKAAAApiEH6kb58biQ3FNWtMFWW3eNVcojuFGfqnZqSebuS06w5V80/X02pKe8zFwP6EFWOT1lDFk8rGERh1TTNOocQ61Hm4Xm2VexUHpzjymViHrFbiELsefVrn6XKfnt2Q9G/+Xdie499XHd2g4h7ioOGhXGJboGAnXSBnoBwKYyfioubZJ2Hn0RuRZaflZOil56Zp6iioKSXpUAAAh+QQJAQABACwAAAAAKAAoAAACkoQRqRvnxuI7kU1a1UU5bd5tnSeOZXhmn5lWK3qNTWvRdQxP8qvaC+/yaYQzXO7BMvaUEmJRd3TsiMAgswmNYrSgZdYrTX6tSHGZO73ezuAw2uxuQ+BbeZfMxsexY35+/Qe4J1inV0g4x3WHuMhIl2jXOKT2Q+VU5fgoSUI52VfZyfkJGkha6jmY+aaYdirq+lQAACH5BAkBAAEALAAAAAAoACgAAAKWBIKpYe0L3YNKToqswUlvznigd4wiR4KhZrKt9Upqip61i9E3vMvxRdHlbEFiEXfk9YARYxOZZD6VQ2pUunBmtRXo1Lf8hMVVcNl8JafV38aM2/Fu5V16Bn63r6xt97j09+MXSFi4BniGFae3hzbH9+hYBzkpuUh5aZmHuanZOZgIuvbGiNeomCnaxxap2upaCZsq+1kAACH5BAkBAAEALAAAAAAoACgAAAKXjI8By5zf4kOxTVrXNVlv1X0d8IGZGKLnNpYtm8Lr9cqVeuOSvfOW79D9aDHizNhDJidFZhNydEahOaDH6nomtJjp1tutKoNWkvA6JqfRVLHU/QUfau9l2x7G54d1fl995xcIGAdXqMfBNadoYrhH+Mg2KBlpVpbluCiXmMnZ2Sh4GBqJ+ckIOqqJ6LmKSllZmsoq6wpQAAAh+QQJAQABACwAAAAAKAAoAAAClYx/oLvoxuJDkU1a1YUZbJ59nSd2ZXhWqbRa2/gF8Gu2DY3iqs7yrq+xBYEkYvFSM8aSSObE+ZgRl1BHFZNr7pRCavZ5BW2142hY3AN/zWtsmf12p9XxxFl2lpLn1rseztfXZjdIWIf2s5dItwjYKBgo9yg5pHgzJXTEeGlZuenpyPmpGQoKOWkYmSpaSnqKileI2FAAACH5BAkBAAEALAAAAAAoACgAAAKVjB+gu+jG4kORTVrVhRlsnn2dJ3ZleFaptFrb+CXmO9OozeL5VfP99HvAWhpiUdcwkpBH3825AwYdU8xTqlLGhtCosArKMpvfa1mMRae9VvWZfeB2XfPkeLmm18lUcBj+p5dnN8jXZ3YIGEhYuOUn45aoCDkp16hl5IjYJvjWKcnoGQpqyPlpOhr3aElaqrq56Bq7VAAAOw==);height:100%;opacity:.25}.ui-progressbar-indeterminate .ui-progressbar-value{background-image:none}.ui-selectmenu-menu{padding:0;margin:0;position:absolute;top:0;left:0;display:none}.ui-selectmenu-menu .ui-menu{overflow:auto;overflow-x:hidden;padding-bottom:1px}.ui-selectmenu-menu .ui-menu .ui-selectmenu-optgroup{font-size:1em;font-weight:700;line-height:1.5;padding:2px .4em;margin:.5em 0 0 0;height:auto;border:0}.ui-selectmenu-open{display:block}.ui-selectmenu-button{display:inline-block;overflow:hidden;position:relative;text-decoration:none;cursor:pointer}.ui-selectmenu-button span.ui-icon{right:.5em;left:auto;margin-top:-8px;position:absolute;top:50%}.ui-selectmenu-button span.ui-selectmenu-text{text-align:left;padding:.4em 2.1em .4em 1em;display:block;line-height:1.4;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ui-slider{position:relative;text-align:left}.ui-slider .ui-slider-handle{position:absolute;z-index:2;width:1.2em;height:1.2em;cursor:default;-ms-touch-action:none;touch-action:none}.ui-slider .ui-slider-range{position:absolute;z-index:1;font-size:.7em;display:block;border:0;background-position:0 0}.ui-slider.ui-state-disabled .ui-slider-handle,.ui-slider.ui-state-disabled .ui-slider-range{filter:inherit}.ui-slider-horizontal{height:.8em}.ui-slider-horizontal .ui-slider-handle{top:-.3em;margin-left:-.6em}.ui-slider-horizontal .ui-slider-range{top:0;height:100%}.ui-slider-horizontal .ui-slider-range-min{left:0}.ui-slider-horizontal .ui-slider-range-max{right:0}.ui-slider-vertical{width:.8em;height:100px}.ui-slider-vertical .ui-slider-handle{left:-.3em;margin-left:0;margin-bottom:-.6em}.ui-slider-vertical .ui-slider-range{left:0;width:100%}.ui-slider-vertical .ui-slider-range-min{bottom:0}.ui-slider-vertical .ui-slider-range-max{top:0}.ui-spinner{position:relative;display:inline-block;overflow:hidden;padding:0;vertical-align:middle}.ui-spinner-input{border:none;background:0 0;color:inherit;padding:0;margin:.2em 0;vertical-align:middle;margin-left:.4em;margin-right:22px}.ui-spinner-button{width:16px;height:50%;font-size:.5em;padding:0;margin:0;text-align:center;position:absolute;cursor:default;display:block;overflow:hidden;right:0}.ui-spinner a.ui-spinner-button{border-top:none;border-bottom:none;border-right:none}.ui-spinner .ui-icon{position:absolute;margin-top:-8px;top:50%;left:0}.ui-spinner-up{top:0}.ui-spinner-down{bottom:0}.ui-spinner .ui-icon-triangle-1-s{background-position:-65px -16px}.ui-tabs{position:relative;padding:.2em}.ui-tabs .ui-tabs-nav{margin:0;padding:.2em .2em 0}.ui-tabs .ui-tabs-nav li{list-style:none;float:left;position:relative;top:0;margin:1px .2em 0 0;border-bottom-width:0;padding:0;white-space:nowrap}.ui-tabs .ui-tabs-nav .ui-tabs-anchor{float:left;padding:.5em 1em;text-decoration:none}.ui-tabs .ui-tabs-nav li.ui-tabs-active{margin-bottom:-1px;padding-bottom:1px}.ui-tabs .ui-tabs-nav li.ui-state-disabled .ui-tabs-anchor,.ui-tabs .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor,.ui-tabs .ui-tabs-nav li.ui-tabs-loading .ui-tabs-anchor{cursor:text}.ui-tabs-collapsible .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor{cursor:pointer}.ui-tabs .ui-tabs-panel{display:block;border-width:0;padding:1em 1.4em;background:0 0}.ui-tooltip{padding:8px;position:absolute;z-index:9999;max-width:300px;-webkit-box-shadow:0 0 5px #aaa;box-shadow:0 0 5px #aaa}body .ui-tooltip{border-width:2px}.ui-widget{font-family:Lucida Grande,Lucida Sans,Arial,sans-serif;font-size:1.1em}.ui-widget .ui-widget{font-size:1em}.ui-widget button,.ui-widget input,.ui-widget select,.ui-widget textarea{font-family:Lucida Grande,Lucida Sans,Arial,sans-serif;font-size:1em}.ui-widget-content{border:1px solid #ddd;background:#f2f5f7 url(images/bghh100.png) 50% top repeat-x;color:#362b36}.ui-widget-content a{color:#362b36}.ui-widget-header{border:1px solid #aed0ea;background:#deedf7 url(images/bghs100.png) 50% 50% repeat-x;color:#222;font-weight:700}.ui-widget-header a{color:#222}.ui-state-default,.ui-widget-content .ui-state-default,.ui-widget-header .ui-state-default{border:1px solid #aed0ea;background:#d7ebf9 url(images/bggla80.png) 50% 50% repeat-x;font-weight:700;color:#2779aa}.ui-state-default a,.ui-state-default a:link,.ui-state-default a:visited{color:#2779aa;text-decoration:none}.ui-state-focus,.ui-state-hover,.ui-widget-content .ui-state-focus,.ui-widget-content .ui-state-hover,.ui-widget-header .ui-state-focus,.ui-widget-header .ui-state-hover{border:1px solid #74b2e2;background:#e4f1fb url(images/bggla100.png) 50% 50% repeat-x;font-weight:700;color:#0070a3}.ui-state-focus a,.ui-state-focus a:hover,.ui-state-focus a:link,.ui-state-focus a:visited,.ui-state-hover a,.ui-state-hover a:hover,.ui-state-hover a:link,.ui-state-hover a:visited{color:#0070a3;text-decoration:none}.ui-state-active,.ui-widget-content .ui-state-active,.ui-widget-header .ui-state-active{border:1px solid #2694e8;background:#3baae3 url(images/bggla50.png) 50% 50% repeat-x;font-weight:700;color:#fff}.ui-state-active a,.ui-state-active a:link,.ui-state-active a:visited{color:#fff;text-decoration:none}.ui-state-highlight,.ui-widget-content .ui-state-highlight,.ui-widget-header .ui-state-highlight{border:1px solid #f9dd34;background:#ffef8f url(images/bghs25.png) 50% top repeat-x;color:#363636}.ui-state-highlight a,.ui-widget-content .ui-state-highlight a,.ui-widget-header .ui-state-highlight a{color:#363636}.ui-state-error,.ui-widget-content .ui-state-error,.ui-widget-header .ui-state-error{border:1px solid #cd0a0a;background:#cd0a0a;color:#fff}.ui-state-error a,.ui-widget-content .ui-state-error a,.ui-widget-header .ui-state-error a{color:#fff}.ui-state-error-text,.ui-widget-content .ui-state-error-text,.ui-widget-header .ui-state-error-text{color:#fff}.ui-priority-primary,.ui-widget-content .ui-priority-primary,.ui-widget-header .ui-priority-primary{font-weight:700}.ui-priority-secondary,.ui-widget-content .ui-priority-secondary,.ui-widget-header .ui-priority-secondary{opacity:.7;filter:Alpha(Opacity=70);font-weight:400}.ui-state-disabled,.ui-widget-content .ui-state-disabled,.ui-widget-header .ui-state-disabled{opacity:.35;filter:Alpha(Opacity=35);background-image:none}.ui-state-disabled .ui-icon{filter:Alpha(Opacity=35)}.ui-icon{width:16px;height:16px}.ui-icon,.ui-widget-content .ui-icon{background-image:url(images/icn72.png)}.ui-widget-header .ui-icon{background-image:url(images/icn72.png)}.ui-state-default .ui-icon{background-image:url(images/icn3d.png)}.ui-state-focus .ui-icon,.ui-state-hover .ui-icon{background-image:url(images/icn26.png)}.ui-state-active .ui-icon{background-image:url(images/icnff.png)}.ui-state-highlight .ui-icon{background-image:url(images/icn2e.png)}.ui-state-error .ui-icon,.ui-state-error-text .ui-icon{background-image:url(images/icnff.png)}.ui-icon-blank{background-position:16px 16px}.ui-icon-carat-1-n{background-position:0 0}.ui-icon-carat-1-ne{background-position:-16px 0}.ui-icon-carat-1-e{background-position:-32px 0}.ui-icon-carat-1-se{background-position:-48px 0}.ui-icon-carat-1-s{background-position:-64px 0}.ui-icon-carat-1-sw{background-position:-80px 0}.ui-icon-carat-1-w{background-position:-96px 0}.ui-icon-carat-1-nw{background-position:-112px 0}.ui-icon-carat-2-n-s{background-position:-128px 0}.ui-icon-carat-2-e-w{background-position:-144px 0}.ui-icon-triangle-1-n{background-position:0 -16px}.ui-icon-triangle-1-ne{background-position:-16px -16px}.ui-icon-triangle-1-e{background-position:-32px -16px}.ui-icon-triangle-1-se{background-position:-48px -16px}.ui-icon-triangle-1-s{background-position:-64px -16px}.ui-icon-triangle-1-sw{background-position:-80px -16px}.ui-icon-triangle-1-w{background-position:-96px -16px}.ui-icon-triangle-1-nw{background-position:-112px -16px}.ui-icon-triangle-2-n-s{background-position:-128px -16px}.ui-icon-triangle-2-e-w{background-position:-144px -16px}.ui-icon-arrow-1-n{background-position:0 -32px}.ui-icon-arrow-1-ne{background-position:-16px -32px}.ui-icon-arrow-1-e{background-position:-32px -32px}.ui-icon-arrow-1-se{background-position:-48px -32px}.ui-icon-arrow-1-s{background-position:-64px -32px}.ui-icon-arrow-1-sw{background-position:-80px -32px}.ui-icon-arrow-1-w{background-position:-96px -32px}.ui-icon-arrow-1-nw{background-position:-112px -32px}.ui-icon-arrow-2-n-s{background-position:-128px -32px}.ui-icon-arrow-2-ne-sw{background-position:-144px -32px}.ui-icon-arrow-2-e-w{background-position:-160px -32px}.ui-icon-arrow-2-se-nw{background-position:-176px -32px}.ui-icon-arrowstop-1-n{background-position:-192px -32px}.ui-icon-arrowstop-1-e{background-position:-208px -32px}.ui-icon-arrowstop-1-s{background-position:-224px -32px}.ui-icon-arrowstop-1-w{background-position:-240px -32px}.ui-icon-arrowthick-1-n{background-position:0 -48px}.ui-icon-arrowthick-1-ne{background-position:-16px -48px}.ui-icon-arrowthick-1-e{background-position:-32px -48px}.ui-icon-arrowthick-1-se{background-position:-48px -48px}.ui-icon-arrowthick-1-s{background-position:-64px -48px}.ui-icon-arrowthick-1-sw{background-position:-80px -48px}.ui-icon-arrowthick-1-w{background-position:-96px -48px}.ui-icon-arrowthick-1-nw{background-position:-112px -48px}.ui-icon-arrowthick-2-n-s{background-position:-128px -48px}.ui-icon-arrowthick-2-ne-sw{background-position:-144px -48px}.ui-icon-arrowthick-2-e-w{background-position:-160px -48px}.ui-icon-arrowthick-2-se-nw{background-position:-176px -48px}.ui-icon-arrowthickstop-1-n{background-position:-192px -48px}.ui-icon-arrowthickstop-1-e{background-position:-208px -48px}.ui-icon-arrowthickstop-1-s{background-position:-224px -48px}.ui-icon-arrowthickstop-1-w{background-position:-240px -48px}.ui-icon-arrowreturnthick-1-w{background-position:0 -64px}.ui-icon-arrowreturnthick-1-n{background-position:-16px -64px}.ui-icon-arrowreturnthick-1-e{background-position:-32px -64px}.ui-icon-arrowreturnthick-1-s{background-position:-48px -64px}.ui-icon-arrowreturn-1-w{background-position:-64px -64px}.ui-icon-arrowreturn-1-n{background-position:-80px -64px}.ui-icon-arrowreturn-1-e{background-position:-96px -64px}.ui-icon-arrowreturn-1-s{background-position:-112px -64px}.ui-icon-arrowrefresh-1-w{background-position:-128px -64px}.ui-icon-arrowrefresh-1-n{background-position:-144px -64px}.ui-icon-arrowrefresh-1-e{background-position:-160px -64px}.ui-icon-arrowrefresh-1-s{background-position:-176px -64px}.ui-icon-arrow-4{background-position:0 -80px}.ui-icon-arrow-4-diag{background-position:-16px -80px}.ui-icon-extlink{background-position:-32px -80px}.ui-icon-newwin{background-position:-48px -80px}.ui-icon-refresh{background-position:-64px -80px}.ui-icon-shuffle{background-position:-80px -80px}.ui-icon-transfer-e-w{background-position:-96px -80px}.ui-icon-transferthick-e-w{background-position:-112px -80px}.ui-icon-folder-collapsed{background-position:0 -96px}.ui-icon-folder-open{background-position:-16px -96px}.ui-icon-document{background-position:-32px -96px}.ui-icon-document-b{background-position:-48px -96px}.ui-icon-note{background-position:-64px -96px}.ui-icon-mail-closed{background-position:-80px -96px}.ui-icon-mail-open{background-position:-96px -96px}.ui-icon-suitcase{background-position:-112px -96px}.ui-icon-comment{background-position:-128px -96px}.ui-icon-person{background-position:-144px -96px}.ui-icon-print{background-position:-160px -96px}.ui-icon-trash{background-position:-176px -96px}.ui-icon-locked{background-position:-192px -96px}.ui-icon-unlocked{background-position:-208px -96px}.ui-icon-bookmark{background-position:-224px -96px}.ui-icon-tag{background-position:-240px -96px}.ui-icon-home{background-position:0 -112px}.ui-icon-flag{background-position:-16px -112px}.ui-icon-calendar{background-position:-32px -112px}.ui-icon-cart{background-position:-48px -112px}.ui-icon-pencil{background-position:-64px -112px}.ui-icon-clock{background-position:-80px -112px}.ui-icon-disk{background-position:-96px -112px}.ui-icon-calculator{background-position:-112px -112px}.ui-icon-zoomin{background-position:-128px -112px}.ui-icon-zoomout{background-position:-144px -112px}.ui-icon-search{background-position:-160px -112px}.ui-icon-wrench{background-position:-176px -112px}.ui-icon-gear{background-position:-192px -112px}.ui-icon-heart{background-position:-208px -112px}.ui-icon-star{background-position:-224px -112px}.ui-icon-link{background-position:-240px -112px}.ui-icon-cancel{background-position:0 -128px}.ui-icon-plus{background-position:-16px -128px}.ui-icon-plusthick{background-position:-32px -128px}.ui-icon-minus{background-position:-48px -128px}.ui-icon-minusthick{background-position:-64px -128px}.ui-icon-close{background-position:-80px -128px}.ui-icon-closethick{background-position:-96px -128px}.ui-icon-key{background-position:-112px -128px}.ui-icon-lightbulb{background-position:-128px -128px}.ui-icon-scissors{background-position:-144px -128px}.ui-icon-clipboard{background-position:-160px -128px}.ui-icon-copy{background-position:-176px -128px}.ui-icon-contact{background-position:-192px -128px}.ui-icon-image{background-position:-208px -128px}.ui-icon-video{background-position:-224px -128px}.ui-icon-script{background-position:-240px -128px}.ui-icon-alert{background-position:0 -144px}.ui-icon-info{background-position:-16px -144px}.ui-icon-notice{background-position:-32px -144px}.ui-icon-help{background-position:-48px -144px}.ui-icon-check{background-position:-64px -144px}.ui-icon-bullet{background-position:-80px -144px}.ui-icon-radio-on{background-position:-96px -144px}.ui-icon-radio-off{background-position:-112px -144px}.ui-icon-pin-w{background-position:-128px -144px}.ui-icon-pin-s{background-position:-144px -144px}.ui-icon-play{background-position:0 -160px}.ui-icon-pause{background-position:-16px -160px}.ui-icon-seek-next{background-position:-32px -160px}.ui-icon-seek-prev{background-position:-48px -160px}.ui-icon-seek-end{background-position:-64px -160px}.ui-icon-seek-start{background-position:-80px -160px}.ui-icon-seek-first{background-position:-80px -160px}.ui-icon-stop{background-position:-96px -160px}.ui-icon-eject{background-position:-112px -160px}.ui-icon-volume-off{background-position:-128px -160px}.ui-icon-volume-on{background-position:-144px -160px}.ui-icon-power{background-position:0 -176px}.ui-icon-signal-diag{background-position:-16px -176px}.ui-icon-signal{background-position:-32px -176px}.ui-icon-battery-0{background-position:-48px -176px}.ui-icon-battery-1{background-position:-64px -176px}.ui-icon-battery-2{background-position:-80px -176px}.ui-icon-battery-3{background-position:-96px -176px}.ui-icon-circle-plus{background-position:0 -192px}.ui-icon-circle-minus{background-position:-16px -192px}.ui-icon-circle-close{background-position:-32px -192px}.ui-icon-circle-triangle-e{background-position:-48px -192px}.ui-icon-circle-triangle-s{background-position:-64px -192px}.ui-icon-circle-triangle-w{background-position:-80px -192px}.ui-icon-circle-triangle-n{background-position:-96px -192px}.ui-icon-circle-arrow-e{background-position:-112px -192px}.ui-icon-circle-arrow-s{background-position:-128px -192px}.ui-icon-circle-arrow-w{background-position:-144px -192px}.ui-icon-circle-arrow-n{background-position:-160px -192px}.ui-icon-circle-zoomin{background-position:-176px -192px}.ui-icon-circle-zoomout{background-position:-192px -192px}.ui-icon-circle-check{background-position:-208px -192px}.ui-icon-circlesmall-plus{background-position:0 -208px}.ui-icon-circlesmall-minus{background-position:-16px -208px}.ui-icon-circlesmall-close{background-position:-32px -208px}.ui-icon-squaresmall-plus{background-position:-48px -208px}.ui-icon-squaresmall-minus{background-position:-64px -208px}.ui-icon-squaresmall-close{background-position:-80px -208px}.ui-icon-grip-dotted-vertical{background-position:0 -224px}.ui-icon-grip-dotted-horizontal{background-position:-16px -224px}.ui-icon-grip-solid-vertical{background-position:-32px -224px}.ui-icon-grip-solid-horizontal{background-position:-48px -224px}.ui-icon-gripsmall-diagonal-se{background-position:-64px -224px}.ui-icon-grip-diagonal-se{background-position:-80px -224px}.ui-corner-all,.ui-corner-left,.ui-corner-tl,.ui-corner-top{border-top-left-radius:6px}.ui-corner-all,.ui-corner-right,.ui-corner-top,.ui-corner-tr{border-top-right-radius:6px}.ui-corner-all,.ui-corner-bl,.ui-corner-bottom,.ui-corner-left{border-bottom-left-radius:6px}.ui-corner-all,.ui-corner-bottom,.ui-corner-br,.ui-corner-right{border-bottom-right-radius:6px}.ui-widget-overlay{background:#eee url(images/bgdia90.png) 50% 50% repeat;opacity:.8;filter:Alpha(Opacity=80)}.ui-widget-shadow{margin:-7px 0 0 -7px;padding:7px;background:#000 url(images/bghh70.png) 50% top repeat-x;opacity:.3;filter:Alpha(Opacity=30);border-radius:8px}</style><style>#sb-site,.sb-site-container,.sb-slidebar,body,html{margin:0;padding:0;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}body,html{width:100%;overflow-x:hidden}html{height:100%}body{min-height:100%;height:auto;position:relative}html.sb-scroll-lock.sb-active:not(.sb-static){overflow:hidden}#sb-site,.sb-site-container{width:100%;min-height:100vh;position:relative;z-index:1;background-color:#fff}#sb-site:after,#sb-site:before,.sb-site-container:after,.sb-site-container:before{content:' ';display:table;clear:both}.sb-slidebar{height:100%;overflow-y:auto;position:fixed;top:0;z-index:0;display:none;background-color:#222}.sb-slidebar,.sb-slidebar *{-webkit-transform:translateZ(0)}.sb-left{left:0}.sb-right{right:0}.sb-slidebar.sb-static,html.sb-static .sb-slidebar{position:absolute}.sb-slidebar.sb-active{display:block}.sb-style-overlay{z-index:9999}.sb-momentum-scrolling{-webkit-overflow-scrolling:touch}.sb-slidebar{width:30%}.sb-width-thin{width:15%}.sb-width-wide{width:45%}@media (max-width:480px){.sb-slidebar{width:70%}.sb-width-thin{width:55%}.sb-width-wide{width:85%}}@media (min-width:481px){.sb-slidebar{width:55%}.sb-width-thin{width:40%}.sb-width-wide{width:70%}}@media (min-width:768px){.sb-slidebar{width:40%}.sb-width-thin{width:25%}.sb-width-wide{width:55%}}@media (min-width:992px){.sb-slidebar{width:30%}.sb-width-thin{width:15%}.sb-width-wide{width:45%}}@media (min-width:1200px){.sb-slidebar{width:20%}.sb-width-thin{width:5%}.sb-width-wide{width:35%}}#sb-site,.sb-site-container,.sb-slide,.sb-slidebar{-webkit-transform:translate(0);-moz-transform:translate(0);-o-transform:translate(0);transform:translate(0);-webkit-transition:-webkit-transform .4s ease;-moz-transition:-moz-transform .4s ease;-o-transition:-o-transform .4s ease;transition:transform .4s ease;-webkit-transition-property:-webkit-transform,left,right;-webkit-backface-visibility:hidden}.sb-hide{display:none}.switch-button-label{float:left;font-size:10pt;cursor:pointer}.switch-button-label.off{color:#adadad}.switch-button-label.on{color:#08c}.switch-button-background{float:left;position:relative;background:#ccc;border:1px solid #aaa;margin:1px 10px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;cursor:pointer}.switch-button-button{position:absolute;left:-1px;top:-1px;background:#fafafa;border:1px solid #aaa;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}</style><style>body{text-align:center}.ui-button,.ui-button-text .ui-button{font-size:10px!important}#sb-site{background-color:#efefef}.navicon-line{width:24px;height:4px;border-radius:1px;margin-bottom:3px;background-color:#fff}.top-bar-block{display:inline-block;color:#fff;font-style:italic;font-family:Georgia,serif}#menubar{position:absolute;left:10px}#menu .ui-selecting{background:#feca40}#menu .ui-selected{background:#f39814;color:#fff}#menu{list-style-type:none;margin:0;padding:0;width:100%}#menu li{margin:3px;padding:.4em;font-size:1em;height:18px}#menupane{width:120px}#top-bar{background-color:#15afc9}.setting-category{text-align:center;font-weight:700;font-size:1.2em;background-color:#ff0}.setting-subcategory{background-color:#fafad2}#about-p,#automation-p,#sensors-p,#settings-p,#top-bar{margin:auto;padding:10px;width:100%}#status-p{margin:auto;width:100%}#about-p{text-align:left}ul{text-align:left}.tmp_unit{font-family:Tahoma,Geneva,sans-serif}.editbtn{height:20px}.section{font-size:18px;font-weight:700}table{border-collapse:collapse}table,td,th,tr{margin:auto;border:1px solid #000}#auto-t td,#auto-t th,#auto-t tr{border:0;font-weight:700}#auto-p td{text-align:left}.running{font-size:1.2em;color:red;background-color:#ff0}.run{color:#bdbdbd;font-weight:400}.label{font-family:"Courier New",Courier,monospace;font-size:16px}.inactive-num{opacity:.2}#auxT{display:none}.ledreddim{background:#5b0000}.ledgreendim{background:#01290c}.round-led-circle{width:36px;height:0;padding-bottom:36px;border-radius:50%;border-style:outset;overflow:hidden;display:inline-block}span.round-led{width:12px;height:12px;display:table-cell;text-align:center;vertical-align:middle;font-weight:700;text-decoration:none}a{-webkit-user-select:none;-webkit-touch-callout:none}#status-p table,#status-p td,#status-p tr{border:0;margin:0}#ctrlpanel{width:fit-content;margin-left:auto;margin-right:auto;display:inline-block;background-color:silver}table .ledpanel{text-align:center;width:100%}#btnpanel{width:fit-content;height:fit-content;position:relative}#btnpanel td{width:25%}#btngap{height:5px}#btncover{position:absolute;left:0;top:0;width:100%;height:100%;z-index:1000;background-color:#fff;border-radius:0 0 6px 6px;opacity:.6}.round-button-circle{width:52px;height:0;padding-bottom:52px;border-radius:50%;border-style:groove;overflow:hidden;background:#a22;margin:2px}a.round-button{width:52px;height:52px;display:table-cell;text-align:center;vertical-align:middle;color:#ccc;font-weight:700;text-decoration:none;font-size:8pt}#info{text-align:center;color:red;font-weight:700;font-family:"Courier New",Courier,monospace;background-color:rgba(230,230,0,.5);padding:4px;height:20px;width:100%;display:none;position:absolute;z-index:1000}#auto-p table,#auto-p tr{margin-top:10px;margin-left:auto;margin-right:auto;border:2px;border-style:groove}#sensors{display:none}#auxledcon{display:none}#network-p table,#network-p td,#network-p tr{border:0}#passmatch{color:red}#saveok{color:#00f;font-style:italic}#savefail{color:red;font-weight:700}fieldset.commonset{display:inline-block}fieldset{margin:10px;display:inline-block}fieldset th{text-align:right}fieldset td{text-align:left}.eventaudio{display:none}.block{background:#fff;margin:4px;padding:0 0 2px 0}.block-size-1{width:76px;height:70px}.block-size-2{width:160px;height:70px}#auto-p,#controller-pan{width:260px}#state-block{width:160px;height:70px}.block-header{background:#d8e9f5;display:block;padding:2px 4px 2px 2px;margin:0 0 2px 0;height:20px}.block-title{text-align:left;font-size:smaller;float:left}.block-ctrl{float:right}.block-size-2 .block-body{font-size:32px;font-weight:700;font-family:monospace}#temp-block-2,#temp-block-3,#temp-block-4,#temp-block-5{display:none}.primary-sensor .block-title::before{content:"*"}.primary-sensor .block-title::after{content:"*"}.primary-sensor .block-title{font-weight:700;color:#00f}#blockgroup{padding:10px}#dialog-controller table,#dialog-controller td,#dialog-controller th,#dialog-controller tr{border:0;border-collapse:collapse}</style><style>#recipe-list-panel{float:left;width:200px}#recipe-list .ui-selecting{background:#feca40}#recipe-list .ui-selected{background:#4d8ba7;color:#fff}#recipe-list{list-style-type:none;margin:0;padding:0;width:100%}#recipe-list li{margin:3px;padding:.2em;font-size:1em;height:18px}#xml-recipe{border-collapse:collapse;width:600px}#xml-recipe table,#xml-recipe td,#xml-recipe th,#xml-recipe tr{border:1px #000 solid}#xml-recipe table.subcat{width:100%;border-collapse:collapse}.RA{text-align:right}#recipe-options-panel table{text-align:left}#xml-recipe th{background-color:#d3d3d3;font-weight:700}#xml-recipe .auto_value{color:red}.recipe-note{text-align:left}.color-block{width:18px;height:0;padding-bottom:18px;border-radius:50%;overflow:hidden;display:inline-block}#rssi{position:relative;float:right;margin:0 16px 0 0;height:24px;width:24px}.rssi-bar{position:absolute;bottom:0;float:left;width:4px;border-radius:1px;background-color:#fff}.rssi-bar1{height:4px;left:0}.rssi-bar2{height:12px;left:6px}.rssi-bar3{height:18px;left:12px}.rssi-bar4{height:24px;left:18px}.rssi-bar-inactive{opacity:.2}#audioplay{position:relative;float:right;margin:0 16px 0 0;height:24px;width:24px}.c{text-align:center}#dialog-wifi div,#dialog-wifi input{padding:5px;font-size:1em}#dialog-wifi input{width:95%}#dialog-wifi{text-align:center;font-family:verdana}#dialog-wifi button{border:0;border-radius:.3rem;background-color:#1fa3ec;color:#fff;line-height:2.4rem;font-size:1.2rem;width:100%}#dialog-wifi .q{float:right;width:64px;text-align:right}#dialog-wifi .l{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAALVBMVEX///8EBwfBwsLw8PAzNjaCg4NTVVUjJiZDRUUUFxdiZGSho6OSk5Pg4eFydHTCjaf3AAAAZElEQVQ4je2NSw7AIAhEBamKn97/uMXEGBvozkWb9C2Zx4xzWykBhFAeYp9gkLyZE0zIMno9n4g19hmdY39scwqVkOXaxph0ZCXQcqxSpgQpONa59wkRDOL93eAXvimwlbPbwwVAegLS1HGfZAAAAABJRU5ErkJggg==) no-repeat left center;background-size:1em}canvas{image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;-ms-interpolation-mode:nearest-neighbor}#lcd{background:#adf724;image-rendering:pixelated;border-radius:5px}#contextmenu{position:absolute;z-index:1001}</style><script>var STR={ChartLabel:"Temperatura",AddMalt:"Aggiungi malto",RemoveMalt:"Rimuovi malto",Boil:"Fervura",HopN:"Hop #",PBHN:"PBH #",HopStandSession:"Session",Cooling:"Resfriar",Automation:"Auto",PIDAutoTune:"Sintonia automatica PID",DelayStart:"Attendi l'avvio dell'automazione",PumpRest:"--Pump Rest--",Idle:"BrewManiacEx",ManualMode:"Manual Mode",Setup:"Setup",PaddleLed:"STIR",Unknown:"Errore !!",Pause:"PAUSADO",min:"min",Mash:"Mash Step",BoilEnd:"Boil Finish",EndHopStand:"HopStand Finish",ResumeBrew:"Brew Resumed",spargeSensor:"SPG:",stageName:["Mash In","Mash Step (1)","Mash Step (2)","Mash Step (3)","Mash Step (4)","Mash Step (5)","Mash Step (6)","Mash Out","Boiling","Raffreddamento","Whirlpool","Chilling","HopStand"],errorWrongHopSchedule:"Wrong Hop Schedule.",errorMashoutTimeZero:"Il tempo di mashout � Zero.",errorHopStandSession:"Impostazione sessione Wrong Hop Stand.",errorPostHopSchedule:"Programma hop hop bollito post errato.",errorTooManyHop:"Il numero massimo di hop � 10.",errorTooManyHopStand:"La sessione di hop hop massimo � 5.",errorTooManyPostBoilHop:"Il numero massimo di punti di ebollizione successivi � 10.",DistillPreheat:"Preriscaldamento della distillazione",DistillHead:"Distilling Head",DistillHeart:"Distilling Heart",DistillTail:"Distilling Tail",event:["","Temperatura raggiunta","Aggiungi malto","Rimuovi malto","Test dello iodio","Pausa","Riprendi","Aggiungi hop","PWM Off","PWM Off","Boil Finish","Brew Finished!"]},STR_paddle={PumpRest:"--Stir Rest--"},Beep=new Audio("data:audio/mp4;base64,AAAAGGZ0eXBtcDQyAAAAAG1wNDJpc29tAAAAiGZyZWUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8NtZGF03gQAAGxpYmZhYWMgMS4yOAAAAbiDMMg8nh2/D2/T8ev69XTq8e/s37d/ATKf/fSbKoypkqRJUyvG/x17c/08/yADKPhd2ABnXvPVKACM/i+mACGhfx/NcoAKjwvSpACcOo9tnWIAruv7FHGrqQAAAAAAAAAAAADbh86N7WvKD64KAAABuKn+328O0ZSsAAA+Hr61RgAAdQ5f3dHswAAAAXdXTymCcLAAAAAAAKKvDp/eAOJ/nAv5DxoAAAAAALAP7dcYzex45kWN3QoAAAANFtBGgbhwARKf/TMZKEiJMuTIlmfM8fnv/T41n/b4/wAa6c/439ZBqISDC5tLfzOthfpXgP0tLBPbaz9LzLvp8N4XveL6d4DmBtc9sBzXhaRFrnttZzFzPeChSfnL9HvSXz0fp0n1WD9Hk/aIPlNH8tJ+SwZwMYzQy9817b0BnGZKBcKBFE891K5CihVNPU1912OPqLEiS/VaurqGQkd4DLvwOP6oDp9ABh/YB5NUDW/DA4/qgOn0Hwg9WIsJB8ENUPVA9WIsJApEACATkAKhYcABItQJKhIxhoLBIIjUInMIisIhMIjcZUZuv2+pW99+Pt9/PWtfb8dXnj6r54+f6/vn+ff9R5O6NFPx8eK3c8I8fjMPfP2gfDYd9x8afDYHviEfDAn3IH+GB33N1/+qCCGNcy+DUk/bBwMGT4MmX+BjHmymHCAHpfxBXGJQU4mAIiH6gtcmCKoA7wBkABHCAAAAAAAGDfW0Z0UUUAAAcZgAAHyICCoAAKZgAABiHAEaVBAkQwkNQkEQkERoGwkESGETmERSEQqERtW3WH9v53vOe/X59vv1fH6fjzJ8/fPnr1/f/Ffvv6HOi2dnV1m2/b7epvnbU841Pay359YpvsHokSvD57Q64z5/0P8aD5/N7Q/X4AADS8EsPn84zNvzJfGL58xoG0PKf02hoLWHQtAXuHhBzEQF4gHeAKWAD5RAAn/Sc0AJdAAAAAK9AEbgAABKQFwACQ4BIp/9ypcq3MlSZFSVIljK378/z11n+vt+oAPl9Gr1oLA//erf1AAdX9/pbwvk5VdRn/n5yFXdIifs5933BXO9zqMfx7L7wr3N9xHLauHzIyD/+GJ/pcD/5pP3GDy2EEABm68tU3MOESx9Gd9bEgDV1e2bI/P9ZzeUGuW+9ap//7Ywa9fE/YoUbcx/EAF/IeFA6r52By/qQHU9wBe/uIAAAHG6FD2TAwOjYQO0EjUbARgAAAAEg2hYKj42gAADgADIwIAjgAAAAoRtb292AAAAbG12aGQAAAAA1Wi/F9VovxcAAB9AAAAYAAABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAGGlvZHMAAAAAEICAgAcAT///KP//AAAB+HRyYWsAAABcdGtoZAAAAAHVaL8X1Wi/FwAAAAEAAAAAAAAYAAAAAAAAAAAAAAAAAAEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAZRtZGlhAAAAIG1kaGQAAAAA1Wi/F9VovxcAAB9AAAAYAFXEAAAAAAAhaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAAAAAAFLbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAEPc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAB9AAAAAAAAzZXNkcwAAAAADgICAIgAAAASAgIAUQBUAAMsAAAAAAAAm3AWAgIACFYgGgICAAQIAAAAgc3R0cwAAAAAAAAACAAAAAQAAAAAAAAAGAAAEAAAAADBzdHN6AAAAAAAAAAAAAAAHAAAAKgAAAKsAAADLAAAArQAAAKkAAAC/AAAABgAAABxzdHNjAAAAAAAAAAEAAAABAAAABwAAAAEAAAAUc3RjbwAAAAAAAAABAAAAqAAAACBjdHRzAAAAAAAAAAIAAAAB///8AAAAAAYAAAAAAAAAiGZyZWUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="),ButtonLabels={0:{u:"",d:"",s:"Esci",e:"Go",i:""},1:{u:"",d:"",s:"",e:"OK",i:""},2:{u:"",d:"",s:"Modifica",e:"OK",i:""},3:{u:"UP",d:"DOWN",s:">>",e:"",i:""},4:{u:"UP",d:"DOWN",s:"Fatto",e:"",i:""},5:{u:"",d:"",s:"No",e:"S�",i:""},6:{u:"",d:"Manuale",s:"Auto",e:"Setup",i:""},7:{u:"",d:"",s:"",e:"",i:"Pump Rest"},8:{u:"",d:"",s:"S�",e:"Pump",i:"Continua?"},9:{u:"",d:"",s:"S�",e:"No",i:"Continua?"},10:{u:"",d:"",s:"",e:"Pump",i:""},11:{u:"",d:"",s:"Time",e:"Pump",i:""},12:{u:"UP",d:"DOWN",s:"",e:"Pump",i:""},13:{u:"UP",d:"DOWN",s:"",e:"",i:""},14:{u:"",d:"",s:"Esci",e:"",i:""},15:{u:"",d:"",s:"OK",e:"",i:""},16:{u:"UP",d:"DOWN",s:"End",e:"Pump",i:""},17:{u:"UP",d:"DOWN",s:"Heat",e:"Pump",i:""},18:{u:"UP",d:"DOWN",s:"Pausa",e:"STP",i:""},19:{u:"UP",d:"DOWN",s:"Pompa / Pausa",e:"STP",i:""},20:{u:"UP",d:"DOWN",s:"Pausa",e:"",i:""},21:{u:"UP",d:"DOWN",s:"Salta",e:"OK",i:""},22:{u:"UP",d:"DOWN",s:"",e:"OK",i:""},23:{u:"UP",d:"DOWN",s:"Esci",e:"OK",i:""},24:{u:"",d:"DOWN",s:"Esci",e:"OK",i:""},25:{u:"UP",d:"",s:"Esci",e:"OK",i:""},26:{u:"UP",d:"DOWN",s:"Pausa",e:"Pump",i:""},27:{u:"UP",d:"DOWN",s:"Esegui",e:"Pump",i:""},28:{u:"UP",d:"DOWN",s:"Fatto",e:"Altro",i:""},29:{u:"UP",d:"",s:"",e:"OK",i:""},30:{u:"",d:"DOWN",s:"",e:"OK",i:""},31:{u:"",d:"",s:"Esci",e:"Pump",i:""},32:{u:"",d:"",s:"No",e:"S�",i:"Auto Pune PID?"},33:{u:"",d:"",s:"No",e:"S�",i:"Stop AutoTune?"},34:{u:"",d:"",s:"",e:"S�",i:"Esegui modalit� AP?"},35:{u:"Estendi",d:"",s:"Salta",e:"Indietro",i:""},36:{u:"UP",d:"DOWN",s:"Salta",e:"Pump",i:""},37:{u:"",d:"",s:"MashOut",e:"Estendi",i:""},38:{u:"",d:"Manuale",s:"Auto",e:"Annulla",i:""}},ButtonLabels_paddle={7:{u:"",d:"",s:"",e:"",i:"Stir Rest"},8:{u:"",d:"",s:"S�",e:"Mescola",i:"Continua?"},10:{u:"",d:"",s:"",e:"Mescola",i:""},11:{u:"",d:"",s:"Time",e:"Mescola",i:""},12:{u:"UP",d:"DOWN",s:"",e:"Mescola",i:""},16:{u:"UP",d:"DOWN",s:"End",e:"Mescola",i:""},17:{u:"UP",d:"DOWN",s:"Heat",e:"Mescola",i:""},19:{u:"UP",d:"DOWN",s:"Mescola / Pausa",e:"STP",i:""},26:{u:"UP",d:"DOWN",s:"Pausa",e:"Mescola",i:""},27:{u:"UP",d:"DOWN",s:"Esegui",e:"Mescola",i:""},31:{u:"",d:"",s:"Esci",e:"Mescola",i:""},36:{u:"UP",d:"DOWN",s:"Salta",e:"Mescola",i:""}},ButtonLabels_distill={6:{u:"Distill",d:"Manuale",s:"Auto",e:"Setup",i:""}},Unit={liter:"L",gal:"gal",lb:"lb",kg:"kg",min:"min",oz:"oz",qt:"qt",gram:"g",degf:"&#8457;",degc:"&#8451;",Lovibond:"L",plato:"&deg;P"}</script><script>var EEPROM={s_kp:{max:100,min:-100,inc:1,decode:function(n){return n-100},encode:function(n){return n+100}},s_ki:{max:155,min:-100,inc:1,decode:function(n){return n-100},encode:function(n){return n+100}},s_kd:{max:100,min:-100,inc:1,decode:function(n){return n-100},encode:function(n){return n+100}},s_kp2:{max:100,min:-100,inc:1,decode:function(n){return n-100},encode:function(n){return n+100}},s_ki2:{max:155,min:-100,inc:1,decode:function(n){return n-100},encode:function(n){return n+100}},s_kd2:{max:100,min:-100,inc:1,decode:function(n){return n-100},encode:function(n){return n+100}},s_kpall:{max:100,min:-100,inc:1,decode:function(n){return n-100},encode:function(n){return n+100}},s_kiall:{max:155,min:-100,inc:1,decode:function(n){return n-100},encode:function(n){return n+100}},s_kdall:{max:100,min:-100,inc:1,decode:function(n){return n-100},encode:function(n){return n+100}},s_sample_time:{max:8e3,min:1500,inc:250,decode:function(n){return 250*n},encode:function(n){return Math.round(n/250)}},s_window:{max:4e4,min:4e3,inc:250,decode:function(n){return 250*n},encode:function(n){return Math.round(n/250)}},s_pwm:{max:100,min:0,inc:1},s_cal:{max:5,min:-5,inc:.1,decode:function(n){return(n-50)/10},encode:function(n){return 10*n+50}},s_pidstart:{max:3.5,min:1,inc:.1,decode:function(n){return n/10},encode:function(n){return 10*n}},s_piddoughin:{max:1,min:0,inc:1,labels:["No","S�"]},s_unit:{max:1,min:0,inc:1,labels:["&deg;C","&deg;F"]},s_nodelay:{max:1,min:0,inc:1,labels:["No","S�"]},s_boil:{max:120,min:80,inc:1},s_pumpcycle:{max:15,min:5,inc:1},s_pumprest:{max:5,min:0,inc:1},s_pumppremash:{max:1,min:0,inc:1,labels:["Off","On"]},s_pumpmash:{max:1,min:0,inc:1,labels:["Off","On"]},s_pumpmashout:{max:1,min:0,inc:1,labels:["Off","On"]},s_pumpboil:{max:1,min:0,inc:1,labels:["Off","On"]},s_pumpstop:{max:120,min:80,inc:1},s_pipe:{max:1,min:0,inc:1,labels:["No","S�"]},s_skipadd:{max:1,min:0,inc:1,labels:["No","S�"]},s_skipremove:{max:1,min:0,inc:1,labels:["No","S�"]},s_skipiodine:{max:1,min:0,inc:1,labels:["No","S�"]},s_iodine:{max:120,min:0,inc:1},s_whirlpool:{max:2,min:0,labels:["Off","Cold","Hot"]},s_hop:{max:1,min:0,inc:1,labels:["No","S�"]},s_spenable:{max:1,min:0,inc:1,labels:["Off","On"]},s_sptempctrl:{max:1,min:0,inc:1,labels:["Off","On"]},s_spsensor:{max:5,min:0,inc:1},s_sptemp:{max:80,min:75,inc:1},s_spdiff:{max:2,min:.5,inc:.1,decode:function(n){return n/10},encode:function(n){return 10*n}},s_btnbuzz:{max:1,min:0,inc:1,labels:["Off","On"]},s_pprime:{max:10,min:0,inc:1},s_ppon:{max:1e4,min:250,inc:250,decode:function(n){return 250*n},encode:function(n){return Math.round(n/250)}},s_ppoff:{max:1e4,min:0,inc:250,decode:function(n){return 250*n},encode:function(n){return Math.round(n/250)}},s_preheat:{max:3,min:1,inc:1,labels:["Invalid","Riscaldatore secondario","Resistência secundária","Both Heaters"]},s_mashheat:{max:3,min:1,inc:1,labels:["Invalid","Riscaldatore secondario","Resistência secundária","Both Heaters"]},s_boilheat:{max:3,min:1,inc:1,labels:["Invalid","Riscaldatore secondario","Resistência secundária","Both Heaters"]},s_pbheat:{max:3,min:1,inc:1,labels:["Invalid","Riscaldatore secondario","Resistência secundária","Both Heaters"]},s_wlv:{max:1,min:0,inc:1,labels:["Off","On"]},s_wlvtrigger:{max:1e3,min:50,inc:50,decode:function(n){return 50*n},encode:function(n){return Math.round(n/50)}},s_pmpminrest:{max:90,min:2,inc:1}}</script><script>$(function(){$(".fn").hide();new $.slidebars;window.menuselected={},$("#menu").selectable({element:null,callback:{},selected:function(e,i){element=$(i.selected),void 0!==window.menuselected[i.selected.id]&&window.menuselected[i.selected.id]()},stop:function(e,i){$(".fn").hide(),$("#"+element[0].id+"-p").show(),$("#menupane").hide("slide")}}),$("#status").addClass("ui-selected"),$("#menupane").hide(),$("#status-p").show(),BM.show=function(e){$("#status").siblings().removeClass("ui-selected"),$(e).addClass("ui-selected"),$(".fn").hide(),$(e+"-p").show()},BM.init(),BChart.init("chart-canvas"),NetworkConfig.init(),Logs.init(),BrewUtils.init("#utility-p"),Recipes.init(),Sound.init(),$("#dialog-confirm").hide(),$("#dialog-alert").hide(),$("#playsound").button().click(function(e){e.preventDefault(),Sound.play($("select#soundid option:checked").val())})});var jAlert=function(e){$("#dialog-alert .dialog-msg").text(e),$("#dialog-alert").dialog({modal:!0,buttons:{Ok:function(){$(this).dialog("close")}}})},jConfirm=function(e){$("#dialog-confirm .dialog-msg").text(e.msg),void 0!==e.title&&$("#dialog-confirm").prop("title",e.title);var i=void 0!==e.ok?e.ok:"OK",t=void 0!==e.cancel?e.cancel:"Cancel";$("#dialog-confirm").dialog({resizable:!1,height:"auto",width:400,modal:!0}).dialog("option","buttons",[{text:i,click:function(){void 0!==e.onok&&e.onok(this),$(this).dialog("close")}},{text:t,click:function(){void 0!==e.oncancel&&e.oncancel(this),$(this).dialog("close")}}])}</script></head><body><div class="sb-slidebar sb-left sb-width-custom" data-sb-width=160px><ol id=menu><li class=ui-widget-content id=status> Control </li><li class=ui-widget-content id=settings> Impostazioni </li><li class=ui-widget-content id=automation> Automazione </li><li class=ui-widget-content id=recipes> Ricette </li><li class=ui-widget-content id=brewlog> Brew Logs </li><li class=ui-widget-content id=network> Rete </li><li class=ui-widget-content id=utility> Calcolatrici </li><li class=ui-widget-content id=about> Informazioni su </li></ol></div><div id=sb-site><div id=top-bar><div class="sb-toggle-left top-bar-block" id=menubar><div class=navicon-line></div><div class=navicon-line></div><div class=navicon-line></div></div><div class=top-bar-block>BrewManiacEx</div><div id=rssi><div class="rssi-bar rssi-bar1"></div><div class="rssi-bar rssi-bar2"></div><div class="rssi-bar rssi-bar3"></div><div class="rssi-bar rssi-bar4"></div></div><div id=audioplay><button>?</button></div></div><div class=fn id=status-p><div id=info></div><div id=blockgroup><ul id=contextmenu><li class=ui-widget-header><div> Widget </div></li><li><a id=resetposition href=#> Ripristina posizione </a></li></ul><div id=state-block class="block movable"><div class=block-header><div class=block-title> In esecuzione </div><div class=block-ctrl></div></div><div class=block-body><div id=title> BrewManiacEx </div></div></div><div id=heater-block class="block movable block-size-1"><div class=block-header><div class=block-title> HEAT </div><div class=block-ctrl></div></div><div class=block-body><div id=heatled class="round-led-circle ledreddim"><span class=round-led></span></div></div></div><div id=heater2-block class="block movable dualheating block-size-1"><div class=block-header><div class=block-title> HEAT # 2 </div><div class=block-ctrl></div></div><div class=block-body><div id=heat2led class="round-led-circle ledreddim"><span class=round-led></span></div></div></div><div id=auxledcon class="block movable block-size-1"><div class=block-header><div class=block-title> Sparge </div><div class=block-ctrl></div></div><div class=block-body><div id=auxled class="round-led-circle ledreddim"><span class=round-led></span></div></div></div><div id=pump-block class="block movable block-size-1"><div class=block-header><div class=block-title> PUMP </div><div class=block-ctrl></div></div><div class=block-body><div id=pumpled class="round-led-circle ledgreendim"><span class=round-led></span></div></div></div><div id=temp-block-1 class="block movable block-size-2"><div class=block-header><div class=block-title> Sensor </div><div class=block-ctrl><span class="ui-icon ui-icon-gear"></span></div></div><div class=block-body><div class=Tcon><span id=currenttemp_1 class=temperature>100.75</span><span class="tmp_unit label">&deg;C</span></div></div></div><div id=temp-block-2 class="block movable block-size-2"><div class=block-header><div class=block-title> Sensor #2</div><div class=block-ctrl><span class="ui-icon ui-icon-gear"></span></div></div><div class=block-body><div class=Tcon><span id=currenttemp_2 class=temperature>100.75</span><span class="tmp_unit label">&deg;C</span></div></div></div><div id=temp-block-3 class="block movable block-size-2"><div class=block-header><div class=block-title> Sensor #3</div><div class=block-ctrl><span class="ui-icon ui-icon-gear"></span></div></div><div class=block-body><div class=Tcon><span id=currenttemp_3 class=temperature>100.75</span><span class="tmp_unit label">&deg;C</span></div></div></div><div id=temp-block-4 class="block movable block-size-2"><div class=block-header><div class=block-title> Sensor #4</div><div class=block-ctrl><span class="ui-icon ui-icon-gear"></span></div></div><div class=block-body><div class=Tcon><span id=currenttemp_4 class=temperature>100.75</span><span class="tmp_unit label">&deg;C</span></div></div></div><div id=temp-block-5 class="block movable block-size-2"><div class=block-header><div class=block-title> Sensor #5</div><div class=block-ctrl><span class="ui-icon ui-icon-gear"></span></div></div><div class=block-body><div class=Tcon><span id=currenttemp_5 class=temperature>100.75</span><span class="tmp_unit label">&deg;C</span></div></div></div><div id=set-block class="block movable block-size-2"><div class=block-header><div class=block-title> Impostazione della temperatura </div><div class=block-ctrl><span class="ui-icon ui-icon-gear"></span></div></div><div class=block-body><div><span id=setpoint class=temperature>64.75</span><span class="tmp_unit label">&deg;C</span></div></div></div><div id=pwm-block class="block movable block-size-2"><div class=block-header><div class=block-title> PWM </div><div class=block-ctrl><span class="ui-icon ui-icon-gear"></span></div></div><div class=block-body><span id=pwm>99</span> <span class=label>%</span></div></div><div id=timerPanel class="block movable block-size-2"><div class=block-header><div class=block-title> Time </div><div class=block-ctrl><span class="ui-icon ui-icon-gear"></span></div></div><div class=block-body><div><span id=timer>01:59:38</span></div></div></div><div id=controller-pan class="block movable"><div class=block-header><div class=block-title> Cotnroller </div><div class=block-ctrl><span class="ui-icon ui-icon-gear"></span></div></div><div class=block-body><table><tr><td colspan=2><div><canvas id=lcd></canvas></div></td></tr><tr><td colspan=2><div id=btnpanel><table><tr><td id=btngap colspan=4></td></tr><tr><td><div class=round-button-circle><a id=btn-up class=round-button> Su </a></div></td><td><div class=round-button-circle><a id=btn-down class=round-button> Dowwn </a></div></td><td><div class=round-button-circle><a id=btn-start class=round-button> Start </a></div></td><td><div class=round-button-circle><a id=btn-enter class=round-button> Enter </a></div></td></tr></table><div id=btncover></div></div></td></tr></table></div></div><div id=auto-p class="block movable"><div class=block-header><div class=block-title> Automazione </div><div class=block-ctrl></div></div><div class=block-body><table id=auto-t><thead><tr><th colspan=3> Progresso automazione </th></tr></thead><tbody><tr class=autot-row><td class=autot-title></td><td class=autot-temp></td><td class=autot-time></td></tr></tbody></table></div></div><div id=tchart class="block movable resizable" style=width:95%><div class=block-header><div class=block-title> Grafico della temperatura </div><div class=block-ctrl></div></div><div class=block-body style=height:95%;width:100%><div id=chart-canvas style=height:100%;width:100%></div></div></div></div></div><div class=fn id=settings-p><span class=section>Impostazioni</span><button id=esetting class=editbtn>Set</button> <button id=savesetting class=editbtn>Salva</button> <button id=exportsetting class=editbtn>Esporta</button> <button id=importsetting class=editbtn>Importa</button><table><tr><td colspan=2 class=setting-category> PID - PWM </td></tr><tr><td> kP<span class=dualheating> Riscaldatore secondario</span></td><td><span id=s_kp>-</span></td></tr><tr><td> kI<span class=dualheating> Riscaldatore secondario</span></td><td><span id=s_ki>-</span></td></tr><tr><td> kD<span class=dualheating> Riscaldatore secondario</span></td><td><span id=s_kd>-</span></td></tr><tr class=dualheating><td> riscaldatore secondario kP </td><td><span id=s_kp2>-</span></td></tr><tr class=dualheating><td> kI riscaldatore secondario </td><td><span id=s_ki2>-</span></td></tr><tr class=dualheating><td> riscaldatore secondario kD </td><td><span id=s_kd2>-</span></td></tr><tr class=dualheating><td> kP entrambi gli elementi </td><td><span id=s_kpall>-</span></td></tr><tr class=dualheating><td> kI entrambi gli elementi </td><td><span id=s_kiall>-</span></td></tr><tr class=dualheating><td> kD entrambi gli elementi </td><td><span id=s_kdall>-</span></td></tr><tr><td> Sample Time </td><td><span id=s_sample_time>-</span></td></tr><tr><td> WindowSet </td><td><span id=s_window>-</span> ms </td></tr><tr><td> Heat PWM in Boil </td><td><span id=s_pwm>-</span> %</td></tr><tr><td class=TCAL_T> Sensor Calibration </td><td><span id=s_cal class=TCAL_V>-</span><span class=tmp_unit>&deg;C</span></td></tr><tr><td> PID Start </td><td><span id=s_pidstart>-</span> <span class=tmp_unit>&deg;C</span></td></tr><tr><td colspan=2 class=setting-category> Unit Parameters </td></tr><tr><td> Unit� di temperatura </td><td><span id=s_unit class=tmp_unit>&deg;C</span></td></tr><tr><td> Temperatura di ebollizione </td><td><span id=s_boil>-</span> <span class=tmp_unit>&deg;C</span></td></tr><tr><td> Pump Cycle </td><td><span id=s_pumpcycle>-</span> minutos </td></tr><tr><td> Pump Rest </td><td><span id=s_pumprest>-</span> minutos </td></tr><tr><td> Pump PreMash </td><td><span class=onoff id=s_pumppremash>-</span></td></tr><tr><td> Pump on Mash </td><td><span class=onoff id=s_pumpmash>-</span></td></tr><tr><td> Pump MashOut </td><td><span class=onoff id=s_pumpmashout>-</span></td></tr><tr><td> Pump On Boil </td><td><span class=onoff id=s_pumpboil>-</span></td></tr><tr><td> Temperatura di arresto pompa </td><td><span id=s_pumpstop>-</span><span class=tmp_unit>&deg;C</span></td></tr><tr><td> PID durante il raddoppio </td><td><span id=s_piddoughin>-</span></td></tr><tr><td> PID quando rimuovi malto </td><td><span id=s_pipe>-</span></td></tr><tr><td> Skip Aggiungi Malt </td><td><span class=yesno id=s_skipadd>-</span></td></tr><tr><td> Skip Remove Malt </td><td><span class=yesno id=s_skipremove>-</span></td></tr><tr><td> Salta test dello iodio </td><td><span class=yesno id=s_skipiodine>-</span></td></tr><tr><td> Tempo di iodio </td><td><span id=s_iodine>-</span></td></tr><tr><td> Whirlpool </td><td><span id=s_whirlpool>-</span></td></tr><tr><td> Heat @ Pump </td><td><span id=s_hop>-</span></td></tr><tr><td colspan=2 class=setting-category> Impostazioni varie </td></tr><tr><td> Disable Delay Start </td><td><span id=s_nodelay>-</span></td></tr><tr><td> Buzz on Button </td><td><span id=s_btnbuzz>-</span></td></tr><tr><td> Pump Prime Cycle </td><td><span id=s_pprime>-</span></td></tr><tr><td> Pump Prime On Time </td><td><span id=s_ppon>-</span> ms </td></tr><tr><td> Pump Prime Off Off Time </td><td><span id=s_ppoff>-</span> ms </td></tr><tr class=spargeheating><td colspan=2 class=setting-subcategory> Sparge Water Heating Control </td></tr><tr class=spargeheating><td> Control Sparge Heating </td><td><span id=s_spenable>-</span></td></tr><tr class=spargeheating><td> Controllo della temperatura </td><td><span id=s_sptempctrl>-</span></td></tr><tr class=spargeheating><td> Sensor Index </td><td><span id=s_spsensor>-</span></td></tr><tr class=spargeheating><td> Temperatura target </td><td><span id=s_sptemp>-</span><span class=tmp_unit>&deg;C</span></td></tr><tr class=spargeheating><td> Differenza temp. </td><td><span id=s_spdiff>-</span></td></tr><tr class=dualheating><td colspan=2 class=setting-subcategory> Uso dell'elemento riscaldante </td></tr><tr class=dualheating><td> Elemento riscaldante PreMash </td><td><span id=s_preheat>-</span></td></tr><tr class=dualheating><td> Mashing Heating Element </td><td><span id=s_mashheat>-</span></td></tr><tr class=dualheating><td> Elemento riscaldante in ebollizione </td><td><span id=s_boilheat>-</span></td></tr><tr class=dualheating><td> Post Boil Heating Element </td><td><span id=s_pbheat>-</span></td></tr><tr class=waterlevelsensor><td colspan=2 class=setting-subcategory> Wort / Water Level Sensor </td></tr><tr class=waterlevelsensor><td> Abilita sensore livello acqua </td><td><span id=s_wlv>-</span></td></tr><tr class=waterlevelsensor><td> Tempo di attivazione min sensore di livello </td><td><span id=s_wlvtrigger>-</span> ms </td></tr><tr class=waterlevelsensor><td> Extended Pump Rest </td><td><span id=s_pmpminrest>-</span> s </td></tr></table><div id=multisensor><h3> Sensori di temperatura </h3><table><tr class=setting-category><th>#</th><th> Address </th></tr><tr class=sensor_row><td class=sensor_id>1</td><td class=sensor_addr>0xFFFFFFFFFFFFFFFF</td></tr></table><br> Sensor Assignment: <table><tr class=setting-category><th> Stage </th><th> Primary </th><th> Auxiliar </th></tr><tr><td> Schermata principale </td><td id=sensor_P_0>1</td><td id=sensor_S_0>1</td></tr><tr><td> Manual Mode </td><td id=sensor_P_1>1</td><td id=sensor_S_1>1</td></tr><tr><td> Pre-Mash </td><td id=sensor_P_2>1</td><td id=sensor_S_2>1</td></tr><tr><td> Mashing </td><td id=sensor_P_3>1</td><td id=sensor_S_3>1</td></tr><tr><td> Fervura </td><td id=sensor_P_4>1</td><td id=sensor_S_4>1</td></tr><tr><td> Resfriar </td><td id=sensor_P_5>1</td><td id=sensor_S_5>1</td></tr></table></div></div><div class=fn id=automation-p><em>Automazione</em><button id=editauto class=editbtn>Editar</button> <button id=saveauto class=editbtn>Salvar</button><table id=auto_table><tr><td colspan=3 class=setting-category> Mash Schedule <button id=addrest class=editbtn>Aggiungi resto poltiglia</button></td></tr><tr><th> Rest </th><th> Temperatura </th><th> Time </th></tr><tr><td> Mash In </td><td><span id=s0_tp>-</span><span class=tmp_unit>&deg;C</span></td><td>-</td></tr><tr><td> Mash Out </td><td><span id=s7_tp>-</span><span class=tmp_unit>&deg;C</span></td><td><span id=s7_tm>-</span> min </td></tr><tr></tr><tr><td colspan=3 class=setting-category> Boil & Hop <button id=addhop class=editbtn>Aggiungi hop</button></td></tr><tr><td> Tempo di ebollizione </td><td colspan=2><span id=boiltime>-</span> min </td></tr><tr><td colspan=3 class=setting-category> Hop Stand <button id=addhopstand class=editbtn>Aggiungi sessione</button></td></tr><tr><td> Session <span class=session-number>1</span></td><td> Start: <span class=session-start-temp>99</span><span class=tmp_unit>&deg;C</span></td><td> Keep:<span class=session-hold-temp>80</span><span class=tmp_unit>&deg;C</span> <button class="editbtn addpbh">Aggiungi hop</button></td></tr></table></div><div class=fn id=recipes-p><div id=recipe-list-panel><ol id=recipe-list><li class=ui-widget-content id=recipe-options> Impostazioni </li><li class=ui-widget-content id=recipe-import> Importa </li><hr></ol></div><div id=recipe-display><div id=recipe-options-panel><h3> Opzioni ricetta </h3><div style=display:none><span id=disp_unit_liter>L </span><span id=disp_unit_gallon>gal </span><span id=disp_unit_qt>qt </span><span id=disp_unit_kg>kg </span><span id=disp_unit_lb>lb </span><span id=disp_unit_oz>oz </span><span id=disp_unit_g>g </span></div><table><tr><td> Unit </td><td colspan=3><input type=radio name=genunit id=unit_metric value=m> <label for=unit_metric>Metriche</label> <input type=radio name=genunit id=unit_us value=u> <label for=unit_us>US</label></td></tr><tr><td> Gravity / Plato </td><td colspan=3><input type=radio name=sugarunit id=su_gravity value=g> <label for=su_gravity>Densidade</label> <input type=radio name=sugarunit id=su_plato value=p> <label for=su_plato>&deg;Platone</label></td></tr><tr><td rowspan=6> Mash In Temperature </td><td colspan=3><input type=checkbox name=prefer_infuse id=mi_prefer_infuse> <label for=mi_prefer_infuse>Preferisci INFUSE_TEMP nel 1 � riposo</label></td></tr><td colspan=3><input type=radio name=mashin_temp id=mi_1stRest value=1> <label for=mi_1stRest>Come primo riposo</label></td><tr><td rowspan=3><input type=radio name=mashin_temp id=mi_cal value=c> <label for=mi_cal>Calculado</label></td><td><label for=grain-temp>Grain Temperature</label></td><td><input type=text id=grain-temp size=4><span class=tmp_unit>&deg;C</span></td></tr><tr><td><label for=equip-adj>Equipment Adjust</label></td><td><input type=text id=equip-adj size=4><span class=tmp_unit>&deg;C</span></td></tr><tr><td><label for=kettle-mass>Kettle equiv. mass</label></td><td><input type=text id=kettle-mass size=4><span id=kettlemass_unit>L</span></td></tr><tr><td><input type=radio name=mashin_temp id=mi_fixed value=s> <label for=mi_fixed>Especificada</label></td><td><label for=mashin-temp>Temperatura</label></td><td><input type=text id=mashin-stemp size=4><span class=tmp_unit>&deg;C</span></td></tr><tr><td rowspan=2> Mash Out predefinito </td><td colspan=2><label for=mo-temp>Temperatura</label></td><td><input type=text id=mo-temp size=4><span class=tmp_unit>&deg;C</span></td></tr><tr><td colspan=2><label for=mo-time>Time</label></td><td><input type=text id=mo-time size=4><span id=disp_unit_min>min</span></td></tr><tr><td rowspan=2> Default HopStand </td><td colspan=2><label for=de-HS-temp>Start Temperature</label></td><td><input type=text id=de-HS-temp size=4><span class=tmp_unit>&deg;C</span></td></tr><tr><td colspan=2><label for=de-HS-keep-temp>Mantieni temperatura</label></td><td><input type=text id=de-HS-keep-temp size=4><span class=tmp_unit>&deg;C</span></td></tr></table><br><button id=recipe-option-update>Update</button></div><div id=recipe-import-panel><h3> Importa BeerXML </h3><div id=fileinputgrp><input type=file id=fileinput></div><br><div id=import-xml-pane><div><select name=xml-recipe-select id=xml-recipe-select></select><br> Salva con nome<input type=text size=20 maxlength=28 id=xml-savename><button id=xml-save>Salvar</button> <button id=xml-brew>Brew</button></div></div></div><div id=recipe-view-panel><h3> Ricetta </h3><div><button id=recipe-del>Elimina</button> <button id=recipe-brew>Brew</button></div></div></div><div id=recipe-table><hr><table id=xml-recipe><tr><td><table class=subcat><tr><th> Nome </th><td><span class=recipe-name></span></td></tr><tr><th> Style </th><td><span class=recipe-style></span></td></tr><tr><th> Dimensione batch </th><td><span class=batch-size></span></td></tr><tr><th><span class=auto_value>Tempo di ebollizione</span></th><td><span class=boil-time></span></td></tr></table></td></tr><tr><td><table class=subcat><tr><th> Efficiency </th><th> OG </th><th> FG </th><th> ABV </th><th> Color </th><th> IBU </th></tr><tr><td><span class=recipe-eff>-</span>%</td><td><span class=recipe-og></span></td><td><span class=recipe-fg></span></td><td><span class=recipe-abv></span>%</td><td><span class=color-block></span> <span class=recipe-color></span></td><td><span class=recipe-ibu></span></td></tr></table></td></tr><tr><th> Fermentáveis </th></tr><tr><td><table class=subcat><tr class=ferm-header><th> Fermentável </th><th> Peso </th><th><span class=yieldtitle>Rendimento</span><span class=ppgtitle>PPG</span></th><th> Color </th><th> Note </th></tr><tr class=ferm-row><td class=ferm-name>TT</td><td class="ferm-weight RA"></td><td class="ferm-yield RA"></td><td class="ferm-color RA"></td><td class=ferm-af></td></tr></table></td></tr><tr><th> Luppolo e misc </th></tr><tr><td><table class=subcat><tr class=hop-header><th></th><th> Time </th><th> Nome </th><th> Peso </th><th> alpha </th><th> Note </th></tr><tr class=hop-row><td class=hop-order><span class="auto_value hop-boil">Hop #<span class=hop-order-id></span></span> <span class="auto_value hop-whirlpool">PBH #<span class=hop-order-id></span></span></td><td class=hop-time></td><td class=hop-name></td><td class="hop-weight RA"></td><td class="hop-alpha RA"></td><td class=hop-note></td></tr><tr class=hopstand-row><td> Hop Stand #<span class=hopstand-order></span></td><td class=hopstand-time></td><td colspan=4><span class=hopstand-stemp></span> ~ <span class=hopstand-ktemp></span></td></tr></table></td></tr><tr><th> Profilo mash </th></tr><tr><td><table class=subcat><tr class=mash-header><th></th><th> Nome </th><th> Temperatura </th><th> Time </th><th> Tipo </th><th> Água </th></tr><tr class=mash-row><td class=mash-autorest></td><td class=mash-name></td><td class="mash-temp RA"></td><td class=mash-time></td><td class=mash-type></td><td class="mash-water RA"></td></tr></table></td></tr><tr><th> Fermento </th></tr><tr><td><table class=subcat><tr class=yeast-header><th> Nome </th><th> Lab / Product </th><th> Temperatura </th><th> Atenuação </th></tr><tr class=yeast-row><td><span class=yeast-name></span></td><td><span class=yeast-pid></span></td><td><span class=yeast-temp></span></td><td><span class=yeast-att></span>%</td></tr></table></td></tr><tr><th> Fermentação </th></tr><tr><td><table class=subcat><tr class=fermstage-header><th> Stage </th><th> Temperatura </th><th> Durata </th></tr><tr class=fermstage-row><td><span class=ferm-stage></span></td><td><span class=ferm-temp></span></td><td><span class=ferm-time></span> dias </td></tr></table></td></tr><tr><th> Nota: </th></tr><tr><td class=recipe-note></td></tr></table></div></div><div class=fn id=network-p><h2> Impostazioni di rete </h2><table><tr><td> Rete connessa </td><td><a href=# id=wifissid>--</a></td></tr><tr><td> Nome host / rete </td><td><input id=hostname type=text size=20 maxlength=20></td></tr><tr><td> Always Need Password </td><td><input type=checkbox id=protected value=yes></td></tr><tr><td> Nuovo nome utente </td><td><input id=newusername type=text size=20 maxlength=20></td></tr><tr><td> Nuova password </td><td><input id=newpasswd type=password size=20 maxlength=16></td></tr><tr><td> Riscrivi nuova password </td><td><input id=newpasswd2 type=password size=20 maxlength=16></td></tr><tr><td colspan=2 id=passmatch> Le nuove password non si combinano !! </td></tr><tr><td> Usuário </td><td><input id=username type=text size=20 maxlength=20></td></tr><tr><td> Password </td><td><input id=password type=password size=20 maxlength=16></td></tr><tr><td><button id=savecfg>Salvar</button></td></tr><tr><td colspan=2 id=saveok> La nuova impostazione sar� effettiva dopo il riavvio. </td></tr><tr><td colspan=2 id=savefail> Aggiornamento fallito !! </td></tr></table></div><div class=fn id=brewlog-p><em>Brew Logs</em><button id=listfile>Atualizar</button><table id=loglist><tr><th style=width:30%> Log </th><th style=width:40%> Data </th><th> Action </th></tr><tr><td class=logid></td><td class=logdate></td><td><button class=dlbutton>Download</button><button class=viewbutton>View</button></td></tr></table><br><div id=vchart style=width:95%><span id=viewlogname></span><div id=vchart-canvas style=width:100%></div></div></div><div class=fn id=utility-p><fieldset class=commonset><legend> Volume </legend><input type=radio name=volume_unit id=volume_liter value=L> <label for=volume_liter id=liter_label>L</label> <input type=radio name=volume_unit id=volume_gallon value=G> <label for=volume_gallon id=gallon_label>gal</label> <input type=radio name=volume_unit id=volume_quart value=Q> <label for=volume_quart id=quart_label>qt</label></fieldset><fieldset class=commonset><legend> Peso </legend><input type=radio name=weight_unit id=weight_kg value=M> <label for=weight_kg id=kg_label>kg</label> <input type=radio name=weight_unit id=weight_lb value=U> <label for=weight_lb id=lb_label>lb</label></fieldset><fieldset class=commonset><legend> Temperatura </legend><input type=radio name=temp_unit id=temp_c value=C> <label for=temp_c>&deg;C</label> <input type=radio name=temp_unit id=temp_f value=F> <label for=temp_f>&deg;F</label></fieldset><br class=fieldsetspace><fieldset class=FWSG><legend> First Wort SG </legend><table><tr><th> Grains </th><td><input size=5 class="grain weightinput fwsg"><span class=weight_u>kg</span></td></tr><tr><th> Mash Water </th><td><input size=5 class="water volinput fwsg"><span class=vol_u>L</span></td></tr><tr><th> FW SG </th><td><span class=result></span></td></tr></table></fieldset><fieldset class=HYDROMETER><legend> Densímetro </legend><table><tr><th> Densidade </th><td><input size=5 value=1.0 class="hydroinput sgfraction"></td></tr><tr><th> Temperatura </th><td><input size=3 class="hydroinput tempinput sgtemp"><span class=tmp_u>&deg;C</span></td></tr><tr><th> Corretto a </th><td><input size=3 value=20 class="hydroinput tempinput correctedTemp"><span class=tmp_u>&deg;C</span></td></tr><tr><th> SG corretto: </th><td><span class=result></span></td></tr></table></fieldset><fieldset class=REFRACTO><legend> Refratômetro </legend><table><tr><th> Leitura </th><td><input size=3 class="brixinput brixreading">%</td></tr><tr><th> Wort Correction </th><td><input size=4 value=1.04 class="brixinput wortcorrection"></td></tr><tr><th> SG corretto: </th><td><span class=result></span></td></tr></table></fieldset><fieldset class=BOILOFF><legend> Boil Off </legend><table><tr><th> Gravit� attuale </th><td><input size=5 class="boiloffinput sg" value=1.0></td></tr><tr><th> Volume corrente </th><td><input size=5 class="boiloffinput vol" value=6><span class=vol_u>L</span></td></tr><tr><th> SG desejada </th><td><input size=5 class="boiloffinput newsg" value=1.0></td></tr><tr><th> Nuovo volume </th><td><span class=resultvol>--</span><span class=vol_u>L</span></td></tr><tr><th> Volume desejado </th><td><input size=5 class="boiloffinput newvol"><span class=vol_u>L</span></td></tr><tr><th> New SG </th><td><span class=resultsg>--</span></td></tr></table></fieldset></div><div class=fn id=about-p><p>BrewManiacEx<br>firmware version: <span id=firmware-version></span><br>HTML/JS version: <span id=js-version></span></p><p>By Vito Tai. <a href="http://vito.tw/?cat=11" target=_blank>More Info.</a></p><p>Powered by</p><ul><li><a href=http://jquery.com target=_blank>jQuery</a></li><li><a href=http://plugins.adchsm.me/slidebars/ target=_blank>Slidebars by Adam Smith</a></li><li><a href=http://olance.github.io/jQuery-switchButton/ target=_blank>jQuery UI iPhone-like Switch Button by Olivier Lance</a></li><li><a href=http://www.chartjs.org target=_blank>Chart.js</a></li></ul><div><select name=soundid id=soundid><option value=open>benvenuto benvenuto</option><option value=tr>Temperatura raggiunta</option><option value=addhop>Time To Add Hop</option><option value=addmalt>Aggiungi malto</option><option value=boil>Start Boil</option><option value=boilend>Boil Finish</option><option value=bye>Brew Finished!</option><option value=chill>Time to Chill</option><option value=cool>Time to Cool</option><option value=iodine>Time for Iodine</option><option value=maltin>Doughing In</option><option value=mashout>Mash Out</option><option value=nmash>Next Mash Step</option><option value=removemalt>Rimuovi malto</option><option value=whirlpool>Whirlpool</option><option value=disc>Desconectado</option></select> <button id=playsound>Play</button></div></div></div><div id=d_ConnectionError title="Errore!" class="dialog alert"><p> La connessione a BrewManiac � interrotta. Potrebbe trattarsi di un problema wireless o ESP8266. Controlla Brew il prima possibile. </p></div><div id=d_warning title="Attenzione!" class="no-close dialog"><ul><li> Non lasciare mai la tua birra incustodita! </li><li> La connessione wireless potrebbe essere instabile e lo stato potrebbe non essere sincronizzato. </li><li> Utilizzare a proprio rischio. </li></ul><label><input type=checkbox id=nshow class=dialog> Non mostrarlo pi�. </label> <span style=display:none class=button-ok>Accetto</span></div><div id=dialog-file title="Seleziona file" class=dialog><p><input type=file><span class=dialog-msg></span></p></div><div id=dialog-wifi title="Impostazioni di rete" style=width:380px class=dialog><div><label for=aponly>Solo AP:</label> <input type=checkbox id=aponly style=width:20%></div><div id=wifisetup style=text-align:left;display:inline-block;min-width:380px><hr><div id=networks><div class=nwlist><a href=# class=ssid> Rede </a>&nbsp;<span class=q></span></div><div id=scanningwifi> Scansione in corso ... </div></div><div class=c><a href=# id=scanwifi> Scan </a></div><form method=get action=#><input id=wifissidinput name=s length=32 placeholder=SSID><br><input id=wifipasswd name=p length=64 type=password placeholder=password><br><br><input id=staticip name=staticip length=1 placeholder="Static IP"><br><input id=gateway name=gateway length=1 placeholder=Gateway><br><input id=netmask name=netmask length=1 placeholder="Net Mask"><br><br><button type=submit id=savewifi>Salvar</button></form></div></div><div id=dialog-textcolor title="Imposta colore testo" class=dialog> Imposta codice colore: <p><input type=text size=10></p></div><div id=dialog-controller title="Controller Panel" class=dialog><table><tr><th style=text-align:left> Colors </th><td></td></tr><tr><th> Sfondo LCD: </th><td><input type=text size=10 id=lcdbgcolor></td></tr><tr><th> LCD Text </th><td><input type=text size=10 id=lcdtextcolor></td></tr><tr><th> Botões </th><td><input type=text size=10 id=buttoncolor></td></tr><tr><th> Pulsante premuto: </th><td><input type=text size=10 id=buttondowncolor></td></tr></table><div style=display:none><span id=dlg_ok>OK </span><span id=dlg_cancel>Annulla </span></div></div></body></html>